---
layout: release-notes
title: Release Notes for Debezium 2.1
debezium-version: "2.1"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-2.1.4-final]]
== *Release 2.1.4.Final* _(April 4th 2023)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12404213[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.4.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.4.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 2.1.4.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes

There are no breaking changes in this release.


=== New features

There are no new features in this release.


=== Fixes

* java.lang.NullPointerException in MySQL connector with max.queue.size.in.bytes https://issues.redhat.com/browse/DBZ-6104[DBZ-6104]
* debezium-connector-mysql failed to parse serveral DDLs of 'CREATE TABLE' https://issues.redhat.com/browse/DBZ-6124[DBZ-6124]
* Zerofill property failed for different int types https://issues.redhat.com/browse/DBZ-6185[DBZ-6185]
* GRANT DELETE HISTORY couldn't be parsed in mariadb https://issues.redhat.com/browse/DBZ-6186[DBZ-6186]
* ddl parse failed for key partition table https://issues.redhat.com/browse/DBZ-6188[DBZ-6188]
* Use CHARSET for alterByConvertCharset clause https://issues.redhat.com/browse/DBZ-6194[DBZ-6194]
* Data loss upon connector restart https://issues.redhat.com/browse/DBZ-6204[DBZ-6204]
* DDL statement couldn't be parsed: no viable alternative at input 'GRANT APPLICATION_PASSWORD_ADMIN' https://issues.redhat.com/browse/DBZ-6211[DBZ-6211]
* ParsingException: DDL statement couldn't be parsed https://issues.redhat.com/browse/DBZ-6217[DBZ-6217]
* The CHARACTER/CHARACTER(p)/CHARACTER VARYING(p) data types not recognized as JDBC type CHAR https://issues.redhat.com/browse/DBZ-6221[DBZ-6221]
* MySQL singleDeleteStatement parser does not support table alias https://issues.redhat.com/browse/DBZ-6243[DBZ-6243]
* Missing GEOMETRY keyword which can be used as column name https://issues.redhat.com/browse/DBZ-6250[DBZ-6250]
* MariaDB's UUID column type cannot be parsed when scheme is loaded https://issues.redhat.com/browse/DBZ-6255[DBZ-6255]
* Multiplatform build of example-postres fails https://issues.redhat.com/browse/DBZ-6258[DBZ-6258]
* Add protoc version property to postgres connector pom.xml https://issues.redhat.com/browse/DBZ-6261[DBZ-6261]
* Table names with spaces are not correctly deserialized when using an Infinispan cache as the transaction buffer https://issues.redhat.com/browse/DBZ-6273[DBZ-6273]
* Transaction buffer state can become corrupted when using Infinispan cache with LOBs https://issues.redhat.com/browse/DBZ-6275[DBZ-6275]


=== Other changes

* Update connector configuration examples in deployment instructions  https://issues.redhat.com/browse/DBZ-6153[DBZ-6153]
* Insert missing Nebel annotations for Oracle connector FAQ topic https://issues.redhat.com/browse/DBZ-6215[DBZ-6215]
* Add metadata for MongoDB change streams topic https://issues.redhat.com/browse/DBZ-6223[DBZ-6223]
* Deprecate MongoDb 4.0 https://issues.redhat.com/browse/DBZ-6246[DBZ-6246]
* Fix broken link to Streams documentation in shared deployment files https://issues.redhat.com/browse/DBZ-6263[DBZ-6263]
* Update config example in Installing Debezium on OpenShift https://issues.redhat.com/browse/DBZ-6267[DBZ-6267]
* Address review feedback in downstream RHEL and OCP installation guides https://issues.redhat.com/browse/DBZ-6272[DBZ-6272]
* Infinispan cache configuration used by Oracle tests are not compatible with Infinispan 14.0.2 https://issues.redhat.com/browse/DBZ-6274[DBZ-6274]
* Upgrade MySQL JDBC driver to 8.0.32 https://issues.redhat.com/browse/DBZ-6304[DBZ-6304]



[[release-2.1.3-final]]
== *Release 2.1.3.Final* _(March 9th 2023)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12400843[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.3.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.3.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 2.1.3.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes

SSN field from Oracle connector was propagated as INT32 in the source info block.
This could lead to overflows on certain installations so the field is now propagated as INT64 (https://issues.redhat.com/browse/DBZ-6091[DBZ-6091]).

Debezium was truncating on timezoned types milli/microsecond zeroes regardless of the schema width setting.
This is no longer the case and Debezium provides the correct number of trailing zeroes (https://issues.redhat.com/browse/DBZ-6163[DBZ-6163]).



=== New features

* Reduce verbosity of skipped transactions if transaction has no events relevant to captured tables https://issues.redhat.com/browse/DBZ-6094[DBZ-6094]
* Support String type for key in Mongo incremental snapshot https://issues.redhat.com/browse/DBZ-6116[DBZ-6116]
* Add hostname validator to connector configuration https://issues.redhat.com/browse/DBZ-6156[DBZ-6156]


=== Fixes

* ActivateTracingSpan wrong timestamps reported https://issues.redhat.com/browse/DBZ-5827[DBZ-5827]
* Postgresql Data Loss on restarts https://issues.redhat.com/browse/DBZ-5915[DBZ-5915]
* debezium-connector-cassandra 2.1.0.Alpha2 plugin can no longer run "out of the box" https://issues.redhat.com/browse/DBZ-5925[DBZ-5925]
* MongoDB Incremental Snapshot not Working https://issues.redhat.com/browse/DBZ-5973[DBZ-5973]
* Mask password in log statement https://issues.redhat.com/browse/DBZ-6064[DBZ-6064]
* Loading Custom offset storage fails with Class not found error https://issues.redhat.com/browse/DBZ-6075[DBZ-6075]
* SQL Server tasks fail if the number of databases is smaller than maxTasks https://issues.redhat.com/browse/DBZ-6084[DBZ-6084]
* GCP Spanner connector start failing when there are multiple indexes on a single column https://issues.redhat.com/browse/DBZ-6101[DBZ-6101]
* When using LOB support, an UPDATE against multiple rows can lead to inconsistent event data https://issues.redhat.com/browse/DBZ-6107[DBZ-6107]
* Negative remaining attempts on MongoDB reconnect case https://issues.redhat.com/browse/DBZ-6113[DBZ-6113]
* Tables with spaces or non-ASCII characters in their name are not captured by Oracle because they must be quoted. https://issues.redhat.com/browse/DBZ-6120[DBZ-6120]
* Offsets are not advanced in a CDB deployment with low frequency of changes to PDB https://issues.redhat.com/browse/DBZ-6125[DBZ-6125]
* Oracle TIMESTAMP WITH TIME ZONE is emitted as GMT during snapshot rather than the specified TZ https://issues.redhat.com/browse/DBZ-6143[DBZ-6143]
* Config options internal.schema.history.internal.ddl.filter not working https://issues.redhat.com/browse/DBZ-6190[DBZ-6190]


=== Other changes

* Prepare MongoDB ExtractNewDocumentState SMT doc for downstream GA https://issues.redhat.com/browse/DBZ-6006[DBZ-6006]
* Refactor OCP deployment job https://issues.redhat.com/browse/DBZ-6044[DBZ-6044]
* Refactor ARO deployment job https://issues.redhat.com/browse/DBZ-6045[DBZ-6045]
* Invalid links breaking downstream documentation build https://issues.redhat.com/browse/DBZ-6069[DBZ-6069]
* Remove references to adding configuration settings to a .properties file  https://issues.redhat.com/browse/DBZ-6130[DBZ-6130]
* Upgrade Quarkus dependencies to 2.16.3.Final https://issues.redhat.com/browse/DBZ-6150[DBZ-6150]
* Disable advance slot checking https://issues.redhat.com/browse/DBZ-6191[DBZ-6191]



[[release-2.1.1-final]]
== *Release 2.1.1.Final* _(December 22nd 2022)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12400296[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.1.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.1.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 2.1.1.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes

There are no breaking changes in this release.


=== New features

There are no new features in this release.


=== Fixes

* Spanner connector is missing JSR-310 dependency https://issues.redhat.com/browse/DBZ-5959[DBZ-5959]


=== Other changes

There are no other changes in this release.



[[release-2.1.2-final]]
== *Release 2.1.2.Final* _(January 26th 2023)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12400304[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.2.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.2.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 2.1.2.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes


`ZonedTimestamp` strings were sent with fractional second trailing zeroes removed.
Current behaviour is to provide the trailing zeroes padded to the length/scale of the source column (https://issues.redhat.com/browse/DBZ-5996[DBZ-5996]).



=== New features

* Remove redundant modifiers of members for interface fields https://issues.redhat.com/browse/DBZ-2439[DBZ-2439]
* Update the DBZ-UI documentation page to incorporate the recently added "Custom properties" step details https://issues.redhat.com/browse/DBZ-5878[DBZ-5878]
* Postgres LSN check should honor event.processing.failure.handling.mode https://issues.redhat.com/browse/DBZ-6012[DBZ-6012]
* Enhance the Spanner connector by adding features and/or solving bugs https://issues.redhat.com/browse/DBZ-6014[DBZ-6014]


=== Fixes

* Data type conversion failed for mysql bigint https://issues.redhat.com/browse/DBZ-5798[DBZ-5798]
* Oracle cannot undo change https://issues.redhat.com/browse/DBZ-5907[DBZ-5907]
* Truncate records incompatible with ExtractNewRecordState https://issues.redhat.com/browse/DBZ-5966[DBZ-5966]
* Computed partition must not be negative https://issues.redhat.com/browse/DBZ-5967[DBZ-5967]
* NPE in execute snapshot signal with exclude.tables config on giving wrong table name https://issues.redhat.com/browse/DBZ-5988[DBZ-5988]
* There is a problem with postgresql connector parsing the boundary value of money type https://issues.redhat.com/browse/DBZ-5991[DBZ-5991]
* Run PostgresConnectorIT.shouldReceiveChangesForChangeColumnDefault() failed https://issues.redhat.com/browse/DBZ-6002[DBZ-6002]
* Nullable columns marked with "optional: false" in DDL events https://issues.redhat.com/browse/DBZ-6003[DBZ-6003]
* Vitess: Handle the shard list difference between current db shards and persisted shards https://issues.redhat.com/browse/DBZ-6011[DBZ-6011]
* DDL statement with TokuDB engine specific "CLUSTERING KEY" couldn't be parsed https://issues.redhat.com/browse/DBZ-6016[DBZ-6016]
* DDL parse fail for role revoke with "user-like" role name https://issues.redhat.com/browse/DBZ-6019[DBZ-6019]
* DDL parse fail for ALTER USER x DEFAULT ROLE y; https://issues.redhat.com/browse/DBZ-6020[DBZ-6020]
* Offsets are not flushed on connect offsets topic when encountering an error on Postgres connector https://issues.redhat.com/browse/DBZ-6026[DBZ-6026]
* Unexpected format for TIME column: 8:00 https://issues.redhat.com/browse/DBZ-6029[DBZ-6029]
* Oracle does not support compression/logging clauses after an LOB storage clause https://issues.redhat.com/browse/DBZ-6031[DBZ-6031]
* Debezium is logging the full message along with the error https://issues.redhat.com/browse/DBZ-6037[DBZ-6037]
* Improve resilience during internal schema history recovery from Kafka https://issues.redhat.com/browse/DBZ-6039[DBZ-6039]


=== Other changes

* Plug-in version information duplicated https://issues.redhat.com/browse/DBZ-4669[DBZ-4669]
* Remove incubating documentation text for MongoDB ExtractNewDocumentState SMT  https://issues.redhat.com/browse/DBZ-5975[DBZ-5975]
* Upgrade Apicurio to 2.4.1.Final https://issues.redhat.com/browse/DBZ-5977[DBZ-5977]
* Upgrade JDBC driver to 42.5.1 https://issues.redhat.com/browse/DBZ-5980[DBZ-5980]
* Migrate connector triggers to gitlab https://issues.redhat.com/browse/DBZ-5992[DBZ-5992]
* SQL Server IncrementalSnapshotWithRecompileIT fails randomly https://issues.redhat.com/browse/DBZ-6035[DBZ-6035]



[[release-2.1.0-final]]
== *Release 2.1.0.Final* _(December 22nd 2022)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12400034[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.0.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.0.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 2.1.0.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes

MongoDB Debezium connector required streaming from primary node in the cluster.
This is no longer necessary and the connector prefers reading from non-primary node (https://issues.redhat.com/browse/DBZ-4339[DBZ-4339]).

Vitess Debezium connector now supports snapshotting.
This means that upon new connector start the existing content will be snapshotted by default (https://issues.redhat.com/browse/DBZ-5930[DBZ-5930]).



=== New features

* Implement support for JSON_TABLE in MySQL parser https://issues.redhat.com/browse/DBZ-3575[DBZ-3575]
* Provide Debezium Spanner connector https://issues.redhat.com/browse/DBZ-5937[DBZ-5937]
* Print the readable data class name in JdbcValueConverters.handleUnknownData https://issues.redhat.com/browse/DBZ-5946[DBZ-5946]


=== Fixes

* Cannot expand JSON payload with nested arrays of objects https://issues.redhat.com/browse/DBZ-5344[DBZ-5344]
* field.exclude.list in MongoDB Connector v2.0 doesn't accept * as a wildcard for collectionName https://issues.redhat.com/browse/DBZ-5818[DBZ-5818]
* Debezium UI documentation link is not accessible to the user via documentation side navigation menu. https://issues.redhat.com/browse/DBZ-5900[DBZ-5900]
* Toasted json/int/bigint arrays are not properly processed https://issues.redhat.com/browse/DBZ-5936[DBZ-5936]
* No table filters found for filtered publication https://issues.redhat.com/browse/DBZ-5949[DBZ-5949]


=== Other changes

There are no other changes in this release.



[[release-2.1.0-beta1]]
== *Release 2.1.0.Beta1* _(December 16th 2022)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12399345[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.0.Beta1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.0.Beta1 plugin files, and restart the connector using the same configuration.
Upon restart, the 2.1.0.Beta1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes

The Cassandra range tombstone information was a plain string.
Now logical object with parsed data and types is provided (https://issues.redhat.com/browse/DBZ-5912[DBZ-5912]).

The Cassandra TimeUUID datatype was propadagated as binary object but documented as string.
This was incorrect and it is now propagated as string (https://issues.redhat.com/browse/DBZ-5923[DBZ-5923]).



=== New features

* Postgres: Disable LSN confirmation to database https://issues.redhat.com/browse/DBZ-5811[DBZ-5811]
* Realize data distribution according to specified fields https://issues.redhat.com/browse/DBZ-5847[DBZ-5847]
* Support predicate parameters in Debezium Server https://issues.redhat.com/browse/DBZ-5940[DBZ-5940]
* Use the Patternfly database icon as a placeholder for Oracle Database https://issues.redhat.com/browse/DBZ-5941[DBZ-5941]


=== Fixes

* Handle toasted String array https://issues.redhat.com/browse/DBZ-4941[DBZ-4941]
* Cassandra deletes log files on exit when real time processing is enabled https://issues.redhat.com/browse/DBZ-5776[DBZ-5776]
* ReplicationConnectionIT test fails https://issues.redhat.com/browse/DBZ-5800[DBZ-5800]
* MongoDB docs for incremental snapshots is SQL specific https://issues.redhat.com/browse/DBZ-5804[DBZ-5804]
* Conflicting documentation for snapshot.mode property in MongoDB connector v2.0 https://issues.redhat.com/browse/DBZ-5812[DBZ-5812]
* IllegalStateException is thrown if task is recovering while other tasks are running https://issues.redhat.com/browse/DBZ-5855[DBZ-5855]
* Negative decimal number scale is not supported by Avro https://issues.redhat.com/browse/DBZ-5880[DBZ-5880]
* Connector deployment instructions provide incorrect Maven path for Debezium scripting component  https://issues.redhat.com/browse/DBZ-5882[DBZ-5882]
* Incorrect Streams Kafka version in connector deployment instructions for creating a custom image https://issues.redhat.com/browse/DBZ-5883[DBZ-5883]
* Run postgres connector RecordsStreamProducerIT failed https://issues.redhat.com/browse/DBZ-5895[DBZ-5895]
* Suppport INSERT INTO statements with dots in column names  https://issues.redhat.com/browse/DBZ-5904[DBZ-5904]
* Incorrect default value for additional-condition docs https://issues.redhat.com/browse/DBZ-5906[DBZ-5906]
* ConnectorLifecycle is not logging anymore the exception stacktrace when startup fails https://issues.redhat.com/browse/DBZ-5908[DBZ-5908]
* Debezium Server stops with NPE when Redis does not report the "maxmemory" field in "info memory" command https://issues.redhat.com/browse/DBZ-5911[DBZ-5911]
* PostgresConnectorIT#shouldAckLsnOnSourceByDefault and #shouldNotAckLsnOnSource fails https://issues.redhat.com/browse/DBZ-5914[DBZ-5914]
* SQL Server connector database.instance config option is ignored https://issues.redhat.com/browse/DBZ-5924[DBZ-5924]
* Wrong java version in Installing Debezium documentation https://issues.redhat.com/browse/DBZ-5928[DBZ-5928]
* Toasted varchar array is not correctly processed https://issues.redhat.com/browse/DBZ-5944[DBZ-5944]


=== Other changes

* Use static import for Assertions in all tests https://issues.redhat.com/browse/DBZ-2432[DBZ-2432]
* Test window function in MySQL parser https://issues.redhat.com/browse/DBZ-3576[DBZ-3576]
* Run test against Apicurio registry https://issues.redhat.com/browse/DBZ-5838[DBZ-5838]
* Add tests against multinode RS and (ideally) sharded cluster  https://issues.redhat.com/browse/DBZ-5857[DBZ-5857]
* Update documentation for Debezium Server with Cassandra Connector https://issues.redhat.com/browse/DBZ-5885[DBZ-5885]
* Allow CI deploy clusters to PSI https://issues.redhat.com/browse/DBZ-5887[DBZ-5887]
* Mariadb and Mysql have different syntax https://issues.redhat.com/browse/DBZ-5888[DBZ-5888]
* Execute IT tests in alphabetical order https://issues.redhat.com/browse/DBZ-5889[DBZ-5889]
* Migrate debezium-server-nats-jetstream to AssertJ https://issues.redhat.com/browse/DBZ-5901[DBZ-5901]
* Reduce jenkins jobs footprint https://issues.redhat.com/browse/DBZ-5905[DBZ-5905]
* Move Debezium Cassandra connector out from incubation https://issues.redhat.com/browse/DBZ-5922[DBZ-5922]
* Clean up "doSnapshot" config code https://issues.redhat.com/browse/DBZ-5931[DBZ-5931]
* Version badge on README in Cassandra connector is stuck https://issues.redhat.com/browse/DBZ-5932[DBZ-5932]
* Make startup of Cassandra container faster https://issues.redhat.com/browse/DBZ-5933[DBZ-5933]
* Fix logging for tests for Cassandra connector https://issues.redhat.com/browse/DBZ-5934[DBZ-5934]



[[release-2.1.0-alpha2]]
== *Release 2.1.0.Alpha2* _(November 30th 2022)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12398904[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.0.Alpha2 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.0.Alpha2 plugin files, and restart the connector using the same configuration.
Upon restart, the 2.1.0.Alpha2 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes

Debezium REST extension was not deployed in Debezium container and has to be added by the user.
This is no longer necessary as the REST expension is included (https://issues.redhat.com/browse/DBZ-4303[DBZ-4303]).

Debezium images were upgraded to use Fedora 37 (https://issues.redhat.com/browse/DBZ-5461[DBZ-5461]).

PostgreSQL connector could resume streaming from re-created replication slot even if it no longer contained data that connector has not seen.
The result could be a silent data loss.
Now the connector checks if the resume point is present and fails to start if it is not (https://issues.redhat.com/browse/DBZ-5739[DBZ-5739]).



=== New features

* Expose Cassandra Connector via Debezium Server https://issues.redhat.com/browse/DBZ-2098[DBZ-2098]
* Validate Debezium Server configuration properties https://issues.redhat.com/browse/DBZ-4720[DBZ-4720]
* Enable pass-thru of additional config options in Debezium UI https://issues.redhat.com/browse/DBZ-5324[DBZ-5324]
* Sink adapter for Nats JetStream https://issues.redhat.com/browse/DBZ-5772[DBZ-5772]
* Replace obsolete DebeziumDownload attribute https://issues.redhat.com/browse/DBZ-5835[DBZ-5835]
* Reduce container image sizes by consolidating operations per layer https://issues.redhat.com/browse/DBZ-5864[DBZ-5864]
* Typo error in Oracle connector documentation 2.0 https://issues.redhat.com/browse/DBZ-5877[DBZ-5877]


=== Fixes

* Embedded Engine or Server retrying indefinitely on all types of retriable errors https://issues.redhat.com/browse/DBZ-5661[DBZ-5661]
* PostgreSQL missing metadata info https://issues.redhat.com/browse/DBZ-5789[DBZ-5789]
* For outbox transformation, when 'table.expand.json.payload' is set to true null values are not correctly deserialized https://issues.redhat.com/browse/DBZ-5796[DBZ-5796]
* Cassandra decimal values are not deserialized using Debezium Cassandra Connector https://issues.redhat.com/browse/DBZ-5807[DBZ-5807]
* Cassandra varint type is currently not supported https://issues.redhat.com/browse/DBZ-5808[DBZ-5808]
* 'topic.prefix' default value in MongoDB connector v2.0 https://issues.redhat.com/browse/DBZ-5817[DBZ-5817]
* Quarkus outbox extention never finishes the open tracing span https://issues.redhat.com/browse/DBZ-5821[DBZ-5821]
* fix names of range fields in schema to comply with Avro standard https://issues.redhat.com/browse/DBZ-5826[DBZ-5826]
* ExtractNewDocumentState does not support updateDescription.updatedFields field https://issues.redhat.com/browse/DBZ-5834[DBZ-5834]
* CREATE/ALTER user does not support COMMENT token https://issues.redhat.com/browse/DBZ-5836[DBZ-5836]
* Invalid Java object for schema with type FLOAT64: class java.lang.Float https://issues.redhat.com/browse/DBZ-5843[DBZ-5843]
* Message contents might not get logged in case of error https://issues.redhat.com/browse/DBZ-5874[DBZ-5874]
* CREATE/ALTER user does not support ATTRIBUTE token https://issues.redhat.com/browse/DBZ-5876[DBZ-5876]


=== Other changes

* SQL table rename affect on Kafka connector and topic https://issues.redhat.com/browse/DBZ-5423[DBZ-5423]
* Create RHAF version of Debezium docs https://issues.redhat.com/browse/DBZ-5729[DBZ-5729]
* Add Debezium doc section to RHAF https://issues.redhat.com/browse/DBZ-5730[DBZ-5730]
* Create new Debezium section in the docs. https://issues.redhat.com/browse/DBZ-5731[DBZ-5731]
* Add Debezium docs to DDF https://issues.redhat.com/browse/DBZ-5732[DBZ-5732]
* Create ARO provisioning job https://issues.redhat.com/browse/DBZ-5742[DBZ-5742]
* Amend Confluent Avro converter installation documentation https://issues.redhat.com/browse/DBZ-5762[DBZ-5762]
* Modify ocp system tests to archive test results and logs https://issues.redhat.com/browse/DBZ-5785[DBZ-5785]
* GitHub Actions: Deprecating save-state and set-output commands https://issues.redhat.com/browse/DBZ-5824[DBZ-5824]
* Change logging levels of several schema change handler log entries https://issues.redhat.com/browse/DBZ-5833[DBZ-5833]
* Revert running tests against Apicurio registry https://issues.redhat.com/browse/DBZ-5839[DBZ-5839]
* Add Kubernetes plugin to Jenkins https://issues.redhat.com/browse/DBZ-5844[DBZ-5844]
* OracleConnectorIT shouldIgnoreAllTablesInExcludedSchemas test may randomly fail https://issues.redhat.com/browse/DBZ-5850[DBZ-5850]
* Upgrade wildfly-elytron to 1.15.5 / 1.16.1 due to CVE-2021-3642 https://issues.redhat.com/browse/DBZ-5854[DBZ-5854]
* Upgrade PostgreSQL example images to Postgres 15 https://issues.redhat.com/browse/DBZ-5860[DBZ-5860]
* GitHub Actions deprecation of Node 12 - actions/checkout https://issues.redhat.com/browse/DBZ-5870[DBZ-5870]



[[release-2.1.0-alpha1]]
== *Release 2.1.0.Alpha1* _(November 10th 2022)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12397585[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.1.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.1.0.Alpha1 plugin files, and restart the connector using the same (when upgrading from the same major version) or updated (when upgrading from an older major version) configuration.
Upon restart, the 2.1.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://hub.docker.com/u/debezium[DockerHub].


=== Breaking changes

There are no breaking changes in this release.


=== New features

* Support for Postgres 15 https://issues.redhat.com/browse/DBZ-5370[DBZ-5370]
* Add support for SMT predicates in Debezium Engine https://issues.redhat.com/browse/DBZ-5530[DBZ-5530]
* MySQL Connector capture TRUNCATE command as message in table topic https://issues.redhat.com/browse/DBZ-5610[DBZ-5610]
* Improve LogMiner query performance by reducing REGEXP_LIKE disjunctions https://issues.redhat.com/browse/DBZ-5648[DBZ-5648]
* Expose heartbeatFrequency setting for mongodb connector https://issues.redhat.com/browse/DBZ-5736[DBZ-5736]
* Provide Redis storage as store module https://issues.redhat.com/browse/DBZ-5749[DBZ-5749]
* Redis Sink wait for Redis Replica writes https://issues.redhat.com/browse/DBZ-5752[DBZ-5752]
* Redis sink back-pressure mechanism when Redis memory is almost full https://issues.redhat.com/browse/DBZ-5782[DBZ-5782]
* Enhance the ability to sanitize topic name https://issues.redhat.com/browse/DBZ-5790[DBZ-5790]


=== Fixes

* Using snapshot boundary mode "all" causes DebeziumException on Oracle RAC https://issues.redhat.com/browse/DBZ-5302[DBZ-5302]
* ORA-01003: no statement parsed https://issues.redhat.com/browse/DBZ-5352[DBZ-5352]
* Missing snapshot pending transactions https://issues.redhat.com/browse/DBZ-5482[DBZ-5482]
* Db2 documentation refers to invalid SMALLMONEY and MONEY data types  https://issues.redhat.com/browse/DBZ-5504[DBZ-5504]
* Using snapshot.mode ALWAYS uses SCN from offsets https://issues.redhat.com/browse/DBZ-5626[DBZ-5626]
* MongoDB multiple tasks monitor misalignment https://issues.redhat.com/browse/DBZ-5629[DBZ-5629]
* UNIQUE INDEX with NULL value throws exception when lob.enabled is true https://issues.redhat.com/browse/DBZ-5682[DBZ-5682]
* Oracle SQL parsing error when collation used https://issues.redhat.com/browse/DBZ-5726[DBZ-5726]
* Columns are not excluded when doing incremental snapshots https://issues.redhat.com/browse/DBZ-5727[DBZ-5727]
* Unparseable DDL statement https://issues.redhat.com/browse/DBZ-5734[DBZ-5734]
* NullPointerException thrown during snapshot of tables in Oracle source connector https://issues.redhat.com/browse/DBZ-5738[DBZ-5738]
* Remove note from snapshot metrics docs file that flags incremental snapshots as TP feature https://issues.redhat.com/browse/DBZ-5748[DBZ-5748]
* Hostname not available for load balanced ocp services in ARO https://issues.redhat.com/browse/DBZ-5753[DBZ-5753]
* Exclude Oracle Compression Advisor tables from capture to avoid infinite loop https://issues.redhat.com/browse/DBZ-5756[DBZ-5756]
* More Oracle logging  https://issues.redhat.com/browse/DBZ-5759[DBZ-5759]
* Oracle should only log row contents at TRACE level https://issues.redhat.com/browse/DBZ-5760[DBZ-5760]
* Update system test artifact preparation to reflect naming changes in downstream https://issues.redhat.com/browse/DBZ-5767[DBZ-5767]
* Outbox Router documentation outdated regarding value converter https://issues.redhat.com/browse/DBZ-5770[DBZ-5770]
* Using DBMS_LOB.ERASE by itself can lead to an unexpected UPDATE with null BLOB value https://issues.redhat.com/browse/DBZ-5773[DBZ-5773]
* Suppress logging of undetermined optionality for explicitly excluded columns https://issues.redhat.com/browse/DBZ-5783[DBZ-5783]
* Oracle connector does not attempt restart when ORA-01089 exception is nested https://issues.redhat.com/browse/DBZ-5791[DBZ-5791]
* Message with LSN 'LSN{XYZ}' not present among LSNs seen in the location phase https://issues.redhat.com/browse/DBZ-5792[DBZ-5792]
* The merge method of configuration is not work https://issues.redhat.com/browse/DBZ-5801[DBZ-5801]
* Mysql connector alter table with database name parse failed https://issues.redhat.com/browse/DBZ-5802[DBZ-5802]


=== Other changes

* Execute tests with Apicurio converters https://issues.redhat.com/browse/DBZ-2131[DBZ-2131]
* Revision info missing on website https://issues.redhat.com/browse/DBZ-5083[DBZ-5083]
* Debezium on ARO sanity testing https://issues.redhat.com/browse/DBZ-5647[DBZ-5647]
* SQL Server connector docs should mention multi-task support https://issues.redhat.com/browse/DBZ-5714[DBZ-5714]
* Remove downstream TP designation for RAC content in Oracle connector docs  https://issues.redhat.com/browse/DBZ-5735[DBZ-5735]
* Update Pulsar client to 2.10.1 https://issues.redhat.com/browse/DBZ-5737[DBZ-5737]
* Parametrize Strimzi operator name to enable multiple testsuites running on same cluster  https://issues.redhat.com/browse/DBZ-5744[DBZ-5744]
* Enable CI to report results to ReportPortal instance https://issues.redhat.com/browse/DBZ-5745[DBZ-5745]
* Debezium connectors ship with an old version of google-protobuf vulnerable to CVE-2022-3171 https://issues.redhat.com/browse/DBZ-5747[DBZ-5747]
* Testsuite unable to connect to SQLServer due to encryption  https://issues.redhat.com/browse/DBZ-5763[DBZ-5763]
* Testsuite uses incorrect jdbc driver class for SQLServer with docker https://issues.redhat.com/browse/DBZ-5764[DBZ-5764]
* Upgrade com.jayway.jsonpath:json-path https://issues.redhat.com/browse/DBZ-5766[DBZ-5766]
* Product profile is not used when running Oracle matrix against downstream https://issues.redhat.com/browse/DBZ-5768[DBZ-5768]
* Upgrade to Quarkus 2.14.CR1 https://issues.redhat.com/browse/DBZ-5774[DBZ-5774]
* Switch from Fest to AssertJ https://issues.redhat.com/browse/DBZ-5779[DBZ-5779]
* Upgrade postgres driver to version 42.5.0 https://issues.redhat.com/browse/DBZ-5780[DBZ-5780]
* Upgrade to Quarkus 2.14.0.Final https://issues.redhat.com/browse/DBZ-5786[DBZ-5786]
* Doc Typo in cloudevents https://issues.redhat.com/browse/DBZ-5788[DBZ-5788]
* Fix DB2 reporting script path https://issues.redhat.com/browse/DBZ-5799[DBZ-5799]
* Add ORA-01555 to Oracle documentation https://issues.redhat.com/browse/DBZ-5816[DBZ-5816]
* Change visibility of BaseSourceTask#logStatistics method to protected  https://issues.redhat.com/browse/DBZ-5822[DBZ-5822]
* Upgrade Postgres images to Debian 11 https://issues.redhat.com/browse/DBZ-5823[DBZ-5823]

