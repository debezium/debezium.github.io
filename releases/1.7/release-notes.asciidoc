---
layout: release-notes
title: Release Notes for Debezium 1.7
debezium-version: "1.7"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-1.7.2-final]]
== *Release 1.7.2.Final* _(December 14th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12377372[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.8.1 and has been tested with version 2.8.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.7.2.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.7.2.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.7.2.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

Oracle connector inserts a placeholder value for unavaliable CLOB/BLOB columns (https://issues.redhat.com/browse/DBZ-4276[DBZ-4276]).


=== New Features

* Support passing an unavailable placeholder value for CLOB/BLOB column types https://issues.redhat.com/browse/DBZ-4276[DBZ-4276]


=== Fixes

* None of log files contains offset SCN (SCN offset is no longer available in the online redo logs) https://issues.redhat.com/browse/DBZ-3635[DBZ-3635]
* Postgres testsuite hangs on PostgresConnectorIT#exportedSnapshotShouldNotSkipRecordOfParallelTx https://issues.redhat.com/browse/DBZ-4081[DBZ-4081]
* Container images for Apache Kafka and ZooKeeper fail to start up https://issues.redhat.com/browse/DBZ-4160[DBZ-4160]
* Debezium log miner processes get terminated with ORA-04030 error in idle database environment. https://issues.redhat.com/browse/DBZ-4204[DBZ-4204]
* Debezium Metrics not being set correctly https://issues.redhat.com/browse/DBZ-4222[DBZ-4222]
* DDL statement couldn't be parsed https://issues.redhat.com/browse/DBZ-4224[DBZ-4224]
* Exception ORA-00310 is not gracefully handled during streaming https://issues.redhat.com/browse/DBZ-4230[DBZ-4230]
* Reduce verbosity of logging Oracle memory metrics https://issues.redhat.com/browse/DBZ-4255[DBZ-4255]
* Signal based incremental snapshot is failing when launched right after a schema change https://issues.redhat.com/browse/DBZ-4272[DBZ-4272]
* [Debezium Server] Event Hubs exporter slow/Event data was too large https://issues.redhat.com/browse/DBZ-4277[DBZ-4277]
* ParsingException: DDL statement couldn't be parsed https://issues.redhat.com/browse/DBZ-4280[DBZ-4280]
* some data type is not working for sending signals to a Debezium connector https://issues.redhat.com/browse/DBZ-4298[DBZ-4298]
* NullPointerException may be thrown when validating table and column lengths https://issues.redhat.com/browse/DBZ-4308[DBZ-4308]
* RelationalChangeRecordEmitter calls "LoggerFactory.getLogger(getClass())" for each instance of the emitter https://issues.redhat.com/browse/DBZ-4309[DBZ-4309]
*  support for JSON function in MySQL index https://issues.redhat.com/browse/DBZ-4320[DBZ-4320]
* Avoid holding table metadata lock in read-only incremental snapshots https://issues.redhat.com/browse/DBZ-4331[DBZ-4331]
* Incremental Snapshot does not pick up table https://issues.redhat.com/browse/DBZ-4343[DBZ-4343]
* DDL couldn't be parsed: 'analyze table schema.table estimate statistics sample 5 percent;' https://issues.redhat.com/browse/DBZ-4396[DBZ-4396]
*  Xstream support with LOB unavailable value placeholder support is inconsistent https://issues.redhat.com/browse/DBZ-4422[DBZ-4422]
* Oracle Infinispan buffer fails to serialize unavailable value placeholders https://issues.redhat.com/browse/DBZ-4425[DBZ-4425]


=== Other changes

* Upgrade to Apicurio Registry 2.0 (QE, docs) https://issues.redhat.com/browse/DBZ-3629[DBZ-3629]
* Misc. documentation changes for the Debezium MySQL connector https://issues.redhat.com/browse/DBZ-3974[DBZ-3974]
* Promote Outbox SMT to GA https://issues.redhat.com/browse/DBZ-4012[DBZ-4012]
* Document incremental chunk size setting https://issues.redhat.com/browse/DBZ-4127[DBZ-4127]
* Upgrade MySQL JDBC driver to 8.0.27 https://issues.redhat.com/browse/DBZ-4286[DBZ-4286]
* OracleClobDataTypeIT shouldNotStreamAnyChangesWhenLobEraseIsDetected may fail randomly https://issues.redhat.com/browse/DBZ-4384[DBZ-4384]
* Optionally assemble Oracle connector distribution without Infinispan https://issues.redhat.com/browse/DBZ-4446[DBZ-4446]
* Drop JMS Appender class during container build https://issues.redhat.com/browse/DBZ-4447[DBZ-4447]



[[release-1.7.1-final]]
== *Release 1.7.1.Final* _(November 5th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12374936[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.8.1 and has been tested with version 2.8.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.7.1.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.7.1.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.7.1.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in this release.


=== New Features

* Store buffered events in separate Infinispan cache https://issues.jboss.org/browse/DBZ-4159[DBZ-4159]
* Log warning when table/column name exceeds maximum allowed by LogMiner https://issues.jboss.org/browse/DBZ-4161[DBZ-4161]
* Process transaction started/committed in MySQL read-only incremental snapshot https://issues.jboss.org/browse/DBZ-4197[DBZ-4197]


=== Fixes

* Row hashing in LogMiner Query not able to differentiate between rows of a statement. https://issues.jboss.org/browse/DBZ-3834[DBZ-3834]
* The chunk select statement is incorrect for combined primary key in incremental snapshot https://issues.jboss.org/browse/DBZ-3860[DBZ-3860]
* Cassandra UUID handling https://issues.jboss.org/browse/DBZ-3885[DBZ-3885]
* Infinispan SPI throws NPE with more than one connector configured to the same Oracle database https://issues.jboss.org/browse/DBZ-4064[DBZ-4064]
* Debezium Server might contain driver versions pulled from Quarkus https://issues.jboss.org/browse/DBZ-4070[DBZ-4070]
* Database history is constantly being reconfigured https://issues.jboss.org/browse/DBZ-4106[DBZ-4106]
* Oracle flush table should not contain multiple rows https://issues.jboss.org/browse/DBZ-4118[DBZ-4118]
* SQL Server Connector fails to wrap in flat brackets https://issues.jboss.org/browse/DBZ-4125[DBZ-4125]
* Oracle Connector DDL Parsing Exception https://issues.jboss.org/browse/DBZ-4126[DBZ-4126]
* Debezium deals with Oracle DDL appeared IndexOutOfBoundsException: Index: 0, Size: 0 https://issues.jboss.org/browse/DBZ-4135[DBZ-4135]
* Error: PostgresDefaultValueConverter - Cannot parse column default value 'NULL::numeric' to type 'numeric'. Expression evaluation is not supported. https://issues.jboss.org/browse/DBZ-4137[DBZ-4137]
* Possible OutOfMemoryError with tracking schema changes https://issues.jboss.org/browse/DBZ-4151[DBZ-4151]
* DDL ParsingException - not all table compression modes are supported https://issues.jboss.org/browse/DBZ-4158[DBZ-4158]
* Producer failure NullPointerException https://issues.jboss.org/browse/DBZ-4166[DBZ-4166]
* DDL statement couldn't be parsed - Modify Column https://issues.jboss.org/browse/DBZ-4174[DBZ-4174]
* OracleSchemaMigrationIT#shouldNotEmitDdlEventsForNonTableObjects fails for Xstream https://issues.jboss.org/browse/DBZ-4186[DBZ-4186]
* Certain LogMiner-specific tests are not being skipped while using Xstreams https://issues.jboss.org/browse/DBZ-4188[DBZ-4188]
* DML statement couldn't be parsed https://issues.jboss.org/browse/DBZ-4194[DBZ-4194]
* io.debezium.text.ParsingException: DDL statement couldn't be parsed. Please open a Jira issue with the statement 'DROP TABLE IF EXISTS condition' https://issues.jboss.org/browse/DBZ-4210[DBZ-4210]
* Support MySQL Dual Passwords in DDL Parser https://issues.jboss.org/browse/DBZ-4215[DBZ-4215]
* CREATE PROCEDURE DDL throws ParsingException https://issues.jboss.org/browse/DBZ-4229[DBZ-4229]
* CHAR / NCHAR precision is not correctly derived from DDL statements https://issues.jboss.org/browse/DBZ-4233[DBZ-4233]


=== Other changes

* Incorrect documentation for message.key.columns https://issues.jboss.org/browse/DBZ-3437[DBZ-3437]
* Document awareness of Oracle database tuning https://issues.jboss.org/browse/DBZ-3880[DBZ-3880]
* Please fix vulnerabilites https://issues.jboss.org/browse/DBZ-3926[DBZ-3926]
* Handle SCN gap  https://issues.jboss.org/browse/DBZ-4036[DBZ-4036]
* Upgrade to Apache Kafka 2.8.1 https://issues.jboss.org/browse/DBZ-4108[DBZ-4108]
* Missing documentation for max.iteration.transactions option https://issues.jboss.org/browse/DBZ-4129[DBZ-4129]
* Misc. MongoDB connector docs fixes https://issues.jboss.org/browse/DBZ-4149[DBZ-4149]
* Document Oracle buffering solutions https://issues.jboss.org/browse/DBZ-4157[DBZ-4157]



[[release-1.7.0-final]]
== *Release 1.7.0.Final* _(September 30th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12374879[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.8.0 and has been tested with version 2.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.7.0.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.7.0.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.7.0.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

For the incubating Debezium Cassandra connector, the field format emitted for `UUID` columns has changed; instead of using a `base64` representation like `"AA4AAFcZEqMAAAAAKDJ9Sg=="`, the more common UUID string representation is used now, such as `"000e0000-5719-12a3-0000-000028327d4a"` (https://issues.jboss.org/browse/DBZ-3885)[DBZ-3885].


=== New Features

* DBZ-UI - Provide list of configurations https://issues.jboss.org/browse/DBZ-3960[DBZ-3960]
* add ProtobufConverter for Cassandra CDC https://issues.redhat.com/browse/DBZ-3906[DBZ-3906]


=== Fixes

* java.lang.RuntimeException: com.microsoft.sqlserver.jdbc.SQLServerException: The connection is closed https://issues.jboss.org/browse/DBZ-3346[DBZ-3346]
* Oracle connector unable to start in archive only mode https://issues.jboss.org/browse/DBZ-3712[DBZ-3712]
* DDL statement couldn't be parsed https://issues.jboss.org/browse/DBZ-4026[DBZ-4026]
* Question about handling Raw column types https://issues.jboss.org/browse/DBZ-4037[DBZ-4037]
* Fixing wrong log dir location in Kafka container image https://issues.jboss.org/browse/DBZ-4048[DBZ-4048]
* Incremental snapshotting of a table can be prematurely terminated after restart https://issues.jboss.org/browse/DBZ-4057[DBZ-4057]
* Documentation - Setting up Db2 - Step 10 (Start the ASN agent) is not accurate https://issues.jboss.org/browse/DBZ-4044[DBZ-4044]
* Debezium Server uses MySQL driver version as defined in Quarkus not in Debezium https://issues.jboss.org/browse/DBZ-4049[DBZ-4049]
* Events are missed with Oracle connector due to LGWR buffer not being flushed to redo logs https://issues.jboss.org/browse/DBZ-4067[DBZ-4067]
* Postgres JDBC Driver version causes connection issues on some cloud Postgres instances https://issues.jboss.org/browse/DBZ-4060[DBZ-4060]
* nulls for some MySQL properties in the connector-types backend response https://issues.redhat.com/browse/DBZ-3108[DBZ-3108]


=== Other changes

* Oracle IncrementalSnapshotIT invalid table test fails https://issues.jboss.org/browse/DBZ-4040[DBZ-4040]
* Document how to enable schema for JSON messages https://issues.jboss.org/browse/DBZ-4041[DBZ-4041]
* Trigger contributor check action only when PR is opened https://issues.jboss.org/browse/DBZ-4058[DBZ-4058]
* Provide JMH benchmark for ChangeEventQueue https://issues.jboss.org/browse/DBZ-4050[DBZ-4050]
* Commit message action fails for multi-line commit messages https://issues.jboss.org/browse/DBZ-4047[DBZ-4047]



[[release-1.7.0-cr2]]
== *Release 1.7.0.CR2* _(September 23rd, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12374333[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.8.0 and has been tested with version 2.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.7.0.CR2 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.7.0.CR2 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.7.0.CR2 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in this release.


=== New Features

* Support read-only MySQL connection in incremental snapshot https://issues.jboss.org/browse/DBZ-3577[DBZ-3577]


=== Fixes

* Connection failure after snapshot wasn't executed for a while https://issues.jboss.org/browse/DBZ-3951[DBZ-3951]
* Oracle-Connector fails parsing a DDL statement https://issues.jboss.org/browse/DBZ-3977[DBZ-3977]
* Oracle connector fails after error ORA-01327 https://issues.jboss.org/browse/DBZ-4010[DBZ-4010]
* Incorrect incremental snapshot DDL triggers snapshot that generates unending* inserts against signalling table https://issues.jboss.org/browse/DBZ-4013[DBZ-4013]
* Oracle-Connector fails parsing a DDL statement (truncate partition) https://issues.jboss.org/browse/DBZ-4017[DBZ-4017]


=== Other changes

* Jenkins build node is based on RHEL 8.0 and requires upgrade https://issues.jboss.org/browse/DBZ-3690[DBZ-3690]
* Remove `GRANT ALTER ANY TABLE` from Oracle documentation https://issues.jboss.org/browse/DBZ-4007[DBZ-4007]
* Update deploy action configuration for v3 https://issues.jboss.org/browse/DBZ-4009[DBZ-4009]
* Website preview via surge.sh https://issues.jboss.org/browse/DBZ-4011[DBZ-4011]
* Automate contributor check in COPYRIGHT.txt  https://issues.jboss.org/browse/DBZ-4023[DBZ-4023]
* Provide an example of usage of snapshot.select.statement.overrides https://issues.jboss.org/browse/DBZ-3603[DBZ-3603]
* Throughput Bottleneck and Inefficient Batching in ChangeEventQueue https://issues.jboss.org/browse/DBZ-3887[DBZ-3887]
* Performance Bottleneck in TableIdParser String Replacement https://issues.jboss.org/browse/DBZ-4015[DBZ-4015]



[[release-1.7.0-cr1]]
== *Release 1.7.0.CR1* _(September 16th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12373513[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.8.0 and has been tested with version 2.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.7.0.CR1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.7.0.CR1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.7.0.CR1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

The container images for Apache ZooKeeper, Kafka and Connect are now based on Fedora base image (https://issues.jboss.org/browse/DBZ-3939[DBZ-3939]).
This change was introduced to stay synchronized with the latest Java releases.

A side effect of the Java upgrade is that old unsecure TLS algorithms, namely TLSv1 and TLSv1.1, are disabled by default on the 1.7 container images. If your database cannot accept modern TLS connections, Debezium will throw a `SSLHandshakeException` and fail to connect.

If a connection with older algorithms is necessary, then remove the entries "TLSv1" and/or "TLSv1.1" from the `jdk.tls.disabledAlgorithms` key in the following files of the Debezium container image for Kafka Connect:

* /etc/crypto-policies/back-ends/java.config
* /lib/jvm/jre/conf/security/java.security

=== New Features

There are no new features in this release.


=== Fixes

* RedisStreamChangeConsumer - handleBatch - client.xadd should be wrapped with a try catch block https://issues.jboss.org/browse/DBZ-3713[DBZ-3713]
* Incorrect information in documentation about supplemental logging https://issues.jboss.org/browse/DBZ-3776[DBZ-3776]
* DML statement couldn't be parsed https://issues.jboss.org/browse/DBZ-3892[DBZ-3892]
* DEBEZIUM producer stops unexpectedly trying to change column in table which does not exist https://issues.jboss.org/browse/DBZ-3898[DBZ-3898]
* "binary.handling.mode": "hex" setting works incorrectly for values with trailing zeros https://issues.jboss.org/browse/DBZ-3912[DBZ-3912]
* System test-suite is unable to work with unreleased Apicurio versions https://issues.jboss.org/browse/DBZ-3924[DBZ-3924]
* CI support for running Apicurio registry tests https://issues.jboss.org/browse/DBZ-3932[DBZ-3932]
* Incorrect validation of truncate handling mode https://issues.jboss.org/browse/DBZ-3935[DBZ-3935]
* protobuf decoder has sends unsigned long as signed for Postgres 13 https://issues.jboss.org/browse/DBZ-3937[DBZ-3937]
* Field#description() should return a proper java.lang.String when documentation/description is not set https://issues.jboss.org/browse/DBZ-3943[DBZ-3943]
* MySQL example image not working after upgrade to 8.0 https://issues.jboss.org/browse/DBZ-3944[DBZ-3944]
* Fix empty high watermark check https://issues.jboss.org/browse/DBZ-3947[DBZ-3947]
* Oracle Connector replicating data from all PDBs. Missing PDB filter during replication.  https://issues.jboss.org/browse/DBZ-3954[DBZ-3954]
* Oracle connector Parsing Exception: DDL statement couldn't be parsed https://issues.jboss.org/browse/DBZ-3962[DBZ-3962]
* FormSwitchComponent not working correctly in case of duplicate STM form https://issues.jboss.org/browse/DBZ-3968[DBZ-3968]
* Strings with binary collation shouldn't be parsed as Types.BINARY by MySqlAntlrDdlParser. https://issues.jboss.org/browse/DBZ-3969[DBZ-3969]
* Openshift pods list image preview not found https://issues.jboss.org/browse/DBZ-3970[DBZ-3970]
* MySqlValueConvertes.java has typo https://issues.jboss.org/browse/DBZ-3976[DBZ-3976]
* Mysql-Connector fails parsing invalid decimal format DDL statement https://issues.jboss.org/browse/DBZ-3984[DBZ-3984]
* Connection Factory is not used when validating SQL Server Connector https://issues.jboss.org/browse/DBZ-4001[DBZ-4001]


=== Other changes

* Promote Outbox SMT to GA https://issues.jboss.org/browse/DBZ-3584[DBZ-3584]
* Clarify lifecycle of snapshot metrics https://issues.jboss.org/browse/DBZ-3613[DBZ-3613]
* Explore on building non-core repos with corresponding PR branch of core repo and vice-versa https://issues.jboss.org/browse/DBZ-3748[DBZ-3748]
* Upgrade to binlog-client 0.25.3 https://issues.jboss.org/browse/DBZ-3787[DBZ-3787]
* RelationalSnapshotChangeEventSource should accept a RelationalDatabaseSchema https://issues.jboss.org/browse/DBZ-3818[DBZ-3818]
* Create GH Action that flags "octocat" commits https://issues.jboss.org/browse/DBZ-3822[DBZ-3822]
* Publish Maven repo with downstream artifacts https://issues.jboss.org/browse/DBZ-3861[DBZ-3861]
* CI preparation for Apicurio Registry downstream https://issues.jboss.org/browse/DBZ-3908[DBZ-3908]
* Specify branch name on push/pull_request step in all GH action workflows https://issues.jboss.org/browse/DBZ-3913[DBZ-3913]
* Consistently order releases from new to old on the website https://issues.jboss.org/browse/DBZ-3917[DBZ-3917]
* Update RELEASING.md https://issues.jboss.org/browse/DBZ-3918[DBZ-3918]
* Update antora.yml file with new values for SMT attributes https://issues.jboss.org/browse/DBZ-3922[DBZ-3922]
* Documentation update should not trigger staging workflow build  https://issues.jboss.org/browse/DBZ-3923[DBZ-3923]
* Upgrade to Jackson Databind version 2.10.5.1 https://issues.jboss.org/browse/DBZ-3927[DBZ-3927]
* Add top-level Transformation menu node for downstream docs https://issues.jboss.org/browse/DBZ-3931[DBZ-3931]
* Docker image serving plugin artifacts over HTTP for new Strimzi deployment mechanism https://issues.jboss.org/browse/DBZ-3934[DBZ-3934]
* Upgrade MySQL example image to 8.0 https://issues.jboss.org/browse/DBZ-3936[DBZ-3936]
* Gracefully handle DB history file stored in a sym-linked directory https://issues.jboss.org/browse/DBZ-3958[DBZ-3958]
* Update docs to specify that connectors track metadata only for transactions that occur after deployment  https://issues.jboss.org/browse/DBZ-3961[DBZ-3961]
* Update and automate Jenkis Node setup https://issues.jboss.org/browse/DBZ-3965[DBZ-3965]
* Hyper-link references between options in the Outbox SMT options table  https://issues.jboss.org/browse/DBZ-3920[DBZ-3920]
* Generify exclusion of columns from snapshotting https://issues.jboss.org/browse/DBZ-2525[DBZ-2525]
* PoC for adding transformations / SMT steps to the Debezium UI https://issues.jboss.org/browse/DBZ-3698[DBZ-3698]
* Use No match found of pf Empty state component in filter page. https://issues.jboss.org/browse/DBZ-3888[DBZ-3888]
* Update the "Skip to review" implementation as per PF new documented standard design pattern https://issues.jboss.org/browse/DBZ-3916[DBZ-3916]
* Set up MongoDB 5.0 image https://issues.jboss.org/browse/DBZ-3973[DBZ-3973]



[[release-1.7.0-beta1]]
== *Release 1.7.0.Beta1* _(August 25th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12359667[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.8.0 and has been tested with version 2.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.7.0.Beta1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.7.0.Beta1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.7.0.Beta1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

The MySQL driver was updated to the latest version 8.0.26 (https://issues.jboss.org/browse/DBZ-3833[DBZ-3833]).
This update comes with a new timezone handling and configuration options.

Detailed information can be found in the https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-datetime-types-processing.html[MySQL docs].


=== New Features

* Sink adapter for Nats Streaming https://issues.jboss.org/browse/DBZ-3815[DBZ-3815]
* Debezium Server's run.sh startup script fails on msys or cygwin bash https://issues.jboss.org/browse/DBZ-3840[DBZ-3840]
* Upgrade Debezium Server Pravega sink to 0.9.1 https://issues.jboss.org/browse/DBZ-3841[DBZ-3841]


=== Fixes

* Create example for using self-managed Debezium with MK https://issues.jboss.org/browse/DBZ-2947[DBZ-2947]
* Exception when validating `field.exclude.list` for Mongo DB connectors https://issues.jboss.org/browse/DBZ-3028[DBZ-3028]
* In case of `/api/connectors/1` takes longer time(more than pooling) to fail spinner keeps on loading. https://issues.jboss.org/browse/DBZ-3313[DBZ-3313]
* SQL Server CDC event timestamps do not get converted to UTC https://issues.jboss.org/browse/DBZ-3479[DBZ-3479]
* Debezium snapshot.select.statement.overrides overrides not used https://issues.jboss.org/browse/DBZ-3760[DBZ-3760]
* Server name pattern is unnecessarily restrictive. https://issues.jboss.org/browse/DBZ-3765[DBZ-3765]
* Crash when processing MySQL 5.7.28 TIME fields returns empty blob instead of null https://issues.jboss.org/browse/DBZ-3773[DBZ-3773]
* Debezium UI and CDC   https://issues.jboss.org/browse/DBZ-3781[DBZ-3781]
* Disable "Next" if any field value is changed after the validation. https://issues.jboss.org/browse/DBZ-3783[DBZ-3783]
* Add DEFAULT to partition option engine https://issues.jboss.org/browse/DBZ-3784[DBZ-3784]
* Initiating MongoDB connector causes oplog table scan https://issues.jboss.org/browse/DBZ-3788[DBZ-3788]
* SRCFG00014: The config property debezium.sink.pravega.scope is required but it could not be found in any config source https://issues.jboss.org/browse/DBZ-3792[DBZ-3792]
* LSN component of Postgres sequence numbers is not updated https://issues.jboss.org/browse/DBZ-3801[DBZ-3801]
* Debezium 1.6.1 expecting database.port even when database.url is provided in config. https://issues.jboss.org/browse/DBZ-3813[DBZ-3813]
* Postgres numeric default value throwing exception https://issues.jboss.org/browse/DBZ-3816[DBZ-3816]
* SQL Server connector doesn't handle retriable errors during task start https://issues.jboss.org/browse/DBZ-3823[DBZ-3823]
*  Debezium OpenShift integration test-suite failure https://issues.jboss.org/browse/DBZ-3824[DBZ-3824]
* Debezium Server Kinesis Sink Cannot Handle Null Events https://issues.jboss.org/browse/DBZ-3827[DBZ-3827]
* Timeout when reading from MongoDB oplog cannot be controlled https://issues.jboss.org/browse/DBZ-3836[DBZ-3836]
* Snapshot locking mode "minimal_percona" incorrectly resets transaction & isolation state https://issues.jboss.org/browse/DBZ-3838[DBZ-3838]
* Properly skip tests when minor/patch are not specified https://issues.jboss.org/browse/DBZ-3839[DBZ-3839]
* Truncate validation should verify key schema is null and not value schema https://issues.jboss.org/browse/DBZ-3842[DBZ-3842]
* System test-suite fails if CRD already exist within the cluster https://issues.jboss.org/browse/DBZ-3846[DBZ-3846]
* Incorrect test-tags for OcpAvroDB2ConnectorIT https://issues.jboss.org/browse/DBZ-3851[DBZ-3851]
* System  test-suite CI job does not have RHEL image parameter https://issues.jboss.org/browse/DBZ-3852[DBZ-3852]
* Typo with prodname asciidoc attribute usage https://issues.jboss.org/browse/DBZ-3856[DBZ-3856]
* SQL Server Connector finds tables for streaming but not snapshot https://issues.jboss.org/browse/DBZ-3857[DBZ-3857]
* Signaling table id column too small in example https://issues.jboss.org/browse/DBZ-3867[DBZ-3867]
* Oracle unparsable DDL issue https://issues.jboss.org/browse/DBZ-3877[DBZ-3877]
* Support AS clause in GRANT statement https://issues.jboss.org/browse/DBZ-3878[DBZ-3878]
* Error Parsing Oracle DDL dropping PK https://issues.jboss.org/browse/DBZ-3886[DBZ-3886]
* Q3 docs referencing Service Registry 2.0 docs https://issues.jboss.org/browse/DBZ-3891[DBZ-3891]
* EMPTY_CLOB() and EMPTY_BLOB() should be treated as empty LOB values https://issues.jboss.org/browse/DBZ-3893[DBZ-3893]
* Oracle DDL parsing issue https://issues.jboss.org/browse/DBZ-3896[DBZ-3896]


=== Other changes

* Debezium UI participating in upstream releases -- follow-up https://issues.jboss.org/browse/DBZ-3169[DBZ-3169]
* Discuss SMT predicates in docs https://issues.jboss.org/browse/DBZ-3227[DBZ-3227]
* Test failure for SqlServerConnectorIT#excludeColumnWhenCaptureInstanceExcludesColumns https://issues.jboss.org/browse/DBZ-3228[DBZ-3228]
* Adjust to changed Strimzi CRDs https://issues.jboss.org/browse/DBZ-3385[DBZ-3385]
* Create a smoke test for Debezium with Kafka on RHEL https://issues.jboss.org/browse/DBZ-3387[DBZ-3387]
* Promote Debezium support on RHEL to GA https://issues.jboss.org/browse/DBZ-3406[DBZ-3406]
* Oracle Docs for TP https://issues.jboss.org/browse/DBZ-3407[DBZ-3407]
* Upgrade to Kafka 2.8 https://issues.jboss.org/browse/DBZ-3444[DBZ-3444]
* Update Debezium on RHEL documentation for GA https://issues.jboss.org/browse/DBZ-3462[DBZ-3462]
* Options in outbox router docs not linked https://issues.jboss.org/browse/DBZ-3649[DBZ-3649]
* Create Kafka related images based on UBI-8 for RHEL certification https://issues.jboss.org/browse/DBZ-3650[DBZ-3650]
* Error in description of the property column.mask.hash._hashAlgorithm_.with.salt._salt_ https://issues.jboss.org/browse/DBZ-3802[DBZ-3802]
* Debezium does not provide up-to-date container images https://issues.jboss.org/browse/DBZ-3809[DBZ-3809]
* Change DBZ kafka image , so its start script can be used on QA Rhel kafka https://issues.jboss.org/browse/DBZ-3810[DBZ-3810]
* Test with Apicurio Registry 2.0 in system level test-suite https://issues.jboss.org/browse/DBZ-3812[DBZ-3812]
* Upgrade commons-compress from 1.20 to 1.21 https://issues.jboss.org/browse/DBZ-3819[DBZ-3819]
* Update jenkins job configuration to incorporate recent system-testsuite changes https://issues.jboss.org/browse/DBZ-3825[DBZ-3825]
* Test Failure - RecordsStreamProducerIT#testEmptyChangesProducesHeartbeat https://issues.jboss.org/browse/DBZ-3828[DBZ-3828]
* Upgrade UI proxy connectors to 1.6.1.Final https://issues.jboss.org/browse/DBZ-3837[DBZ-3837]
* Improperly constructed links generating downstream build errors https://issues.jboss.org/browse/DBZ-3858[DBZ-3858]
* CI Failure in VitessConnectorIT.shouldOutputRecordsInCloudEventsFormat https://issues.jboss.org/browse/DBZ-3863[DBZ-3863]
* CI Failure for StreamingSourceIT.shouldFailOnSchemaInconsistency https://issues.jboss.org/browse/DBZ-3869[DBZ-3869]
* Extract new top-level menu node for SMTs https://issues.jboss.org/browse/DBZ-3873[DBZ-3873]
* Introduce documentation variables for AMQ https://issues.jboss.org/browse/DBZ-3879[DBZ-3879]
* Don't log error when dropping non-existent replication slot in tests https://issues.jboss.org/browse/DBZ-3889[DBZ-3889]
* Intermittent test failures on CI: VitessConnectorIT::shouldUseUniqueKeyAsRecordKey https://issues.jboss.org/browse/DBZ-3900[DBZ-3900]
* Intermittent test failures on CI: IncrementalSnapshotIT#updatesWithRestart https://issues.jboss.org/browse/DBZ-3901[DBZ-3901]
* Test shouldNotEmitDdlEventsForNonTableObjects randomly fails https://issues.jboss.org/browse/DBZ-3902[DBZ-3902]
* VOLUME instruction causes issue with recent Docker versions https://issues.jboss.org/browse/DBZ-3903[DBZ-3903]
* Provide ability to denote UI order in field metadata https://issues.jboss.org/browse/DBZ-3904[DBZ-3904]
* Make relocation.dir and offset.dir configs required. https://issues.jboss.org/browse/DBZ-2251[DBZ-2251]
* Create Debezium API Spec Generator and static API definitions for connectors https://issues.jboss.org/browse/DBZ-3364[DBZ-3364]
* Improve incremental snapshot metrics https://issues.jboss.org/browse/DBZ-3688[DBZ-3688]
* Import Pattern-fly CSS from @patternfly/patternfly https://issues.jboss.org/browse/DBZ-3779[DBZ-3779]
* Allow system testsuite  to produce Strimzi image for arbitrary released version of Debezium https://issues.jboss.org/browse/DBZ-3826[DBZ-3826]
* PostgreSQL - Minor Performance bottleneck in PostgresChangeRecordEmitter https://issues.jboss.org/browse/DBZ-3870[DBZ-3870]
* Oracle - Provide a more user-friendly way to update SCN https://issues.jboss.org/browse/DBZ-3876[DBZ-3876]
* Test failure on CI - SqlServerConnectorIT#readOnlyApplicationIntent https://issues.jboss.org/browse/DBZ-2398[DBZ-2398]
* Test failure for SqlServerConnectorIT#EventProcessingFailureHandlingIT https://issues.jboss.org/browse/DBZ-3229[DBZ-3229]
* Remove underscore from Debezium Server NATS sink Java package name https://issues.jboss.org/browse/DBZ-3910[DBZ-3910]
* LogMinerDatabaseStateWriter causes a SQLException https://issues.jboss.org/browse/DBZ-3911[DBZ-3911]
* Maven release fails due to debezium-testing version handling https://issues.jboss.org/browse/DBZ-3909[DBZ-3909]
* Zookeeper image should not use archive.apache.org https://issues.jboss.org/browse/DBZ-3914[DBZ-3914]



[[release-1.7.0-alpha1]]
== *Release 1.7.0.Alpha1* _(July 30th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12354171[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.7.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.7.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.7.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in this release.


=== New Features

* Implement incremental snapshotting for Oracle https://issues.jboss.org/browse/DBZ-3692[DBZ-3692]
* Implement a LogMiner event buffer SPI https://issues.jboss.org/browse/DBZ-3752[DBZ-3752]
* Remove `artifacts.url` property from UI config.js https://issues.jboss.org/browse/DBZ-3209[DBZ-3209]
* Do not mark offset for commit log files with error https://issues.jboss.org/browse/DBZ-3366[DBZ-3366]
* Support read-only MySQL connection in incremental snapshot https://issues.jboss.org/browse/DBZ-3577[DBZ-3577]
* CloudEventsConverter does not support Oracle, Db2, or Vitess https://issues.jboss.org/browse/DBZ-3668[DBZ-3668]
* Allow usernames to be excluded in logminer query https://issues.jboss.org/browse/DBZ-3671[DBZ-3671]
* Track Oracle session PGA memory consumption https://issues.jboss.org/browse/DBZ-3756[DBZ-3756]
* Performance issue due to inefficient ObjectMapper initialization https://issues.jboss.org/browse/DBZ-3770[DBZ-3770]
* Add more smoke tests https://issues.jboss.org/browse/DBZ-3789[DBZ-3789]


=== Fixes

* UI frontend build fails for exported checkout which has no .git dir https://issues.jboss.org/browse/DBZ-3265[DBZ-3265]
* Broken links in Avro and Outbox Event Router documentation https://issues.jboss.org/browse/DBZ-3430[DBZ-3430]
* Cassandra connector generates invalid schema name for its CDC records https://issues.jboss.org/browse/DBZ-3590[DBZ-3590]
* Support invisible columns with MySql 8.0.23+ https://issues.jboss.org/browse/DBZ-3623[DBZ-3623]
* Db2Connector is unable to establish validation connection https://issues.jboss.org/browse/DBZ-3632[DBZ-3632]
* Status stays in RUNNING for Postgres Connector after Postgres is stopped https://issues.jboss.org/browse/DBZ-3655[DBZ-3655]
* Change connection validation log level for better visibility https://issues.jboss.org/browse/DBZ-3677[DBZ-3677]
* OracleSchemaMigrationIT can throw false positive test failures if test artifacts remain https://issues.jboss.org/browse/DBZ-3684[DBZ-3684]
* MySQL Connector error after execute a "create role" statement https://issues.jboss.org/browse/DBZ-3686[DBZ-3686]
* ERROR in Entry module not found: Error: Can't resolve './src' https://issues.jboss.org/browse/DBZ-3716[DBZ-3716]
* Error parsing query, even with database.history.skip.unparseable.ddl https://issues.jboss.org/browse/DBZ-3717[DBZ-3717]
* Support for TABLE_TYPE missing form MySQL grammar https://issues.jboss.org/browse/DBZ-3718[DBZ-3718]
* Oracle LogMiner DdlParser Error https://issues.jboss.org/browse/DBZ-3723[DBZ-3723]
* Debezium mysql connector plugin throws SQL syntax error during incremental snapshot https://issues.jboss.org/browse/DBZ-3725[DBZ-3725]
* DDL statement couldn't be parsed https://issues.jboss.org/browse/DBZ-3755[DBZ-3755]
* Debezium Oracle connector stops with DDL parsing error https://issues.jboss.org/browse/DBZ-3759[DBZ-3759]
* Exception thrown from getTableColumnsFromDatabase https://issues.jboss.org/browse/DBZ-3769[DBZ-3769]
* Incorrect regex parsing in start script of kafka image https://issues.jboss.org/browse/DBZ-3791[DBZ-3791]
* Dropdown items list visibility blocked by wizard footer  https://issues.jboss.org/browse/DBZ-3794[DBZ-3794]
* Permission issues with DB2 example image https://issues.jboss.org/browse/DBZ-3795[DBZ-3795]

=== Other changes


* Make consumer of outbox example more resilient https://issues.jboss.org/browse/DBZ-1709[DBZ-1709]
* Set up CI for debezium-examples repo https://issues.jboss.org/browse/DBZ-1749[DBZ-1749]
* Refactor LogMinerHelper and SqlUtils https://issues.jboss.org/browse/DBZ-2552[DBZ-2552]
* Implement tests for UI components https://issues.jboss.org/browse/DBZ-3050[DBZ-3050]
* Add documentation about new capturing implementation for the MySQL connector to downstream product https://issues.jboss.org/browse/DBZ-3140[DBZ-3140]
* Remove JSimpleParser https://issues.jboss.org/browse/DBZ-3155[DBZ-3155]
* Ability to build KC image with Apicurio converters https://issues.jboss.org/browse/DBZ-3433[DBZ-3433]
* Remove `log.mining.history.xxx` deprecated options  https://issues.jboss.org/browse/DBZ-3581[DBZ-3581]
* Un-document deprecated options and metrics https://issues.jboss.org/browse/DBZ-3681[DBZ-3681]
* Capture changes made by connector user & document that SYS/SYSTEM changes are not captured https://issues.jboss.org/browse/DBZ-3683[DBZ-3683]
* Use Debezium thread factory for PG keep-alive https://issues.jboss.org/browse/DBZ-3685[DBZ-3685]
* Time for another community newsletter https://issues.jboss.org/browse/DBZ-3695[DBZ-3695]
* Improve signalling documentation https://issues.jboss.org/browse/DBZ-3699[DBZ-3699]
* Example end-to-end fails due to an API incompatibility with Maven 3.6+ https://issues.jboss.org/browse/DBZ-3705[DBZ-3705]
* Example debezium-server-name-mapper fails due to an API incompatibility with Maven 3.6+ https://issues.jboss.org/browse/DBZ-3706[DBZ-3706]
* Doc clarification on connector rewrite https://issues.jboss.org/browse/DBZ-3711[DBZ-3711]
* Support RHEL deployments in system-test tooling https://issues.jboss.org/browse/DBZ-3724[DBZ-3724]
* Misc. tutorial updates https://issues.jboss.org/browse/DBZ-3747[DBZ-3747]
* Update Oracle connector deployment instructions for consistency https://issues.jboss.org/browse/DBZ-3772[DBZ-3772]
