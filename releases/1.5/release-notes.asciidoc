---
layout: release-notes
title: Release Notes for Debezium 1.5
debezium-version: "1.5"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-1.5.4-final]]
== *Release 1.5.4.Final* _(July 1st, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12358735[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.4.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.4.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.4.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in the release.


=== New Features

There are no new features in the release.


=== Fixes

* Schema change events of excluded databases are discarded  https://issues.jboss.org/browse/DBZ-3622[DBZ-3622]
* Oracle DDL parser fails on CREATE TABLE: mismatched input 'maxtrans' expecting {'AS', ';'} https://issues.jboss.org/browse/DBZ-3641[DBZ-3641]


=== Other changes

* Database history properties missing in connector docs https://issues.jboss.org/browse/DBZ-3459[DBZ-3459]
* Update deprecated config for debezium smt https://issues.jboss.org/browse/DBZ-3673[DBZ-3673]
* Prepare test-suite for Kafka on RHEL https://issues.jboss.org/browse/DBZ-3566[DBZ-3566]



[[release-1.5.3-final]]
== *Release 1.5.3.Final* _(June 17th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12358421[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.3.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.3.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.3.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in the release.


=== New Features

There are no new features in the release.


=== Fixes

* Oracle connector does not correctly handle partially committed transactions https://issues.jboss.org/browse/DBZ-3322[DBZ-3322]
* Broken links in User guide table of routing SMT configuration options https://issues.jboss.org/browse/DBZ-3410[DBZ-3410]
* Broken link to basic configuration example in downstream content-based routing topic https://issues.jboss.org/browse/DBZ-3412[DBZ-3412]
* source.timestamp.mode=commit imposes a significant performance penalty https://issues.jboss.org/browse/DBZ-3452[DBZ-3452]
* Timezone difference not considered in `LagFromSourceInMilliseconds` calculation https://issues.jboss.org/browse/DBZ-3456[DBZ-3456]
* MySQL metrics documentation refers to legacy implementation https://issues.jboss.org/browse/DBZ-3572[DBZ-3572]
* Update downstream MySQL doc to reference streaming metrics vs. binlog metrics  https://issues.jboss.org/browse/DBZ-3582[DBZ-3582]
* Transaction commit event dispatch fails if no active transaction in progress. https://issues.jboss.org/browse/DBZ-3593[DBZ-3593]
* GRANT/REVOKE for roles is not working https://issues.jboss.org/browse/DBZ-3610[DBZ-3610]
* DDL ParsingException - "SUPPLEMENTAL LOG DATA (UNIQUE INDEX) COLUMNS" https://issues.jboss.org/browse/DBZ-3619[DBZ-3619]


=== Other changes

* Modularize doc for MongoDB component https://issues.jboss.org/browse/DBZ-2334[DBZ-2334]
* Docs clarification around tombstone events https://issues.jboss.org/browse/DBZ-3416[DBZ-3416]
* Update external link to AMQ Streams documentation https://issues.jboss.org/browse/DBZ-3502[DBZ-3502]
* Formatting updates to correct errors in documentation builds https://issues.jboss.org/browse/DBZ-3518[DBZ-3518]



[[release-1.5.2-final]]
== *Release 1.5.2.Final* _(May 28th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12357966[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.2.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.2.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.2.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in the release.


=== New Features

There are no new features in the release.


=== Fixes

* Release 1.5.1.Final requires JDK >= 11 https://issues.jboss.org/browse/DBZ-3574[DBZ-3574]


=== Other changes

* Update external links in downstream docs to AMQ Streams deployment information  https://issues.jboss.org/browse/DBZ-3525[DBZ-3525]



[[release-1.5.1-final]]
== *Release 1.5.1.Final* _(May 27th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12354249[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.1.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.1.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.1.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in the release.


=== New Features

* Retry logic for "No more data to read from socket" is too strict https://issues.jboss.org/browse/DBZ-3472[DBZ-3472]


=== Fixes

* io.debezium.text.ParsingException: no viable alternative at input 'IDNUMBER(4)GENERATEDBY' https://issues.jboss.org/browse/DBZ-1721[DBZ-1721]
* oracle logminer cannot add duplicate logfile https://issues.jboss.org/browse/DBZ-3266[DBZ-3266]
* First online log query does not limit results to those that are available. https://issues.jboss.org/browse/DBZ-3332[DBZ-3332]
* Connector crashing after running for some time https://issues.jboss.org/browse/DBZ-3377[DBZ-3377]
* An exception in resolveOracleDatabaseVersion if system language is not English https://issues.jboss.org/browse/DBZ-3397[DBZ-3397]
* Rename table stores only a fragment of DDL in schema history https://issues.jboss.org/browse/DBZ-3399[DBZ-3399]
* Broken link in downstream Monitoring chapter 7.3 https://issues.jboss.org/browse/DBZ-3409[DBZ-3409]
* Broken link in content-based routing chapter to page for downloading the SMT scripting archive  https://issues.jboss.org/browse/DBZ-3411[DBZ-3411]
* LogMinerDmlParser mishandles double single quotes in WHERE clauses https://issues.jboss.org/browse/DBZ-3413[DBZ-3413]
* Incorrectly formatted links in downstream automatic topic creation doc https://issues.jboss.org/browse/DBZ-3414[DBZ-3414]
* SMT acronym incorrectly expanded in Debezium User Guide https://issues.jboss.org/browse/DBZ-3415[DBZ-3415]
* Debezium mapped diagnostic contexts doesn't work https://issues.jboss.org/browse/DBZ-3438[DBZ-3438]
* source.timestamp.mode=commit imposes a significant performance penalty https://issues.jboss.org/browse/DBZ-3452[DBZ-3452]
* Debezium MySQL connector does not process tables with partitions https://issues.jboss.org/browse/DBZ-3468[DBZ-3468]
* "Found null value for non-optional schema" error when issuing TRUNCATE from Postgres on a table with a PK https://issues.jboss.org/browse/DBZ-3469[DBZ-3469]
* Connector crashes when table name contains '-' character https://issues.jboss.org/browse/DBZ-3485[DBZ-3485]
* MySQL8 GRANT statement not parsable https://issues.jboss.org/browse/DBZ-3499[DBZ-3499]
* ReadToInsertEvent SMT needs to set ConfigDef https://issues.jboss.org/browse/DBZ-3508[DBZ-3508]
* SQLServer low throughput tables increase usage of TempDB https://issues.jboss.org/browse/DBZ-3515[DBZ-3515]
* Oracle redo log switch not detected when using multiple archiver process threads https://issues.jboss.org/browse/DBZ-3516[DBZ-3516]
* Missing schema function in DDL Parser https://issues.jboss.org/browse/DBZ-3543[DBZ-3543]
* DDL ParsingException "mismatched input 'sharing'" for create table syntax. https://issues.jboss.org/browse/DBZ-3549[DBZ-3549]


=== Other changes

* User Guide corrections for SQL Server connector https://issues.jboss.org/browse/DBZ-3297[DBZ-3297]
* User Guide corrections for Db2 connector https://issues.jboss.org/browse/DBZ-3298[DBZ-3298]
* User Guide corrections for MySQL connector https://issues.jboss.org/browse/DBZ-3299[DBZ-3299]
* User Guide corrections for MongoDB connector https://issues.jboss.org/browse/DBZ-3300[DBZ-3300]
* Scope RHEL support for Debezium https://issues.jboss.org/browse/DBZ-3354[DBZ-3354]
* Reword prereq in downstream SQL Server connector doc  https://issues.jboss.org/browse/DBZ-3392[DBZ-3392]
* Duplicate entry in MySQL connector properties table for `mysql-property-skipped-operations`  https://issues.jboss.org/browse/DBZ-3402[DBZ-3402]
* Upgrade binlog client https://issues.jboss.org/browse/DBZ-3463[DBZ-3463]
* Backport documentation fixes to 1.5 https://issues.jboss.org/browse/DBZ-3532[DBZ-3532]



[[release-1.5.0-final]]
== *Release 1.5.0.Final* _(April 7th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12354718[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.0.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.0.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.0.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

There are no breaking changes in the release.


=== New Features

* Add support for Redis Streams target in Debezium Server https://issues.jboss.org/browse/DBZ-2879[DBZ-2879]
* Provide LSN coordinates as standardized sequence field https://issues.jboss.org/browse/DBZ-2911[DBZ-2911]


=== Fixes

* Do not mine Data Guard archive log entries https://issues.jboss.org/browse/DBZ-3341[DBZ-3341]
* Debezium stuck in an infinite loop on boot https://issues.jboss.org/browse/DBZ-3343[DBZ-3343]
* Schema change SourceRecords have null partition https://issues.jboss.org/browse/DBZ-3347[DBZ-3347]
* LogMiner can incorrectly resolve that SCN is available https://issues.jboss.org/browse/DBZ-3348[DBZ-3348]
* The event.deserialization.failure.handling.mode is documented incorrectly https://issues.jboss.org/browse/DBZ-3353[DBZ-3353]
* DB2 Function wrong https://issues.jboss.org/browse/DBZ-3362[DBZ-3362]
* LogMiner parser incorrectly parses UNISTR function https://issues.jboss.org/browse/DBZ-3367[DBZ-3367]
* Invalid Decimal schema: scale parameter not found https://issues.jboss.org/browse/DBZ-3371[DBZ-3371]


=== Other changes

* Allow Debezium Server to be used with Apicurio converters https://issues.jboss.org/browse/DBZ-2388[DBZ-2388]
* Remove connector properties from descriptors on the /connector-types response https://issues.jboss.org/browse/DBZ-3316[DBZ-3316]
* Literal attribute rendered in deployment instructions for the downstream PostgreSQL connector  https://issues.jboss.org/browse/DBZ-3338[DBZ-3338]
* Fix test failures due to existing database object artifacts https://issues.jboss.org/browse/DBZ-3344[DBZ-3344]
* Use correct repository level PAT for building debezium website  https://issues.jboss.org/browse/DBZ-3345[DBZ-3345]
* Document configuration of max.request.size  https://issues.jboss.org/browse/DBZ-3355[DBZ-3355]
* Use Java 8 for Cassandra workflow https://issues.jboss.org/browse/DBZ-3357[DBZ-3357]
* Trigger workflow on workflow definition update https://issues.jboss.org/browse/DBZ-3358[DBZ-3358]
* Prefer DDL before logical schema in history recovery https://issues.jboss.org/browse/DBZ-3361[DBZ-3361]
* Add missing space and omitted command to PostgreSQL connector doc  https://issues.jboss.org/browse/DBZ-3372[DBZ-3372]
* Wrong badge on Docker Hub https://issues.jboss.org/browse/DBZ-3383[DBZ-3383]



[[release-1.5.0-cr1]]
== *Release 1.5.0.CR1* _(March 24th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12354265[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.0.CR1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.0.CR1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.0.CR1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

Oracle connector was promoted from incubation to stable state (https://issues.jboss.org/browse/DBZ-3290[DBZ-3290]).
As the result the following changes were included to prevent future breaking changes

* configuration option `database.oracle.version` has been removed
* the LogMiner specific metrics has been incorporated to the streaming metrics
* `scn` and `commit_scn` fields in the source info block are no longer `LONG` but `STRING` to enable very large SCN values (https://issues.jboss.org/browse/DBZ-2994[DBZ-2994])

=== New Features

* Upgrade to Apache Kafka 2.7.0 https://issues.jboss.org/browse/DBZ-2872[DBZ-2872]
* Add more parameters to TLS support https://issues.jboss.org/browse/DBZ-3262[DBZ-3262]


=== Fixes

* Debezium logs "is not a valid Avro schema name" can be too verbose https://issues.jboss.org/browse/DBZ-2511[DBZ-2511]
* message.key.columns Regex Validation Time Complexity https://issues.jboss.org/browse/DBZ-2957[DBZ-2957]
* OID values don't fit to INT32 schema https://issues.jboss.org/browse/DBZ-3033[DBZ-3033]
* Connector automatically restart on ORA-26653 https://issues.jboss.org/browse/DBZ-3236[DBZ-3236]
* UI container has no assets (JS artifacts, fonts, etc) and randomly fails building https://issues.jboss.org/browse/DBZ-3247[DBZ-3247]
* Revert Clob behavior for Oracle LogMiner to avoid null values https://issues.jboss.org/browse/DBZ-3257[DBZ-3257]
* SQL Server misses description for decimal.handling.mode https://issues.jboss.org/browse/DBZ-3267[DBZ-3267]
* Oracle connector ignores time.precision.mode and just uses adaptive mode https://issues.jboss.org/browse/DBZ-3268[DBZ-3268]
* commons-logging JAR is missing from Debezium Server distro https://issues.jboss.org/browse/DBZ-3277[DBZ-3277]
* MongoDB timeouts crash the whole connector https://issues.jboss.org/browse/DBZ-3278[DBZ-3278]
* Prefer archive logs over redo logs of the same SCN range https://issues.jboss.org/browse/DBZ-3292[DBZ-3292]
* LogMiner mining query may unintentionally skip records https://issues.jboss.org/browse/DBZ-3295[DBZ-3295]
* IndexOutOfBoundsException when LogMiner DML update statement contains a function as last column's value https://issues.jboss.org/browse/DBZ-3305[DBZ-3305]
* Out of memory with mysql snapshots (regression of DBZ-94) https://issues.jboss.org/browse/DBZ-3309[DBZ-3309]
* Keyword ORDER is a valid identifier in MySQL grammar https://issues.jboss.org/browse/DBZ-3310[DBZ-3310]
* DDL statement couldn't be parsed for ROW_FORMAT=TOKUDB_QUICKLZ https://issues.jboss.org/browse/DBZ-3311[DBZ-3311]
* LogMiner can miss a log switch event if too many switches occur. https://issues.jboss.org/browse/DBZ-3319[DBZ-3319]
* Function MOD is missing from MySQL grammar https://issues.jboss.org/browse/DBZ-3333[DBZ-3333]
* Incorrect SR label names in OCP testusite https://issues.jboss.org/browse/DBZ-3336[DBZ-3336]
* DB2 upstream tests are still using master as the default branch https://issues.jboss.org/browse/DBZ-3337[DBZ-3337]


=== Other changes

* Demo: Exploring non-key joins of Kafka Streams 2.4 https://issues.jboss.org/browse/DBZ-2100[DBZ-2100]
* Publish Debezium BOM POM https://issues.jboss.org/browse/DBZ-2145[DBZ-2145]
* Use BigInteger as SCN rather than BigDecimal https://issues.jboss.org/browse/DBZ-2457[DBZ-2457]
* Document ChangeConsumer usage for Debezium Engine https://issues.jboss.org/browse/DBZ-2520[DBZ-2520]
* Add check that target release is set https://issues.jboss.org/browse/DBZ-2536[DBZ-2536]
* Consolidate multiple JMX beans during Oracle streaming with LogMiner https://issues.jboss.org/browse/DBZ-2537[DBZ-2537]
* Create script for listing all contributors of a release https://issues.jboss.org/browse/DBZ-2592[DBZ-2592]
* Explicitly mention Debezium Engine database history config for different connectors https://issues.jboss.org/browse/DBZ-2665[DBZ-2665]
* Cleanup by restructuring Debezium UI REST API structure https://issues.jboss.org/browse/DBZ-3031[DBZ-3031]
* Make Debezium main repo build checks artifacts for CI/CD checks in sibling repositories available on Maven Central  https://issues.jboss.org/browse/DBZ-3142[DBZ-3142]
* Handle duplicate warnings for deprecated options https://issues.jboss.org/browse/DBZ-3218[DBZ-3218]
* Upgrade Jackson as per AK 2.7 https://issues.jboss.org/browse/DBZ-3221[DBZ-3221]
* Document the need of qualified names in snapshot.include.collection.list https://issues.jboss.org/browse/DBZ-3244[DBZ-3244]
* Add snapshot.select.statement.override options to Oracle documentation https://issues.jboss.org/browse/DBZ-3250[DBZ-3250]
* Remove all possible backend calls from non-validation mode https://issues.jboss.org/browse/DBZ-3255[DBZ-3255]
* Document delayed TX END markers https://issues.jboss.org/browse/DBZ-3261[DBZ-3261]
* Extended scripting SMT docs with handling of non-data events https://issues.jboss.org/browse/DBZ-3269[DBZ-3269]
* Unify column inclusion/exclusion handling https://issues.jboss.org/browse/DBZ-3271[DBZ-3271]
* Downstream conditional spans topic boundary in db2 doc https://issues.jboss.org/browse/DBZ-3272[DBZ-3272]
* Add info about languge dependencies into scripting SMTs https://issues.jboss.org/browse/DBZ-3280[DBZ-3280]
* Copyright check script should take additional connector repos into consideration https://issues.jboss.org/browse/DBZ-3281[DBZ-3281]
* Intermittent failure of MyMetricsIT.testStreamingOnlyMetrics https://issues.jboss.org/browse/DBZ-3304[DBZ-3304]
* Remove references to supported configurations from Db2 connector documentation https://issues.jboss.org/browse/DBZ-3308[DBZ-3308]
* Use separate API calls to get the connector info(name, id etc) and details(Properties) https://issues.jboss.org/browse/DBZ-3314[DBZ-3314]
* Documentation updates should trigger a website build https://issues.jboss.org/browse/DBZ-3320[DBZ-3320]
* Cassandra connector is not part of core CI build https://issues.jboss.org/browse/DBZ-3335[DBZ-3335]



[[release-1.5.0-beta2]]
== *Release 1.5.0.Beta2* _(March 12th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12354047[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.6.1 and has been tested with version 2.6.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.0.Beta2 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.0.Beta2 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.0.Beta2 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

The Oracle connector emits NUMBER(1) columns as `int8` now by default. To emit them as `boolean` instead, use the `io.debezium.connector.oracle.converters.NumberOneToBooleanConverter` as described in the connector documentation (https://issues.jboss.org/browse/DBZ-3208[DBZ-3208]).

The Debezium connector for Oracle now uses the LogMiner-based capturing implementation by default. In order to use the XStream-based implementation, set the connector option `database.connection.adapter` to `xstream` (https://issues.jboss.org/browse/DBZ-3241[DBZ-3241]).

=== New Features

* Detect and skip non-parent index-organized tables https://issues.jboss.org/browse/DBZ-3036[DBZ-3036]
* Capture additional JMX metrics for LogMiner https://issues.jboss.org/browse/DBZ-3038[DBZ-3038]
* Incorrect information in Debezium connector for Postgres documentation https://issues.jboss.org/browse/DBZ-3197[DBZ-3197]
* Add support for SET column type https://issues.jboss.org/browse/DBZ-3199[DBZ-3199]
* Improve relocation logic for processed commitLog files  https://issues.jboss.org/browse/DBZ-3224[DBZ-3224]
* Disable log.mining.transaction.retention.hours logic by default https://issues.jboss.org/browse/DBZ-3242[DBZ-3242]
* Provide a signalling table https://issues.jboss.org/browse/DBZ-3141[DBZ-3141]
* Update sensitive env vars for connect-base image https://issues.jboss.org/browse/DBZ-3223[DBZ-3223]
* Support specifying kinesis endpoint in debezium server https://issues.jboss.org/browse/DBZ-3246[DBZ-3246]
* Add log4j.properties file https://issues.jboss.org/browse/DBZ-3248[DBZ-3248]


=== Fixes

* Error in LSN https://issues.jboss.org/browse/DBZ-2417[DBZ-2417]
* Connector restarts with an SCN that was previously processed. https://issues.jboss.org/browse/DBZ-2875[DBZ-2875]
* Misleading error message for filtered publication with misconfigured filters https://issues.jboss.org/browse/DBZ-2885[DBZ-2885]
* There are still important problems with Oracle LogMiner https://issues.jboss.org/browse/DBZ-2976[DBZ-2976]
* Don't execute initial statements upon connector validation https://issues.jboss.org/browse/DBZ-3030[DBZ-3030]
* Forever stuck with new binlog parser (1.3 and later) when processing big JSON column data  https://issues.jboss.org/browse/DBZ-3106[DBZ-3106]
* Change Events are not captured after initial load https://issues.jboss.org/browse/DBZ-3128[DBZ-3128]
* Repeating Unknown schema error even after recent schema_recovery https://issues.jboss.org/browse/DBZ-3146[DBZ-3146]
* CloudEvent value id field is not unique https://issues.jboss.org/browse/DBZ-3157[DBZ-3157]
* Oracle connector fails when using database.tablename.case.insensitive=true https://issues.jboss.org/browse/DBZ-3190[DBZ-3190]
* DML parser IndexOutOfRangeException with where-clause using "IS NULL" https://issues.jboss.org/browse/DBZ-3193[DBZ-3193]
* ORA-01284 file cannot be opened error when file locked by another process https://issues.jboss.org/browse/DBZ-3194[DBZ-3194]
* CommitThroughput metrics can raise division by zero error https://issues.jboss.org/browse/DBZ-3200[DBZ-3200]
* LogMiner does not process NUMBER(1) data https://issues.jboss.org/browse/DBZ-3208[DBZ-3208]
* Update MongoDB driver version https://issues.jboss.org/browse/DBZ-3212[DBZ-3212]
* Extra connectors are not buildable unless main Debezium is built locally https://issues.jboss.org/browse/DBZ-3213[DBZ-3213]
* Docker image debezium/server:1.5 won't start https://issues.jboss.org/browse/DBZ-3217[DBZ-3217]
* Debezium Oracle Connector not excluding table columns https://issues.jboss.org/browse/DBZ-3219[DBZ-3219]
* LogMiner parse failure with Update DML with no where condition https://issues.jboss.org/browse/DBZ-3235[DBZ-3235]
* Debezium 1.4.2.Final and onwards unable to parse sasl.jaas.config from env var https://issues.jboss.org/browse/DBZ-3245[DBZ-3245]
* Debezium engine should call stop on task even when start fails https://issues.jboss.org/browse/DBZ-3251[DBZ-3251]
* No meaningful message provided when oracle driver is missing https://issues.jboss.org/browse/DBZ-3254[DBZ-3254]


=== Other changes

* Discuss capture job configuration as a tuning option for SQL Server and Db2 https://issues.jboss.org/browse/DBZ-2122[DBZ-2122]
* Prepare customizing auto-created topics doc for downstream https://issues.jboss.org/browse/DBZ-2654[DBZ-2654]
* Wrong warning about deprecated options https://issues.jboss.org/browse/DBZ-3084[DBZ-3084]
* Have non-validating mode in the UI https://issues.jboss.org/browse/DBZ-3088[DBZ-3088]
* Move container image builds to GH Actions https://issues.jboss.org/browse/DBZ-3131[DBZ-3131]
* Exclude CommonConnectorConfig.PROVIDE_TRANSACTION_METADATA from connectors not supporting it https://issues.jboss.org/browse/DBZ-3132[DBZ-3132]
* Add example for Debezium UI to debezium-examples repo https://issues.jboss.org/browse/DBZ-3134[DBZ-3134]
* Clarify required privileges for using pgoutput https://issues.jboss.org/browse/DBZ-3138[DBZ-3138]
* Do not rely on Max SCN seed value w/LogMiner https://issues.jboss.org/browse/DBZ-3145[DBZ-3145]
* Postgres documentation improvements https://issues.jboss.org/browse/DBZ-3149[DBZ-3149]
* Support running Oracle test suite in non-CDB (no PDB name) mode https://issues.jboss.org/browse/DBZ-3154[DBZ-3154]
* Update Oracle documentation https://issues.jboss.org/browse/DBZ-3156[DBZ-3156]
* Move the Oracle connector to the main repostory https://issues.jboss.org/browse/DBZ-3166[DBZ-3166]
* Minor editorial update to PostgreSQL connector documentation https://issues.jboss.org/browse/DBZ-3192[DBZ-3192]
* Incorrect link/anchor pair for truncate.handling.mode property in PG properties documentation https://issues.jboss.org/browse/DBZ-3195[DBZ-3195]
* Update oracle-vagrant-box https://issues.jboss.org/browse/DBZ-3206[DBZ-3206]
* Update Oracle versions tested https://issues.jboss.org/browse/DBZ-3215[DBZ-3215]
* Oracle test suite does not always clean-up tables after tests https://issues.jboss.org/browse/DBZ-3237[DBZ-3237]
* Update Oracle tutorial example https://issues.jboss.org/browse/DBZ-3239[DBZ-3239]
* Use LogMiner adapter by default for Oracle connector https://issues.jboss.org/browse/DBZ-3241[DBZ-3241]
* Avoid reference to upstream Docker set-up https://issues.jboss.org/browse/DBZ-3259[DBZ-3259]



[[release-1.5.0-beta1]]
== *Release 1.5.0.Beta1* _(February 23rd, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12353830[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.6.1 and has been tested with version 2.6.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.0.Beta1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.0.Beta1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.0.Beta1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

A regression in the binlog client used by Debezium was identified where large JSON documents in a MySQL JSON column cause a severe performance degredation (https://issues.jboss.org/browse/DBZ-3106[DBZ-3106]).
This issue is under active discussion with the maintainer of the binlog client library.

In earlier versions of Debezium, the MySQL connector incorrectly emitted snapshot events using the `c` (create) operation type instead of the correct type `r` (read).
If you have consumers which rely on that earlier behavior, you can use the `io.debezium.connector.mysql.transforms.ReadToInsertEvent` single message transform to emulate that earlier behavior (https://issues.jboss.org/browse/DBZ-2788[DBZ-2788]).
A connector option which accidentally was introduced in 1.4.0 for this same purpose, `snapshot.events.as.inserts`, got removed again, and the SMT should be used instead in this situation.
This SMT is meant for migration purposes only and will be removed in a future Debezium version.

The (incubating) Debezium connector for Oracle emits transaction ids in lower-case now, differing from the previous behavior of returning them as upper-case (https://issues.jboss.org/browse/DBZ-3165[DBZ-3165]).

The previously deprecated snapshot mode `INITIAL_SCHEMA_ONLY` of the Oracle connector has been removed. Please use `SCHEMA_ONLY` instead (https://issues.jboss.org/browse/DBZ-3034[DBZ-3034]).

=== New Features

* Make field descriptions consistent for time values (milliseconds, ms, sec, seconds, etc) https://issues.jboss.org/browse/DBZ-2858[DBZ-2858]
* DebeziumEngine RecordChangeEvents cannot be modified https://issues.jboss.org/browse/DBZ-2897[DBZ-2897]
* Add license headers and related checkstyle checks for Debezium UI files https://issues.jboss.org/browse/DBZ-2985[DBZ-2985]
* Display commit SHA of UI frontend/backend somewhere in the footer https://issues.jboss.org/browse/DBZ-3052[DBZ-3052]
* Implement UX suggestions for display of connector type https://issues.jboss.org/browse/DBZ-3054[DBZ-3054]
* SqlServerConnector does not implement validate https://issues.jboss.org/browse/DBZ-3056[DBZ-3056]
* Database History Producer does not close with a timeout https://issues.jboss.org/browse/DBZ-3075[DBZ-3075]
* Improve DML parser performance https://issues.jboss.org/browse/DBZ-3078[DBZ-3078]
* Connector list table UI improvement desktop/mobile https://issues.jboss.org/browse/DBZ-3079[DBZ-3079]
* Vitess Connector adds support for Vitess 9.0.0 GA https://issues.jboss.org/browse/DBZ-3100[DBZ-3100]
* Improve layout for Column Truncate - Mask Component https://issues.jboss.org/browse/DBZ-3101[DBZ-3101]
* Improve layout for Data options component and main wizard nav https://issues.jboss.org/browse/DBZ-3105[DBZ-3105]
* Add ability to skip tests based on available database options https://issues.jboss.org/browse/DBZ-3110[DBZ-3110]
* Support for Transaction Metadata in MySql connector https://issues.jboss.org/browse/DBZ-3114[DBZ-3114]
* Add support for JSON column type https://issues.jboss.org/browse/DBZ-3115[DBZ-3115]
* Add support for ENUM column type https://issues.jboss.org/browse/DBZ-3124[DBZ-3124]
* Enable easy downloading of Camel Kafka Connectors https://issues.jboss.org/browse/DBZ-3136[DBZ-3136]
* Capture LogMiner session parameters when session fails to start https://issues.jboss.org/browse/DBZ-3153[DBZ-3153]
* Process special values in temporal datatypes https://issues.jboss.org/browse/DBZ-2614[DBZ-2614]


=== Fixes

* Negative timestamps are converted to positive during snapshot https://issues.jboss.org/browse/DBZ-2616[DBZ-2616]
* Wrong reference to KafkaConnector in setting up Debezium https://issues.jboss.org/browse/DBZ-2745[DBZ-2745]
* Oracle Connector(Using Logminer) with Oracle RDS (v12) does not capture changes https://issues.jboss.org/browse/DBZ-2754[DBZ-2754]
* Oracle connector causes ORA-65090 when connecting to an Oracle instance running in non-CDB mode https://issues.jboss.org/browse/DBZ-2795[DBZ-2795]
* Warnings and notifications from PostgreSQL are ignored by the connector until the connection is closed https://issues.jboss.org/browse/DBZ-2865[DBZ-2865]
* Add support for MySQL to UI Backend  https://issues.jboss.org/browse/DBZ-2950[DBZ-2950]
* ExtractNewRecord SMT incorrectly extracts ts_ms from source info https://issues.jboss.org/browse/DBZ-2984[DBZ-2984]
* Replication terminates with ORA-01291: missing log file https://issues.jboss.org/browse/DBZ-3001[DBZ-3001]
* Kafka Docker image the HEAP_OPTS variable is not used https://issues.jboss.org/browse/DBZ-3006[DBZ-3006]
* Support multiple schemas with Oracle LogMiner https://issues.jboss.org/browse/DBZ-3009[DBZ-3009]
* Function calls does not allow parentheses for functions with non-mandatory parentheses https://issues.jboss.org/browse/DBZ-3017[DBZ-3017]
* Complete support for properties that contain hyphens https://issues.jboss.org/browse/DBZ-3019[DBZ-3019]
* UI issues with connectors table row expansion state https://issues.jboss.org/browse/DBZ-3049[DBZ-3049]
* SQLException for Global temp tables  from OracleDatabaseMetaData.getIndexInfo() makes Debezium snapshotting fail https://issues.jboss.org/browse/DBZ-3057[DBZ-3057]
* Cassandra Connector doesn't support Cassandra version >=3.11.5 https://issues.jboss.org/browse/DBZ-3060[DBZ-3060]
* Make Cassandra Connector work with CommitLogTransfer better https://issues.jboss.org/browse/DBZ-3063[DBZ-3063]
* no viable alternative at input 'create or replace index' https://issues.jboss.org/browse/DBZ-3067[DBZ-3067]
* Connect image propagates  env vars starting with CONNECT prefix https://issues.jboss.org/browse/DBZ-3070[DBZ-3070]
* PgOutputMessageDecoder doesn't order primary keys https://issues.jboss.org/browse/DBZ-3074[DBZ-3074]
* Strange transaction metadata for Oracle logminer connector https://issues.jboss.org/browse/DBZ-3090[DBZ-3090]
* Getting RejectedExecutionException when checking topic settings from KafkaDatabaseHistory.checkTopicSettings https://issues.jboss.org/browse/DBZ-3096[DBZ-3096]
* Environment Variables with spaces are truncated when written to properties file https://issues.jboss.org/browse/DBZ-3103[DBZ-3103]
* Error: Supplemental logging not configured for table. Use command: ALTER TABLE  https://issues.jboss.org/browse/DBZ-3109[DBZ-3109]
* Uncaught (in promise) TypeError: Cannot read property 'call' of undefined https://issues.jboss.org/browse/DBZ-3125[DBZ-3125]
* Final stage of snapshot analyzes tables not present in table.include.list thus stumbles upon unsupported XMLTYPE table https://issues.jboss.org/browse/DBZ-3151[DBZ-3151]
* Missing Prometheus port in kafka network policy  https://issues.jboss.org/browse/DBZ-3170[DBZ-3170]
* XStream does not process NUMER(1) data https://issues.jboss.org/browse/DBZ-3172[DBZ-3172]


=== Other changes

* Setup CI job for DB2  https://issues.jboss.org/browse/DBZ-2235[DBZ-2235]
* Integration with Service Registry promoted to GA https://issues.jboss.org/browse/DBZ-2815[DBZ-2815]
* Remove DECIMAL string sanitisation once Vitess upstream bug is fixed https://issues.jboss.org/browse/DBZ-2908[DBZ-2908]
* Review format and configuration options for Db2 for GA https://issues.jboss.org/browse/DBZ-2977[DBZ-2977]
* Test with Postgres 13 https://issues.jboss.org/browse/DBZ-3022[DBZ-3022]
* Prepare Debezium UI to participate in upstream releases https://issues.jboss.org/browse/DBZ-3027[DBZ-3027]
* Upgrade testcontainers to 1.15.1  https://issues.jboss.org/browse/DBZ-3066[DBZ-3066]
* Use new deployment endpoint for releases to Maven Central https://issues.jboss.org/browse/DBZ-3069[DBZ-3069]
* Remove obsolete Awestruct container image https://issues.jboss.org/browse/DBZ-3072[DBZ-3072]
* "JDBC driver" doesn't make sense for non-relational connectors https://issues.jboss.org/browse/DBZ-3076[DBZ-3076]
* Replace RecordMakers with MySqlChangeRecordEmitter https://issues.jboss.org/browse/DBZ-3077[DBZ-3077]
* Make CI builds resilient against disconnects on GH Actions infrastructure https://issues.jboss.org/browse/DBZ-3083[DBZ-3083]
* Separate SourceInfo and MySQL offset context https://issues.jboss.org/browse/DBZ-3086[DBZ-3086]
* Remove zero-width whitespace from option names https://issues.jboss.org/browse/DBZ-3087[DBZ-3087]
* Adapt UI for MySQL connector type https://issues.jboss.org/browse/DBZ-3091[DBZ-3091]
* Change MySQL database schema contract to support separate parsing and processing phase https://issues.jboss.org/browse/DBZ-3093[DBZ-3093]
* MySQL build stuck for 6h https://issues.jboss.org/browse/DBZ-3095[DBZ-3095]
* Rewrite legacy reader tests https://issues.jboss.org/browse/DBZ-3099[DBZ-3099]
* Intermittent test failure in Postgres PostgresConnectorIT#customSnapshotterSkipsTablesOnRestart https://issues.jboss.org/browse/DBZ-3107[DBZ-3107]
* Remove duplicate anchor links in Connector properties https://issues.jboss.org/browse/DBZ-3111[DBZ-3111]
* Upgrade to Quarkus 1.12.0.Final https://issues.jboss.org/browse/DBZ-3116[DBZ-3116]
* Config validation for Vitess https://issues.jboss.org/browse/DBZ-3117[DBZ-3117]
* Config validation for Oracle https://issues.jboss.org/browse/DBZ-3119[DBZ-3119]
* Avoid naming conflict between connection classes https://issues.jboss.org/browse/DBZ-3147[DBZ-3147]
* Set up commit message check for Vitess https://issues.jboss.org/browse/DBZ-3152[DBZ-3152]
* Put IIDR license requirement into NOTE box https://issues.jboss.org/browse/DBZ-3163[DBZ-3163]
* Consistent logging of connection validation failure https://issues.jboss.org/browse/DBZ-3164[DBZ-3164]
* Remove COLUMN_BLACK_LIST option in Oracle connector https://issues.jboss.org/browse/DBZ-3167[DBZ-3167]



[[release-1.5.0-alpha1]]
== *Release 1.5.0.Alpha1* _(February 4th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12351487[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.6.1 and has been tested with version 2.6.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

A new capturing implementation for the Debezium MySQL connector has been created (https://issues.jboss.org/browse/DBZ-1865[DBZ-1865]) based on the common connector framework used by all the other Kafka Connect connectors of Debezium.
The connector behaviour is almost in parity with previous implementation,
with the exception of the *experimental* parallel snapshotting feature (link:https://issues.redhat.com/browse/DBZ-175[DBZ-175]), which isn't available with the new implementation yet and which is planned to be re-introduced later in a different form.
If you encounter any issues with the new MySQL connector implementation, please log a https://issues.redhat.com/browse/DBZ[Jira issue];
in this case, you can use the legacy implementation by setting the `internal.implementation=legacy` connector configuration option.


=== New Features

* Support emitting TRUNCATE events in PostgreSQL pgoutput plugin https://issues.jboss.org/browse/DBZ-2382[DBZ-2382]
* Migrate DebeziumContainer enhancements for DBZ-2950 and DBZ-2952 into main repository https://issues.jboss.org/browse/DBZ-3024[DBZ-3024]
* Implement meta tags https://issues.jboss.org/browse/DBZ-2620[DBZ-2620]
* Improve performance for very large postgres schemas https://issues.jboss.org/browse/DBZ-2575[DBZ-2575]


=== Fixes

* Extra connectors are not buildable unless main Debezium is built locally https://issues.jboss.org/browse/DBZ-2901[DBZ-2901]
* java.sql.SQLException: ORA-01333: failed to establish Logminer Dictionary https://issues.jboss.org/browse/DBZ-2939[DBZ-2939]
* Add support for connector/task lifecycle ops to UI backend https://issues.jboss.org/browse/DBZ-2951[DBZ-2951]
* Cassandra CDC failed to deserialize list<UserType> column correct https://issues.jboss.org/browse/DBZ-2974[DBZ-2974]
* Debezium Oracle Connector will appear stuck on large SCN jumps https://issues.jboss.org/browse/DBZ-2982[DBZ-2982]
* Invalid regex patterns should fail validation when validation database.include/exclude.list properties for MySQL connector https://issues.jboss.org/browse/DBZ-3008[DBZ-3008]
* Fix repository config for Jenkis snapshot deployment https://issues.jboss.org/browse/DBZ-3011[DBZ-3011]
* Unable to parse non-constant SIGNAL option value https://issues.jboss.org/browse/DBZ-3018[DBZ-3018]
* Cannot parse expression in DEFAULT column definition https://issues.jboss.org/browse/DBZ-3020[DBZ-3020]
* Key being used as value in pubsub batch handler https://issues.jboss.org/browse/DBZ-3037[DBZ-3037]
* Table creation DDL with `CHARACTER SET = DEFAULT` causes MySQL connector failure https://issues.jboss.org/browse/DBZ-3023[DBZ-3023]
* Missing some MariaDB existence predicates in ALTER TABLE https://issues.jboss.org/browse/DBZ-3039[DBZ-3039]


=== Other changes

* Improved resiliency of release process against OSS failures https://issues.jboss.org/browse/DBZ-2274[DBZ-2274]
* Pull up HOSTNAME, PORT, DATABASE_NAME, USER and PASSWORD to RelationalDatabaseConnectorConfig https://issues.jboss.org/browse/DBZ-2420[DBZ-2420]
* Db2 Connector doesn't declare database related config options https://issues.jboss.org/browse/DBZ-2424[DBZ-2424]
* Fix build status badge in README files https://issues.jboss.org/browse/DBZ-2802[DBZ-2802]
* Merge and complete web components PR https://issues.jboss.org/browse/DBZ-2804[DBZ-2804]
* IBM Db2 Connector promoted to GA https://issues.jboss.org/browse/DBZ-2814[DBZ-2814]
* Document several Oracle frequently encountered problems https://issues.jboss.org/browse/DBZ-2970[DBZ-2970]
* No syntax highlighting on website listings https://issues.jboss.org/browse/DBZ-2978[DBZ-2978]
* Admonition icons missing https://issues.jboss.org/browse/DBZ-2986[DBZ-2986]
* Improve logging for Logminer adapter https://issues.jboss.org/browse/DBZ-2999[DBZ-2999]
* CI build not required for changes in README files https://issues.jboss.org/browse/DBZ-3012[DBZ-3012]
* Execute ZZZGtidSetIT as the last test https://issues.jboss.org/browse/DBZ-3047[DBZ-3047]
* Capture and report LogMiner state when mining session fails to start https://issues.jboss.org/browse/DBZ-3055[DBZ-3055]
