---
layout: release-notes
title: Release Notes for Debezium 1.5
debezium-version: "1.5"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-1.5.0-beta1]]
== *Release 1.5.0.Beta1* _(February 23rd, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12353830[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.6.1 and has been tested with version 2.6.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.0.Beta1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.0.Beta1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.0.Beta1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

A regression in the binlog client used by Debezium was identified where large JSON documents in a MySQL JSON column cause a severe performance degredation (https://issues.jboss.org/browse/DBZ-3106[DBZ-3106]).
This issue is under active discussion with the maintainer of the binlog client library.

In earlier versions of Debezium, the MySQL connector incorrectly emitted snapshot events using the `c` (create) operation type instead of the correct type `r` (read).
If you have consumers which rely on that earlier behavior, you can use the `io.debezium.connector.mysql.transforms.ReadToInsertEvent` single message transform to emulate that earlier behavior (https://issues.jboss.org/browse/DBZ-2788[DBZ-2788]).
A connector option which accidentally was introduced in 1.4.0 for this same purpose, `snapshot.events.as.inserts`, got removed again, and the SMT should be used instead in this situation.
This SMT is meant for migration purposes only and will be removed in a future Debezium version.

The (incubating) Debezium connector for Oracle emits transaction ids in lower-case now, differing from the previous behavior of returning them as upper-case (https://issues.jboss.org/browse/DBZ-3165[DBZ-3165]).

The previously deprecated snapshot mode `INITIAL_SCHEMA_ONLY` of the Oracle connector has been removed. Please use `SCHEMA_ONLY` instead (https://issues.jboss.org/browse/DBZ-3034[DBZ-3034]).

=== New Features

* Make field descriptions consistent for time values (milliseconds, ms, sec, seconds, etc) https://issues.jboss.org/browse/DBZ-2858[DBZ-2858]
* DebeziumEngine RecordChangeEvents cannot be modified https://issues.jboss.org/browse/DBZ-2897[DBZ-2897]
* Add license headers and related checkstyle checks for Debezium UI files https://issues.jboss.org/browse/DBZ-2985[DBZ-2985]
* Display commit SHA of UI frontend/backend somewhere in the footer https://issues.jboss.org/browse/DBZ-3052[DBZ-3052]
* Implement UX suggestions for display of connector type https://issues.jboss.org/browse/DBZ-3054[DBZ-3054]
* SqlServerConnector does not implement validate https://issues.jboss.org/browse/DBZ-3056[DBZ-3056]
* Database History Producer does not close with a timeout https://issues.jboss.org/browse/DBZ-3075[DBZ-3075]
* Improve DML parser performance https://issues.jboss.org/browse/DBZ-3078[DBZ-3078]
* Connector list table UI improvement desktop/mobile https://issues.jboss.org/browse/DBZ-3079[DBZ-3079]
* Vitess Connector adds support for Vitess 9.0.0 GA https://issues.jboss.org/browse/DBZ-3100[DBZ-3100]
* Improve layout for Column Truncate - Mask Component https://issues.jboss.org/browse/DBZ-3101[DBZ-3101]
* Improve layout for Data options component and main wizard nav https://issues.jboss.org/browse/DBZ-3105[DBZ-3105]
* Add ability to skip tests based on available database options https://issues.jboss.org/browse/DBZ-3110[DBZ-3110]
* Support for Transaction Metadata in MySql connector https://issues.jboss.org/browse/DBZ-3114[DBZ-3114]
* Add support for JSON column type https://issues.jboss.org/browse/DBZ-3115[DBZ-3115]
* Add support for ENUM column type https://issues.jboss.org/browse/DBZ-3124[DBZ-3124]
* Enable easy downloading of Camel Kafka Connectors https://issues.jboss.org/browse/DBZ-3136[DBZ-3136]
* Capture LogMiner session parameters when session fails to start https://issues.jboss.org/browse/DBZ-3153[DBZ-3153]
* Process special values in temporal datatypes https://issues.jboss.org/browse/DBZ-2614[DBZ-2614]


=== Fixes

* Negative timestamps are converted to positive during snapshot https://issues.jboss.org/browse/DBZ-2616[DBZ-2616]
* Wrong reference to KafkaConnector in setting up Debezium https://issues.jboss.org/browse/DBZ-2745[DBZ-2745]
* Oracle Connector(Using Logminer) with Oracle RDS (v12) does not capture changes https://issues.jboss.org/browse/DBZ-2754[DBZ-2754]
* Oracle connector causes ORA-65090 when connecting to an Oracle instance running in non-CDB mode https://issues.jboss.org/browse/DBZ-2795[DBZ-2795]
* Warnings and notifications from PostgreSQL are ignored by the connector until the connection is closed https://issues.jboss.org/browse/DBZ-2865[DBZ-2865]
* Add support for MySQL to UI Backend  https://issues.jboss.org/browse/DBZ-2950[DBZ-2950]
* ExtractNewRecord SMT incorrectly extracts ts_ms from source info https://issues.jboss.org/browse/DBZ-2984[DBZ-2984]
* Replication terminates with ORA-01291: missing log file https://issues.jboss.org/browse/DBZ-3001[DBZ-3001]
* Kafka Docker image the HEAP_OPTS variable is not used https://issues.jboss.org/browse/DBZ-3006[DBZ-3006]
* Support multiple schemas with Oracle LogMiner https://issues.jboss.org/browse/DBZ-3009[DBZ-3009]
* Function calls does not allow parentheses for functions with non-mandatory parentheses https://issues.jboss.org/browse/DBZ-3017[DBZ-3017]
* Complete support for properties that contain hyphens https://issues.jboss.org/browse/DBZ-3019[DBZ-3019]
* UI issues with connectors table row expansion state https://issues.jboss.org/browse/DBZ-3049[DBZ-3049]
* SQLException for Global temp tables  from OracleDatabaseMetaData.getIndexInfo() makes Debezium snapshotting fail https://issues.jboss.org/browse/DBZ-3057[DBZ-3057]
* Cassandra Connector doesn't support Cassandra version >=3.11.5 https://issues.jboss.org/browse/DBZ-3060[DBZ-3060]
* Make Cassandra Connector work with CommitLogTransfer better https://issues.jboss.org/browse/DBZ-3063[DBZ-3063]
* no viable alternative at input 'create or replace index' https://issues.jboss.org/browse/DBZ-3067[DBZ-3067]
* Connect image propagates  env vars starting with CONNECT prefix https://issues.jboss.org/browse/DBZ-3070[DBZ-3070]
* PgOutputMessageDecoder doesn't order primary keys https://issues.jboss.org/browse/DBZ-3074[DBZ-3074]
* Strange transaction metadata for Oracle logminer connector https://issues.jboss.org/browse/DBZ-3090[DBZ-3090]
* Getting RejectedExecutionException when checking topic settings from KafkaDatabaseHistory.checkTopicSettings https://issues.jboss.org/browse/DBZ-3096[DBZ-3096]
* Environment Variables with spaces are truncated when written to properties file https://issues.jboss.org/browse/DBZ-3103[DBZ-3103]
* Error: Supplemental logging not configured for table. Use command: ALTER TABLE  https://issues.jboss.org/browse/DBZ-3109[DBZ-3109]
* Uncaught (in promise) TypeError: Cannot read property 'call' of undefined https://issues.jboss.org/browse/DBZ-3125[DBZ-3125]
* Final stage of snapshot analyzes tables not present in table.include.list thus stumbles upon unsupported XMLTYPE table https://issues.jboss.org/browse/DBZ-3151[DBZ-3151]
* Missing Prometheus port in kafka network policy  https://issues.jboss.org/browse/DBZ-3170[DBZ-3170]
* XStream does not process NUMER(1) data https://issues.jboss.org/browse/DBZ-3172[DBZ-3172]


=== Other changes

* Setup CI job for DB2  https://issues.jboss.org/browse/DBZ-2235[DBZ-2235]
* Integration with Service Registry promoted to GA https://issues.jboss.org/browse/DBZ-2815[DBZ-2815]
* Remove DECIMAL string sanitisation once Vitess upstream bug is fixed https://issues.jboss.org/browse/DBZ-2908[DBZ-2908]
* Review format and configuration options for Db2 for GA https://issues.jboss.org/browse/DBZ-2977[DBZ-2977]
* Test with Postgres 13 https://issues.jboss.org/browse/DBZ-3022[DBZ-3022]
* Prepare Debezium UI to participate in upstream releases https://issues.jboss.org/browse/DBZ-3027[DBZ-3027]
* Upgrade testcontainers to 1.15.1  https://issues.jboss.org/browse/DBZ-3066[DBZ-3066]
* Use new deployment endpoint for releases to Maven Central https://issues.jboss.org/browse/DBZ-3069[DBZ-3069]
* Remove obsolete Awestruct container image https://issues.jboss.org/browse/DBZ-3072[DBZ-3072]
* "JDBC driver" doesn't make sense for non-relational connectors https://issues.jboss.org/browse/DBZ-3076[DBZ-3076]
* Replace RecordMakers with MySqlChangeRecordEmitter https://issues.jboss.org/browse/DBZ-3077[DBZ-3077]
* Make CI builds resilient against disconnects on GH Actions infrastructure https://issues.jboss.org/browse/DBZ-3083[DBZ-3083]
* Separate SourceInfo and MySQL offset context https://issues.jboss.org/browse/DBZ-3086[DBZ-3086]
* Remove zero-width whitespace from option names https://issues.jboss.org/browse/DBZ-3087[DBZ-3087]
* Adapt UI for MySQL connector type https://issues.jboss.org/browse/DBZ-3091[DBZ-3091]
* Change MySQL database schema contract to support separate parsing and processing phase https://issues.jboss.org/browse/DBZ-3093[DBZ-3093]
* MySQL build stuck for 6h https://issues.jboss.org/browse/DBZ-3095[DBZ-3095]
* Rewrite legacy reader tests https://issues.jboss.org/browse/DBZ-3099[DBZ-3099]
* Intermittent test failure in Postgres PostgresConnectorIT#customSnapshotterSkipsTablesOnRestart https://issues.jboss.org/browse/DBZ-3107[DBZ-3107]
* Remove duplicate anchor links in Connector properties https://issues.jboss.org/browse/DBZ-3111[DBZ-3111]
* Upgrade to Quarkus 1.12.0.Final https://issues.jboss.org/browse/DBZ-3116[DBZ-3116]
* Config validation for Vitess https://issues.jboss.org/browse/DBZ-3117[DBZ-3117]
* Config validation for Oracle https://issues.jboss.org/browse/DBZ-3119[DBZ-3119]
* Avoid naming conflict between connection classes https://issues.jboss.org/browse/DBZ-3147[DBZ-3147]
* Set up commit message check for Vitess https://issues.jboss.org/browse/DBZ-3152[DBZ-3152]
* Put IIDR license requirement into NOTE box https://issues.jboss.org/browse/DBZ-3163[DBZ-3163]
* Consistent logging of connection validation failure https://issues.jboss.org/browse/DBZ-3164[DBZ-3164]
* Remove COLUMN_BLACK_LIST option in Oracle connector https://issues.jboss.org/browse/DBZ-3167[DBZ-3167]



[[release-1.5.0-alpha1]]
== *Release 1.5.0.Alpha1* _(February 4th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12351487[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.6.1 and has been tested with version 2.6.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.5.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.5.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.5.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

A new capturing implementation for the Debezium MySQL connector has been created (https://issues.jboss.org/browse/DBZ-1865[DBZ-1865]) based on the common connector framework used by all the other Kafka Connect connectors of Debezium.
The connector behaviour is almost in parity with previous implementation,
with the exception of the *experimental* parallel snapshotting feature (link:https://issues.redhat.com/browse/DBZ-175[DBZ-175]), which isn't available with the new implementation yet and which is planned to be re-introduced later in a different form.
If you encounter any issues with the new MySQL connector implementation, please log a https://issues.redhat.com/browse/DBZ[Jira issue];
in this case, you can use the legacy implementation by setting the `internal.implementation=legacy` connector configuration option.


=== New Features

* Support emitting TRUNCATE events in PostgreSQL pgoutput plugin https://issues.jboss.org/browse/DBZ-2382[DBZ-2382]
* Migrate DebeziumContainer enhancements for DBZ-2950 and DBZ-2952 into main repository https://issues.jboss.org/browse/DBZ-3024[DBZ-3024]
* Implement meta tags https://issues.jboss.org/browse/DBZ-2620[DBZ-2620]
* Improve performance for very large postgres schemas https://issues.jboss.org/browse/DBZ-2575[DBZ-2575]


=== Fixes

* Extra connectors are not buildable unless main Debezium is built locally https://issues.jboss.org/browse/DBZ-2901[DBZ-2901]
* java.sql.SQLException: ORA-01333: failed to establish Logminer Dictionary https://issues.jboss.org/browse/DBZ-2939[DBZ-2939]
* Add support for connector/task lifecycle ops to UI backend https://issues.jboss.org/browse/DBZ-2951[DBZ-2951]
* Cassandra CDC failed to deserialize list<UserType> column correct https://issues.jboss.org/browse/DBZ-2974[DBZ-2974]
* Debezium Oracle Connector will appear stuck on large SCN jumps https://issues.jboss.org/browse/DBZ-2982[DBZ-2982]
* Invalid regex patterns should fail validation when validation database.include/exclude.list properties for MySQL connector https://issues.jboss.org/browse/DBZ-3008[DBZ-3008]
* Fix repository config for Jenkis snapshot deployment https://issues.jboss.org/browse/DBZ-3011[DBZ-3011]
* Unable to parse non-constant SIGNAL option value https://issues.jboss.org/browse/DBZ-3018[DBZ-3018]
* Cannot parse expression in DEFAULT column definition https://issues.jboss.org/browse/DBZ-3020[DBZ-3020]
* Key being used as value in pubsub batch handler https://issues.jboss.org/browse/DBZ-3037[DBZ-3037]
* Table creation DDL with `CHARACTER SET = DEFAULT` causes MySQL connector failure https://issues.jboss.org/browse/DBZ-3023[DBZ-3023]
* Missing some MariaDB existence predicates in ALTER TABLE https://issues.jboss.org/browse/DBZ-3039[DBZ-3039]


=== Other changes

* Improved resiliency of release process against OSS failures https://issues.jboss.org/browse/DBZ-2274[DBZ-2274]
* Pull up HOSTNAME, PORT, DATABASE_NAME, USER and PASSWORD to RelationalDatabaseConnectorConfig https://issues.jboss.org/browse/DBZ-2420[DBZ-2420]
* Db2 Connector doesn't declare database related config options https://issues.jboss.org/browse/DBZ-2424[DBZ-2424]
* Fix build status badge in README files https://issues.jboss.org/browse/DBZ-2802[DBZ-2802]
* Merge and complete web components PR https://issues.jboss.org/browse/DBZ-2804[DBZ-2804]
* IBM Db2 Connector promoted to GA https://issues.jboss.org/browse/DBZ-2814[DBZ-2814]
* Document several Oracle frequently encountered problems https://issues.jboss.org/browse/DBZ-2970[DBZ-2970]
* No syntax highlighting on website listings https://issues.jboss.org/browse/DBZ-2978[DBZ-2978]
* Admonition icons missing https://issues.jboss.org/browse/DBZ-2986[DBZ-2986]
* Improve logging for Logminer adapter https://issues.jboss.org/browse/DBZ-2999[DBZ-2999]
* CI build not required for changes in README files https://issues.jboss.org/browse/DBZ-3012[DBZ-3012]
* Execute ZZZGtidSetIT as the last test https://issues.jboss.org/browse/DBZ-3047[DBZ-3047]
* Capture and report LogMiner state when mining session fails to start https://issues.jboss.org/browse/DBZ-3055[DBZ-3055]
