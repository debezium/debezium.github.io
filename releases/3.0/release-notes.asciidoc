---
layout: release-notes
title: Release Notes for Debezium 3.0
debezium-version: "3.0"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

## 3.0.0.Final
October 2nd 2024 [Detailed release notes](https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12431955)

### New features since 3.0.0.CR2

* Add documentation for custom converters in PG [DBZ-7820](https://issues.redhat.com/browse/DBZ-7820)
* Create REST bridge for DBZ signal channels [DBZ-8101](https://issues.redhat.com/browse/DBZ-8101)
* Support int/bigint arrays in reselect colums postprocessors [DBZ-8212](https://issues.redhat.com/browse/DBZ-8212)
* Log the record key when debezium fails to send the record to Kafka [DBZ-8282](https://issues.redhat.com/browse/DBZ-8282)


### Breaking changes since 3.0.0.CR2

* Remove deprecated additional condition property for incremental snapshot [DBZ-8278](https://issues.redhat.com/browse/DBZ-8278)


### Fixes since 3.0.0.CR2

* Custom convert (all to strings) and SQLServer default '0' type issue [DBZ-7045](https://issues.redhat.com/browse/DBZ-7045)
* UnsupportedClassVersionError while running debezium-connector docker Image [DBZ-7751](https://issues.redhat.com/browse/DBZ-7751)
* Error writing data to target database. (Caused by: java.lang.RuntimeException: org.postgresql.util.PSQLException: The column index is out of range: 140, number of columns: 139.) [DBZ-8221](https://issues.redhat.com/browse/DBZ-8221)
* Debezium Server messages not being sent to Pub/Sub after restart [DBZ-8236](https://issues.redhat.com/browse/DBZ-8236)
* An aborted ad-hoc blocking snapshot leaves the connector in a broken state   [DBZ-8244](https://issues.redhat.com/browse/DBZ-8244)
* JDBC Sink truncate event also add event to updateBufferByTable [DBZ-8247](https://issues.redhat.com/browse/DBZ-8247)
* mysql-binlog-connector-java doesn't compile with java 21 [DBZ-8253](https://issues.redhat.com/browse/DBZ-8253)
* DDL statement couldn't be parsed. 'mismatched input 'NOCACHE' expecting {'AS', 'USAGE', ';'} [DBZ-8262](https://issues.redhat.com/browse/DBZ-8262)
* journal processing loops after journal offset reset [DBZ-8265](https://issues.redhat.com/browse/DBZ-8265)


### Other changes since 3.0.0.CR2

* Add async engine config options to server documentation [DBZ-8133](https://issues.redhat.com/browse/DBZ-8133)
* Bump apicurio schema registry to 2.6.2.Final [DBZ-8145](https://issues.redhat.com/browse/DBZ-8145)
* Correct description of the `all_tables` option for the PG `publication.autocreate.mode` property [DBZ-8268](https://issues.redhat.com/browse/DBZ-8268)
* Test docs for productization and fix broken links and rendering errors  [DBZ-8284](https://issues.redhat.com/browse/DBZ-8284)



================================================================================
================================================================================
                               release-notes.asciidoc
================================================================================
[[release-3.0.0-final]]
== *Release 3.0.0.Final* _(October 2nd 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12431955[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.8.0 and has been tested with version 3.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

The deprecated `additional-condition` field of `execute-snapshot` signal was removed.
The field is fully replaced with previously introduced `additional-conditions` field (https://issues.redhat.com/browse/DBZ-8278[DBZ-8278]).


=== New features

* Add documentation for custom converters in PG https://issues.redhat.com/browse/DBZ-7820[DBZ-7820]
* Create REST bridge for DBZ signal channels https://issues.redhat.com/browse/DBZ-8101[DBZ-8101]
* Support int/bigint arrays in reselect colums postprocessors https://issues.redhat.com/browse/DBZ-8212[DBZ-8212]
* Log the record key when debezium fails to send the record to Kafka https://issues.redhat.com/browse/DBZ-8282[DBZ-8282]


=== Fixes

* Custom convert (all to strings) and SQLServer default '0' type issue https://issues.redhat.com/browse/DBZ-7045[DBZ-7045]
* UnsupportedClassVersionError while running debezium-connector docker Image https://issues.redhat.com/browse/DBZ-7751[DBZ-7751]
* Error writing data to target database. (Caused by: java.lang.RuntimeException: org.postgresql.util.PSQLException: The column index is out of range: 140, number of columns: 139.) https://issues.redhat.com/browse/DBZ-8221[DBZ-8221]
* Debezium Server messages not being sent to Pub/Sub after restart https://issues.redhat.com/browse/DBZ-8236[DBZ-8236]
* An aborted ad-hoc blocking snapshot leaves the connector in a broken state   https://issues.redhat.com/browse/DBZ-8244[DBZ-8244]
* JDBC Sink truncate event also add event to updateBufferByTable https://issues.redhat.com/browse/DBZ-8247[DBZ-8247]
* mysql-binlog-connector-java doesn't compile with java 21 https://issues.redhat.com/browse/DBZ-8253[DBZ-8253]
* DDL statement couldn't be parsed. 'mismatched input 'NOCACHE' expecting {'AS', 'USAGE', ';'} https://issues.redhat.com/browse/DBZ-8262[DBZ-8262]
* journal processing loops after journal offset reset https://issues.redhat.com/browse/DBZ-8265[DBZ-8265]


=== Other changes

* Add async engine config options to server documentation https://issues.redhat.com/browse/DBZ-8133[DBZ-8133]
* Bump apicurio schema registry to 2.6.2.Final https://issues.redhat.com/browse/DBZ-8145[DBZ-8145]
* Correct description of the `all_tables` option for the PG `publication.autocreate.mode` property https://issues.redhat.com/browse/DBZ-8268[DBZ-8268]
* Test docs for productization and fix broken links and rendering errors  https://issues.redhat.com/browse/DBZ-8284[DBZ-8284]



[[release-3.0.0-cr2]]
== *Release 3.0.0.CR2* _(September 25th 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12433150[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.8.0 and has been tested with version 3.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.CR2 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.CR2 plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.CR2 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

There are no breaking changes in this release.


=== New features

* Snapshot isolation level options for postgres https://issues.redhat.com/browse/DBZ-1252[DBZ-1252]
* Retry flush records if LockAcquisitionException occured in mysql https://issues.redhat.com/browse/DBZ-7291[DBZ-7291]
* Add support for MAX_STRING_SIZE set to EXTENDED https://issues.redhat.com/browse/DBZ-8039[DBZ-8039]
* Add invalid value logger for dates to Debezium Vitess Connector  https://issues.redhat.com/browse/DBZ-8235[DBZ-8235]
* Support BLOB with EMPTY_BLOB() as default https://issues.redhat.com/browse/DBZ-8248[DBZ-8248]


=== Fixes

* Debezium does not restart automatically after throwing an ORA-00600 krvrdccs30 error https://issues.redhat.com/browse/DBZ-8223[DBZ-8223]
* JDBC sink doesn't include fields as per documentation https://issues.redhat.com/browse/DBZ-8224[DBZ-8224]
* Unbounded number of processing threads in async engine https://issues.redhat.com/browse/DBZ-8237[DBZ-8237]
* Streaming metrics are stuck after an ad-hoc blocking snapshot https://issues.redhat.com/browse/DBZ-8238[DBZ-8238]
* DDL statement couldn't be parsed with IF EXISTS https://issues.redhat.com/browse/DBZ-8240[DBZ-8240]
* Random engine factory used by default https://issues.redhat.com/browse/DBZ-8241[DBZ-8241]
* JDBC sink test suite should use the debezium/connect:nightly image for e2e tests https://issues.redhat.com/browse/DBZ-8245[DBZ-8245]
* Performance Regression in Debezium Server Kafka after DBZ-7575 fix https://issues.redhat.com/browse/DBZ-8251[DBZ-8251]
* Error Prone library included in MySQL connector https://issues.redhat.com/browse/DBZ-8258[DBZ-8258]
* Debezium.text.ParsingException: DDL statement couldn't be parsed https://issues.redhat.com/browse/DBZ-8259[DBZ-8259]


=== Other changes

* Test and check compatibility with ojdbc11 https://issues.redhat.com/browse/DBZ-3658[DBZ-3658]
* Broken link to Streams doc about configuring logging  https://issues.redhat.com/browse/DBZ-8231[DBZ-8231]
* Document passthrough hibernate.* properties for the JDBC connector https://issues.redhat.com/browse/DBZ-8232[DBZ-8232]
* Bump Infinispan to 15.0.8.Final https://issues.redhat.com/browse/DBZ-8246[DBZ-8246]
* AbstractConnectorTest consumeRecordsUntil may prematurely exit loop https://issues.redhat.com/browse/DBZ-8250[DBZ-8250]
* Add a note to the docs about JDBC batch retry configs https://issues.redhat.com/browse/DBZ-8252[DBZ-8252]
* Fix conditionalization in shared MariaDB/MySQL file https://issues.redhat.com/browse/DBZ-8254[DBZ-8254]
* Add Oracle FUTC license https://issues.redhat.com/browse/DBZ-8260[DBZ-8260]
* Remove Oracle libs from product assembly package https://issues.redhat.com/browse/DBZ-8261[DBZ-8261]
* debezium-connector-binlog does not need MariaDB dependency https://issues.redhat.com/browse/DBZ-8263[DBZ-8263]
* Provide subset package for Debezium Server https://issues.redhat.com/browse/DBZ-8264[DBZ-8264]
* Bump container images to Fedora 40 https://issues.redhat.com/browse/DBZ-8266[DBZ-8266]



[[release-3.0.0-cr1]]
== *Release 3.0.0.CR1* _(September 13rd 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12432262[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.8.0 and has been tested with version 3.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.CR1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.CR1 plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.CR1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

JMX signalling and notification did not work correctly for deployments with SQL Server configured for multiple tasks.
To fix the issue it was necessary to change the naming of signalling and notification MBeans to make them unique per each task (https://issues.redhat.com/browse/DBZ-8137[DBZ-8137]).

Deprecated Oracle connector configuration options were removed from the project (https://issues.redhat.com/browse/DBZ-8181[DBZ-8181]).

Vector datatype names introduced for PostgreSQL were too related to PostgreSQL datatype naming.
The type names were changed to more generic ones and are shared between PostgreSQL and MySQL (https://issues.redhat.com/browse/DBZ-8183[DBZ-8183]).



=== New features

* Add support for MySQL 9 https://issues.redhat.com/browse/DBZ-8030[DBZ-8030]
* Add support for MySQL vector datatype https://issues.redhat.com/browse/DBZ-8157[DBZ-8157]
* Refactor engine signal support https://issues.redhat.com/browse/DBZ-8160[DBZ-8160]
* Add feature to inherit shard epoch https://issues.redhat.com/browse/DBZ-8163[DBZ-8163]
* Avoid 3 second delay in Oracle when one of the RAC nodes is offline https://issues.redhat.com/browse/DBZ-8177[DBZ-8177]
* Truncate byte buffer should return a new array https://issues.redhat.com/browse/DBZ-8189[DBZ-8189]
* Support for older MongoDb versions https://issues.redhat.com/browse/DBZ-8202[DBZ-8202]
* Add VECTOR functions to MySQL grammar https://issues.redhat.com/browse/DBZ-8210[DBZ-8210]
* Support MariaDB 11.4.3 https://issues.redhat.com/browse/DBZ-8226[DBZ-8226]
* Add information about helm chart installation to operator readme https://issues.redhat.com/browse/DBZ-8233[DBZ-8233]


=== Fixes

* Make ORA-00600 - krvrdccs10 automatically retriable https://issues.redhat.com/browse/DBZ-5009[DBZ-5009]
* Incremental snapshot fails with NPE if surrogate key doesn't exist https://issues.redhat.com/browse/DBZ-7797[DBZ-7797]
* MySQL 8.4 incompatibility due to removed SQL commands https://issues.redhat.com/browse/DBZ-7838[DBZ-7838]
* Postgres connector - null value processing for "money" type column. https://issues.redhat.com/browse/DBZ-8027[DBZ-8027]
* Using snapshot.include.collection.list with Oracle raises NullPointerException https://issues.redhat.com/browse/DBZ-8032[DBZ-8032]
* Performance degradation when reconstructing (log.mining.stragtegy hybrid mode) https://issues.redhat.com/browse/DBZ-8071[DBZ-8071]
* The source data type exceeds the debezium data type and cannot deserialize the object https://issues.redhat.com/browse/DBZ-8142[DBZ-8142]
* Incorrect use of generic types in tests https://issues.redhat.com/browse/DBZ-8166[DBZ-8166]
* Postgres JSONB Fields are not supported with Reselect Post Processor https://issues.redhat.com/browse/DBZ-8168[DBZ-8168]
* NullPointerException (schemaUpdateCache is null) when restarting Oracle engine https://issues.redhat.com/browse/DBZ-8187[DBZ-8187]
* XStream may fail to attach on retry if previous attempt failed https://issues.redhat.com/browse/DBZ-8188[DBZ-8188]
* Exclude Oracle 23 VECSYS tablespace from capture https://issues.redhat.com/browse/DBZ-8198[DBZ-8198]
* AbstractProcessorTest uses an incorrect database name when run against Oracle 23 Free edition https://issues.redhat.com/browse/DBZ-8199[DBZ-8199]
* DDL statement couldn't be parsed: REVOKE IF EXISTS https://issues.redhat.com/browse/DBZ-8209[DBZ-8209]
* System testsuite fails with route name being too long https://issues.redhat.com/browse/DBZ-8213[DBZ-8213]
* Oracle TableSchemaBuilder provides wrong column name in error message https://issues.redhat.com/browse/DBZ-8217[DBZ-8217]
* Using ehcache in Kafka connect throws an XMLConfiguration parse exception https://issues.redhat.com/browse/DBZ-8219[DBZ-8219]
* OcpJdbcSinkConnectorIT fails https://issues.redhat.com/browse/DBZ-8228[DBZ-8228]
* Container image does not install correct apicurio deps https://issues.redhat.com/browse/DBZ-8230[DBZ-8230]


=== Other changes

* Documentation for signals provides incorrect data-collection format for some connectors https://issues.redhat.com/browse/DBZ-8090[DBZ-8090]
* Latest Informix JDBC Driver https://issues.redhat.com/browse/DBZ-8167[DBZ-8167]
* upgrade Adobe s3mock to version 3.10.0 https://issues.redhat.com/browse/DBZ-8169[DBZ-8169]
* Include Jackson libraries to JDBC connector Docker image distribution https://issues.redhat.com/browse/DBZ-8175[DBZ-8175]
* Ehcache fails to start, throwing "Invaild XML Configuration" https://issues.redhat.com/browse/DBZ-8178[DBZ-8178]
* Enable snapshot.database.errors.max.retriesEnable during Oracle tests https://issues.redhat.com/browse/DBZ-8184[DBZ-8184]
* Change event for a logical decoding message doesn't contain `transaction` field https://issues.redhat.com/browse/DBZ-8185[DBZ-8185]
* Add MariaDB connector server distribution https://issues.redhat.com/browse/DBZ-8186[DBZ-8186]
* Update Vitess example to Debezium 2.7/Vitess 19 https://issues.redhat.com/browse/DBZ-8196[DBZ-8196]
* OracleConnectorIT test shouldGracefullySkipObjectBasedTables can timeout prematurely https://issues.redhat.com/browse/DBZ-8197[DBZ-8197]
* Reduce log verbosity of OpenLogReplicator SCN confirmation https://issues.redhat.com/browse/DBZ-8201[DBZ-8201]
* Implement separate source and sink connector sections in documentation navigation https://issues.redhat.com/browse/DBZ-8220[DBZ-8220]



[[release-3.0.0-beta1]]
== *Release 3.0.0.Beta1* _(August 22nd 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12431096[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.8.0 and has been tested with version 3.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.Beta1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.Beta1 plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.Beta1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

Debezim Kafka sink could wait indefinitely in case of Kafka broker unavailablity.
A support for configurable timeout was added and the default behaviour is timeout after 30 seconds (https://issues.redhat.com/browse/DBZ-7575[DBZ-7575]).

RabbitMQ native stream sink was sending changes all messages into a static single stream.
With the new default behaviour the changes are sent to a distinct stream for each table (https://issues.redhat.com/browse/DBZ-8118[DBZ-8118]).



=== New features

* Implement Ehcache event buffer https://issues.redhat.com/browse/DBZ-7758[DBZ-7758]
* Expose a metric for number of create, update, delete events per table https://issues.redhat.com/browse/DBZ-8035[DBZ-8035]
* Log additional details about abandoned transactions https://issues.redhat.com/browse/DBZ-8044[DBZ-8044]
* Introduce timeout for replication slot creation https://issues.redhat.com/browse/DBZ-8073[DBZ-8073]
* ConverterBuilder doesn't pass Headers to be manipulated https://issues.redhat.com/browse/DBZ-8082[DBZ-8082]
* Add SMT to decode binary content of a logical decoding message https://issues.redhat.com/browse/DBZ-8103[DBZ-8103]
* Support DECIMAL(p) Floating Point https://issues.redhat.com/browse/DBZ-8114[DBZ-8114]
* Support for PgVector datatypes https://issues.redhat.com/browse/DBZ-8121[DBZ-8121]
* Implement in process signal channel  https://issues.redhat.com/browse/DBZ-8135[DBZ-8135]
* Validate log position method missing gtid info from SourceInfo https://issues.redhat.com/browse/DBZ-8140[DBZ-8140]
* Vitess Connector Epoch should support parallelism & shard changes https://issues.redhat.com/browse/DBZ-8154[DBZ-8154]
* Add an option for `publication.autocreate.mode` to create a publication with no tables https://issues.redhat.com/browse/DBZ-8156[DBZ-8156]


=== Fixes

* Incremental snapshots don't work with CloudEvent converter https://issues.redhat.com/browse/DBZ-7601[DBZ-7601]
* Snapshot retrying logic falls into infinite retry loop https://issues.redhat.com/browse/DBZ-7860[DBZ-7860]
* Primary Key Update/ Snapshot Race Condition https://issues.redhat.com/browse/DBZ-8113[DBZ-8113]
* Docs: connect-log4j.properties instead log4j.properties https://issues.redhat.com/browse/DBZ-8117[DBZ-8117]
* Recalculating mining range upper bounds causes getScnFromTimestamp to fail https://issues.redhat.com/browse/DBZ-8119[DBZ-8119]
* ORA-00600: internal error code, arguments: [krvrdGetUID:2], [18446744073709551614], [], [], [], [], [], [], [], [], [], [] https://issues.redhat.com/browse/DBZ-8125[DBZ-8125]
* ConvertingFailureIT#shouldFailConversionTimeTypeWithConnectModeWhenFailMode fails randomly https://issues.redhat.com/browse/DBZ-8128[DBZ-8128]
* ibmi Connector does not take custom properties into account anymore https://issues.redhat.com/browse/DBZ-8129[DBZ-8129]
* Unpredicatable ordering of table rows during insertion causing foreign key error https://issues.redhat.com/browse/DBZ-8130[DBZ-8130]
* schema_only crashes ibmi Connector https://issues.redhat.com/browse/DBZ-8131[DBZ-8131]
* Support larger database.server.id values https://issues.redhat.com/browse/DBZ-8134[DBZ-8134]
* Open redo thread consistency check can lead to ORA-01291 - missing logfile https://issues.redhat.com/browse/DBZ-8144[DBZ-8144]
* SchemaOnlyRecoverySnapshotter not registered as an SPI service implementation https://issues.redhat.com/browse/DBZ-8147[DBZ-8147]
* When stopping the Oracle rac node the Debezium server throws an expections - ORA-12514: Cannot connect to database and retries  https://issues.redhat.com/browse/DBZ-8149[DBZ-8149]
* Issue with Debezium Snapshot: DateTimeParseException with plugin pgoutput https://issues.redhat.com/browse/DBZ-8150[DBZ-8150]
* JDBC connector validation fails when using record_value with no primary.key.fields https://issues.redhat.com/browse/DBZ-8151[DBZ-8151]
* Taking RAC node offline and back online can lead to thread inconsistency https://issues.redhat.com/browse/DBZ-8162[DBZ-8162]


=== Other changes

* MySQL has deprecated mysql_native_password usage https://issues.redhat.com/browse/DBZ-7049[DBZ-7049]
* Upgrade to Apicurio 2.5.8 or higher https://issues.redhat.com/browse/DBZ-7357[DBZ-7357]
* Write and publish Debezium Orchestra blog post https://issues.redhat.com/browse/DBZ-7972[DBZ-7972]
* Move Debezium Conductor repository under Debezium Organisation https://issues.redhat.com/browse/DBZ-7973[DBZ-7973]
* Decide on name, jira components, etc... for Debezium Orchestra platform https://issues.redhat.com/browse/DBZ-7975[DBZ-7975]
* Migrate Postgres testsuite to async engine https://issues.redhat.com/browse/DBZ-8077[DBZ-8077]
* Conditionalize reference to the MySQL default value in description of `schema.history.internal.store.only.captured.databases.ddl` https://issues.redhat.com/browse/DBZ-8081[DBZ-8081]
* Bump Debezium Server to Quarkus 3.8.5 https://issues.redhat.com/browse/DBZ-8095[DBZ-8095]
* Converters documentation uses incorrect examples https://issues.redhat.com/browse/DBZ-8104[DBZ-8104]
* Remove reference to`additional condition` signal parameter from ad hoc snapshots doc https://issues.redhat.com/browse/DBZ-8107[DBZ-8107]
* TimescaleDbDatabaseTest.shouldTransformCompressedChunks is failing https://issues.redhat.com/browse/DBZ-8123[DBZ-8123]
* Update Oracle connector doc to describe options for restricting access permissions for the Debezium LogMiner user  https://issues.redhat.com/browse/DBZ-8124[DBZ-8124]
* Use SQLSTATE to handle exceptions for replication slot creation command timeout https://issues.redhat.com/browse/DBZ-8127[DBZ-8127]
* Re-add check to test for if assembly profile is active https://issues.redhat.com/browse/DBZ-8138[DBZ-8138]
* Add LogMiner start mining session retry attempt counter to logs https://issues.redhat.com/browse/DBZ-8143[DBZ-8143]
* Reduce logging verbosity of XStream DML event data https://issues.redhat.com/browse/DBZ-8148[DBZ-8148]
* Upgrade Outbox Extension to Quarkus 3.14.0 https://issues.redhat.com/browse/DBZ-8164[DBZ-8164]



[[release-3.0.0-alpha2]]
== *Release 3.0.0.Alpha2* _(August 2nd 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12430393[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.8.0 and has been tested with version 3.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.Alpha2 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.Alpha2 plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.Alpha2 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

Debezium is now build with Kafka 3.8.0.
There were few changes in Kafka internal APIs Debezium is using.
The codebase was modified to run with both pre-3.8.0 and 3.8.0 versions (https://issues.redhat.com/browse/DBZ-8105[DBZ-8105]).



=== New features

* Add Status ObservedGeneration to Operator https://issues.redhat.com/browse/DBZ-8025[DBZ-8025]
* Support Custom Converters in Debezium Server https://issues.redhat.com/browse/DBZ-8040[DBZ-8040]
* Support FLOAT32 type in debezium-connector-spanner https://issues.redhat.com/browse/DBZ-8043[DBZ-8043]
* Debezium should auto exclude empty shards (no tablets) and not crash on keyspaces with empty shards https://issues.redhat.com/browse/DBZ-8053[DBZ-8053]
* Refactor LogMining implementation to allow alternative cache implementations https://issues.redhat.com/browse/DBZ-8054[DBZ-8054]
* Standard Webhooks signatures for HTTP sink https://issues.redhat.com/browse/DBZ-8063[DBZ-8063]
* Vitess-connector should provide a topic naming strategy that supports separate connectors per-table https://issues.redhat.com/browse/DBZ-8069[DBZ-8069]
* Update third-party LICENSE with LGPL forMariaDB Connector/J https://issues.redhat.com/browse/DBZ-8099[DBZ-8099]
* Rabbitmq native stream Failed https://issues.redhat.com/browse/DBZ-8108[DBZ-8108]


=== Fixes

* Embedded Infinispan tests fail to start with Java 23 https://issues.redhat.com/browse/DBZ-7840[DBZ-7840]
* Clarify that Oracle connector does not read from physical standby https://issues.redhat.com/browse/DBZ-7895[DBZ-7895]
* StackOverflow exception on incremental snapshot https://issues.redhat.com/browse/DBZ-8011[DBZ-8011]
* JDBC primary.key.fields cannot be empty when i set insert.mode to upsert  and primary.key.mode record_value https://issues.redhat.com/browse/DBZ-8018[DBZ-8018]
* Unable to acquire buffer lock, buffer queue is likely full https://issues.redhat.com/browse/DBZ-8022[DBZ-8022]
* Release process sets incorrect images for k8s for the next development version  https://issues.redhat.com/browse/DBZ-8041[DBZ-8041]
* Use recrate as (default) rollout strategy for deployments https://issues.redhat.com/browse/DBZ-8047[DBZ-8047]
* "Unexpected input: ." when snapshot incremental empty Database https://issues.redhat.com/browse/DBZ-8050[DBZ-8050]
* Debezium Operator Using RollingUpdate Strategy https://issues.redhat.com/browse/DBZ-8051[DBZ-8051]
* Debezium Operator Using RollingUpdate Strategy https://issues.redhat.com/browse/DBZ-8052[DBZ-8052]
* Oracle connector inconsistency in redo log switches https://issues.redhat.com/browse/DBZ-8055[DBZ-8055]
* Blocking snapshot can fail due to CommunicationsException https://issues.redhat.com/browse/DBZ-8058[DBZ-8058]
* FakeDNS not working with JDK version > 18 https://issues.redhat.com/browse/DBZ-8059[DBZ-8059]
* Debezium Operator with a provided Service Account doesn't spin up deployment https://issues.redhat.com/browse/DBZ-8061[DBZ-8061]
* ParsingException (MySQL/MariaDB): rename table syntax https://issues.redhat.com/browse/DBZ-8066[DBZ-8066]
* Oracle histogram metrics are no longer printed in logs correctly https://issues.redhat.com/browse/DBZ-8068[DBZ-8068]
* In hybrid  log.mining.strategy reconstruction logs should be set to DEBUG https://issues.redhat.com/browse/DBZ-8070[DBZ-8070]
* Support capturing BLOB column types during snapshot for MySQL/MariaDB https://issues.redhat.com/browse/DBZ-8076[DBZ-8076]
* Standard Webhooks auth secret config value is not marked as PASSWORD_PATTERN  https://issues.redhat.com/browse/DBZ-8078[DBZ-8078]
* Vitess transaction Epoch should not reset to zero when tx ID is missing https://issues.redhat.com/browse/DBZ-8087[DBZ-8087]
* After changing the column datatype from int to float the Debezium fails to round it and i get a null value for this field in the stream https://issues.redhat.com/browse/DBZ-8089[DBZ-8089]
* MySQL and MariaDB keyword YES cannot be parsed as a column name https://issues.redhat.com/browse/DBZ-8092[DBZ-8092]
* NotificationIT tests seemingly seem to fail due to stepping on one another https://issues.redhat.com/browse/DBZ-8100[DBZ-8100]
* ORA-26928 - Unable to communicate with XStream apply coordinator process should be retriable https://issues.redhat.com/browse/DBZ-8102[DBZ-8102]
* Transformations are not closed in emebdded engine https://issues.redhat.com/browse/DBZ-8106[DBZ-8106]
* Don't close connection after loading timescale metadata in TimescaleDb SMT https://issues.redhat.com/browse/DBZ-8109[DBZ-8109]


=== Other changes

* Bump Infinispan to 14.0.29.Final https://issues.redhat.com/browse/DBZ-8010[DBZ-8010]
* Write a blog post about async engine https://issues.redhat.com/browse/DBZ-8013[DBZ-8013]
* Test offset/history store configurations https://issues.redhat.com/browse/DBZ-8015[DBZ-8015]
* Upgrade postgres server version to 15 https://issues.redhat.com/browse/DBZ-8062[DBZ-8062]
* Disable DebeziumResourceNoTopicCreationIT - no longer compatible with Java 21 https://issues.redhat.com/browse/DBZ-8067[DBZ-8067]
* Speed-up PostgresShutdownIT https://issues.redhat.com/browse/DBZ-8075[DBZ-8075]
* Add MariaDB to debezium/connect image https://issues.redhat.com/browse/DBZ-8088[DBZ-8088]



[[release-3.0.0-alpha1]]
== *Release 3.0.0.Alpha1* _(July 11st 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12413693[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.7.0 and has been tested with version 3.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

Debezium connectors now require Java 17 for runtime and Java 21 for building.
Debezium Server, Debezium Operator, and Debezium Outbox extension require Java 21 both for build and runtime (https://issues.redhat.com/browse/DBZ-6795[DBZ-6795]).



=== New features

* Provide MongoDB sink connector https://issues.redhat.com/browse/DBZ-7223[DBZ-7223]
* Extends process of finding Bundle path https://issues.redhat.com/browse/DBZ-7992[DBZ-7992]
* Support FLOAT32 type in debezium-connector-spanner https://issues.redhat.com/browse/DBZ-8043[DBZ-8043]


=== Fixes

* Debezium postgres jdbc sink not handling infinity values https://issues.redhat.com/browse/DBZ-7920[DBZ-7920]
* JdbcSinkTask doesn't clear offsets on stop https://issues.redhat.com/browse/DBZ-7946[DBZ-7946]
* ibmi as400 connector config isn't prefixed with "database." https://issues.redhat.com/browse/DBZ-7955[DBZ-7955]
* Duplicate downstream annotation comments incorrectly refer to Db2 connector https://issues.redhat.com/browse/DBZ-7968[DBZ-7968]
* Issue with Hybrid mode and DDL change https://issues.redhat.com/browse/DBZ-7991[DBZ-7991]
* Incorrect offset/history property mapping generatated  https://issues.redhat.com/browse/DBZ-8007[DBZ-8007]
* Debezium Server Operator on minikube with java.lang.NullPointerException': java.lang.NullPointerException https://issues.redhat.com/browse/DBZ-8019[DBZ-8019]
* ORA-65090: operation only allowed in a container database when connecting to a non-CDB database https://issues.redhat.com/browse/DBZ-8023[DBZ-8023]
* Added type to Prometheus JMX exporter https://issues.redhat.com/browse/DBZ-8036[DBZ-8036]
* Add `kafka.producer` metrics to debezium-server jmx exporter config https://issues.redhat.com/browse/DBZ-8037[DBZ-8037]


=== Other changes

* Use Java 17 as baseline https://issues.redhat.com/browse/DBZ-7224[DBZ-7224]
* Document new MariaDB connector https://issues.redhat.com/browse/DBZ-7786[DBZ-7786]
* Move to Maven 3.9.8 as build requirement https://issues.redhat.com/browse/DBZ-7965[DBZ-7965]
* Add disclaimer that PostProcessors and CustomConverters are Debezium source connectors only https://issues.redhat.com/browse/DBZ-8031[DBZ-8031]
* Typos in Bug report template https://issues.redhat.com/browse/DBZ-8038[DBZ-8038]
* Find an alternative way to manually deploy the connector with local changes that is compatible with Debezium 3 https://issues.redhat.com/browse/DBZ-8046[DBZ-8046]

