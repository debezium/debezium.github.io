---
layout: release-notes
title: Release Notes for Debezium 3.0
debezium-version: "3.0"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-3.0.0-alpha2]]
== *Release 3.0.0.Alpha2* _(August 2nd 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12430393[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.8.0 and has been tested with version 3.8.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.Alpha2 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.Alpha2 plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.Alpha2 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

Debezium is now build with Kafka 3.8.0.
There were few changes in Kafka internal APIs Debezium is using.
The codebase was modified to run with both pre-3.8.0 and 3.8.0 versions (https://issues.redhat.com/browse/DBZ-8105[DBZ-8105]).



=== New features

* Add Status ObservedGeneration to Operator https://issues.redhat.com/browse/DBZ-8025[DBZ-8025]
* Support Custom Converters in Debezium Server https://issues.redhat.com/browse/DBZ-8040[DBZ-8040]
* Support FLOAT32 type in debezium-connector-spanner https://issues.redhat.com/browse/DBZ-8043[DBZ-8043]
* Debezium should auto exclude empty shards (no tablets) and not crash on keyspaces with empty shards https://issues.redhat.com/browse/DBZ-8053[DBZ-8053]
* Refactor LogMining implementation to allow alternative cache implementations https://issues.redhat.com/browse/DBZ-8054[DBZ-8054]
* Standard Webhooks signatures for HTTP sink https://issues.redhat.com/browse/DBZ-8063[DBZ-8063]
* Vitess-connector should provide a topic naming strategy that supports separate connectors per-table https://issues.redhat.com/browse/DBZ-8069[DBZ-8069]
* Update third-party LICENSE with LGPL forMariaDB Connector/J https://issues.redhat.com/browse/DBZ-8099[DBZ-8099]
* Rabbitmq native stream Failed https://issues.redhat.com/browse/DBZ-8108[DBZ-8108]


=== Fixes

* Embedded Infinispan tests fail to start with Java 23 https://issues.redhat.com/browse/DBZ-7840[DBZ-7840]
* Clarify that Oracle connector does not read from physical standby https://issues.redhat.com/browse/DBZ-7895[DBZ-7895]
* StackOverflow exception on incremental snapshot https://issues.redhat.com/browse/DBZ-8011[DBZ-8011]
* JDBC primary.key.fields cannot be empty when i set insert.mode to upsert  and primary.key.mode record_value https://issues.redhat.com/browse/DBZ-8018[DBZ-8018]
* Unable to acquire buffer lock, buffer queue is likely full https://issues.redhat.com/browse/DBZ-8022[DBZ-8022]
* Release process sets incorrect images for k8s for the next development version  https://issues.redhat.com/browse/DBZ-8041[DBZ-8041]
* Use recrate as (default) rollout strategy for deployments https://issues.redhat.com/browse/DBZ-8047[DBZ-8047]
* "Unexpected input: ." when snapshot incremental empty Database https://issues.redhat.com/browse/DBZ-8050[DBZ-8050]
* Debezium Operator Using RollingUpdate Strategy https://issues.redhat.com/browse/DBZ-8051[DBZ-8051]
* Debezium Operator Using RollingUpdate Strategy https://issues.redhat.com/browse/DBZ-8052[DBZ-8052]
* Oracle connector inconsistency in redo log switches https://issues.redhat.com/browse/DBZ-8055[DBZ-8055]
* Blocking snapshot can fail due to CommunicationsException https://issues.redhat.com/browse/DBZ-8058[DBZ-8058]
* FakeDNS not working with JDK version > 18 https://issues.redhat.com/browse/DBZ-8059[DBZ-8059]
* Debezium Operator with a provided Service Account doesn't spin up deployment https://issues.redhat.com/browse/DBZ-8061[DBZ-8061]
* ParsingException (MySQL/MariaDB): rename table syntax https://issues.redhat.com/browse/DBZ-8066[DBZ-8066]
* Oracle histogram metrics are no longer printed in logs correctly https://issues.redhat.com/browse/DBZ-8068[DBZ-8068]
* In hybrid  log.mining.strategy reconstruction logs should be set to DEBUG https://issues.redhat.com/browse/DBZ-8070[DBZ-8070]
* Support capturing BLOB column types during snapshot for MySQL/MariaDB https://issues.redhat.com/browse/DBZ-8076[DBZ-8076]
* Standard Webhooks auth secret config value is not marked as PASSWORD_PATTERN  https://issues.redhat.com/browse/DBZ-8078[DBZ-8078]
* Vitess transaction Epoch should not reset to zero when tx ID is missing https://issues.redhat.com/browse/DBZ-8087[DBZ-8087]
* After changing the column datatype from int to float the Debezium fails to round it and i get a null value for this field in the stream https://issues.redhat.com/browse/DBZ-8089[DBZ-8089]
* MySQL and MariaDB keyword YES cannot be parsed as a column name https://issues.redhat.com/browse/DBZ-8092[DBZ-8092]
* NotificationIT tests seemingly seem to fail due to stepping on one another https://issues.redhat.com/browse/DBZ-8100[DBZ-8100]
* ORA-26928 - Unable to communicate with XStream apply coordinator process should be retriable https://issues.redhat.com/browse/DBZ-8102[DBZ-8102]
* Transformations are not closed in emebdded engine https://issues.redhat.com/browse/DBZ-8106[DBZ-8106]
* Don't close connection after loading timescale metadata in TimescaleDb SMT https://issues.redhat.com/browse/DBZ-8109[DBZ-8109]


=== Other changes

* Bump Infinispan to 14.0.29.Final https://issues.redhat.com/browse/DBZ-8010[DBZ-8010]
* Write a blog post about async engine https://issues.redhat.com/browse/DBZ-8013[DBZ-8013]
* Test offset/history store configurations https://issues.redhat.com/browse/DBZ-8015[DBZ-8015]
* Upgrade postgres server version to 15 https://issues.redhat.com/browse/DBZ-8062[DBZ-8062]
* Disable DebeziumResourceNoTopicCreationIT - no longer compatible with Java 21 https://issues.redhat.com/browse/DBZ-8067[DBZ-8067]
* Speed-up PostgresShutdownIT https://issues.redhat.com/browse/DBZ-8075[DBZ-8075]
* Add MariaDB to debezium/connect image https://issues.redhat.com/browse/DBZ-8088[DBZ-8088]



[[release-3.0.0-alpha1]]
== *Release 3.0.0.Alpha1* _(July 11st 2024)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12413693[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.7.0 and has been tested with version 3.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 3.0.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 3.0.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 3.0.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

Debezium connectors now require Java 17 for runtime and Java 21 for building.
Debezium Server, Debezium Operator, and Debezium Outbox extension require Java 21 both for build and runtime (https://issues.redhat.com/browse/DBZ-6795[DBZ-6795]).



=== New features

* Provide MongoDB sink connector https://issues.redhat.com/browse/DBZ-7223[DBZ-7223]
* Extends process of finding Bundle path https://issues.redhat.com/browse/DBZ-7992[DBZ-7992]
* Support FLOAT32 type in debezium-connector-spanner https://issues.redhat.com/browse/DBZ-8043[DBZ-8043]


=== Fixes

* Debezium postgres jdbc sink not handling infinity values https://issues.redhat.com/browse/DBZ-7920[DBZ-7920]
* JdbcSinkTask doesn't clear offsets on stop https://issues.redhat.com/browse/DBZ-7946[DBZ-7946]
* ibmi as400 connector config isn't prefixed with "database." https://issues.redhat.com/browse/DBZ-7955[DBZ-7955]
* Duplicate downstream annotation comments incorrectly refer to Db2 connector https://issues.redhat.com/browse/DBZ-7968[DBZ-7968]
* Issue with Hybrid mode and DDL change https://issues.redhat.com/browse/DBZ-7991[DBZ-7991]
* Incorrect offset/history property mapping generatated  https://issues.redhat.com/browse/DBZ-8007[DBZ-8007]
* Debezium Server Operator on minikube with java.lang.NullPointerException': java.lang.NullPointerException https://issues.redhat.com/browse/DBZ-8019[DBZ-8019]
* ORA-65090: operation only allowed in a container database when connecting to a non-CDB database https://issues.redhat.com/browse/DBZ-8023[DBZ-8023]
* Added type to Prometheus JMX exporter https://issues.redhat.com/browse/DBZ-8036[DBZ-8036]
* Add `kafka.producer` metrics to debezium-server jmx exporter config https://issues.redhat.com/browse/DBZ-8037[DBZ-8037]


=== Other changes

* Use Java 17 as baseline https://issues.redhat.com/browse/DBZ-7224[DBZ-7224]
* Document new MariaDB connector https://issues.redhat.com/browse/DBZ-7786[DBZ-7786]
* Move to Maven 3.9.8 as build requirement https://issues.redhat.com/browse/DBZ-7965[DBZ-7965]
* Add disclaimer that PostProcessors and CustomConverters are Debezium source connectors only https://issues.redhat.com/browse/DBZ-8031[DBZ-8031]
* Typos in Bug report template https://issues.redhat.com/browse/DBZ-8038[DBZ-8038]
* Find an alternative way to manually deploy the connector with local changes that is compatible with Debezium 3 https://issues.redhat.com/browse/DBZ-8046[DBZ-8046]

