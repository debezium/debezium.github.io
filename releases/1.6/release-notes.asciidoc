---
layout: release-notes
title: Release Notes for Debezium 1.6
debezium-version: "1.6"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-1.6.0-beta1]]
== *Release 1.6.0.Beta1* _(May 20th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12357565[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.6.0.Beta1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.6.0.Beta1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.6.0.Beta1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

`RENAME TABLE` statement with multiple tables now emits multiple schema change events, one for each of the renamed tables (https://issues.jboss.org/browse/DBZ-3399[DBZ-3399]).


=== New Features

* Support ad hoc snapshots on MySQL connector https://issues.jboss.org/browse/DBZ-66[DBZ-66]
* Support DDL operations https://issues.jboss.org/browse/DBZ-2916[DBZ-2916]
* Add support for RAW, LONG, LONG RAW, BLOB, and CLOB data types https://issues.jboss.org/browse/DBZ-2948[DBZ-2948]
* Update Doc For Cassandra Connector https://issues.jboss.org/browse/DBZ-3092[DBZ-3092]
* Document log.mining.strategy for Oracle connector https://issues.jboss.org/browse/DBZ-3393[DBZ-3393]
* Update DOC with the new NUM_OF_CHANGE_EVENT_QUEUES parameter https://issues.jboss.org/browse/DBZ-3480[DBZ-3480]
* Use date format model that does not depend on client NLS settings in integration tests https://issues.jboss.org/browse/DBZ-3482[DBZ-3482]
* Provide Japanese translation of README.md  https://issues.jboss.org/browse/DBZ-3503[DBZ-3503]
* Better handling of invalid SQL Server connector configuration https://issues.jboss.org/browse/DBZ-3505[DBZ-3505]
* Allow table.include.list and table.exclude.list to be updated after a connector is created https://issues.jboss.org/browse/DBZ-1263[DBZ-1263]
* Allow retry when SQL Server is down temporarily https://issues.jboss.org/browse/DBZ-3339[DBZ-3339]


=== Fixes

* Database name should not be converted to lower case if tablenameCaseInsensitive=True in Oracle Connector https://issues.jboss.org/browse/DBZ-2203[DBZ-2203]
* Not able to configure Debezium Server via smallrye/microprofile environment variables https://issues.jboss.org/browse/DBZ-2622[DBZ-2622]
* Upgrading from debezium 1.2.2 to 1.4.0 stopped snapshotting new tables https://issues.jboss.org/browse/DBZ-2944[DBZ-2944]
* oracle logminer cannot add duplicate logfile https://issues.jboss.org/browse/DBZ-3266[DBZ-3266]
* Oracle connector does not correctly handle partially committed transactions https://issues.jboss.org/browse/DBZ-3322[DBZ-3322]
* Data loss when MongoDB snapshot take longer than the Oplog Window https://issues.jboss.org/browse/DBZ-3331[DBZ-3331]
* First online log query does not limit results to those that are available. https://issues.jboss.org/browse/DBZ-3332[DBZ-3332]
* Connector crashing after running for some time https://issues.jboss.org/browse/DBZ-3377[DBZ-3377]
* Broken links in downstream Monitoring chapter https://issues.jboss.org/browse/DBZ-3408[DBZ-3408]
* Broken links in User guide table of routing SMT configuration options https://issues.jboss.org/browse/DBZ-3410[DBZ-3410]
* Broken link to basic configuration example in downstream content-based routing topic https://issues.jboss.org/browse/DBZ-3412[DBZ-3412]
* Cassandra connector does not react on schema changes properly https://issues.jboss.org/browse/DBZ-3417[DBZ-3417]
* Debezium mapped diagnostic contexts doesn't work https://issues.jboss.org/browse/DBZ-3438[DBZ-3438]
* source.timestamp.mode=commit imposes a significant performance penalty https://issues.jboss.org/browse/DBZ-3452[DBZ-3452]
* Timezone difference not considered in `LagFromSourceInMilliseconds` calculation https://issues.jboss.org/browse/DBZ-3456[DBZ-3456]
* "Found null value for non-optional schema" error when issuing TRUNCATE from Postgres on a table with a PK https://issues.jboss.org/browse/DBZ-3469[DBZ-3469]
* Connector crashes when table name contains '-' character https://issues.jboss.org/browse/DBZ-3485[DBZ-3485]
* Kafka Clients in Debezium Server is not aligned with Debezium Kafka version https://issues.jboss.org/browse/DBZ-3498[DBZ-3498]
* ReadToInsertEvent SMT needs to set ConfigDef https://issues.jboss.org/browse/DBZ-3508[DBZ-3508]
* Debezium configuration can be modified after instantiation https://issues.jboss.org/browse/DBZ-3514[DBZ-3514]
* Oracle redo log switch not detected when using multiple archiver process threads https://issues.jboss.org/browse/DBZ-3516[DBZ-3516]
* Cannot enable binlog streaming when INITIAL_ONLY snapshot mode configured https://issues.jboss.org/browse/DBZ-3529[DBZ-3529]
* Missing schema function in DDL Parser https://issues.jboss.org/browse/DBZ-3543[DBZ-3543]
* Retry logic for "No more data to read from socket" is too strict https://issues.jboss.org/browse/DBZ-3472[DBZ-3472]


=== Other changes

* Document new source block and fix formatting issues https://issues.jboss.org/browse/DBZ-1614[DBZ-1614]
* Re-connect after "too many connections" https://issues.jboss.org/browse/DBZ-2300[DBZ-2300]
* Modularize doc for MongoDB component https://issues.jboss.org/browse/DBZ-2334[DBZ-2334]
* Rebase Postgres snapshot modes on exported snapshots https://issues.jboss.org/browse/DBZ-2337[DBZ-2337]
* Enable continuous JFR recording https://issues.jboss.org/browse/DBZ-3082[DBZ-3082]
* Remove deprecated Oracle connector option "database.tablename.case.insensitive" https://issues.jboss.org/browse/DBZ-3240[DBZ-3240]
* Improve Oracle redo logs query to avoid de-duplication step https://issues.jboss.org/browse/DBZ-3256[DBZ-3256]
* Migrate Jenkins CI to OCP 4.0 in  PSI cloud  https://issues.jboss.org/browse/DBZ-3396[DBZ-3396]
* Remove Antlr-based DML Parser https://issues.jboss.org/browse/DBZ-3400[DBZ-3400]
* Update Oracle driver version https://issues.jboss.org/browse/DBZ-3460[DBZ-3460]
* Incremental snapshot follow-up tasks https://issues.jboss.org/browse/DBZ-3500[DBZ-3500]
* Unnecessary NPE due to autoboxing https://issues.jboss.org/browse/DBZ-3519[DBZ-3519]
* Upgrade actions/cache to v2 version for formatting check https://issues.jboss.org/browse/DBZ-3520[DBZ-3520]
* Improve documentation for Oracle supplemental logging requirements https://issues.jboss.org/browse/DBZ-3521[DBZ-3521]
* SignalsIT leave table artifacts that cause other tests to fail https://issues.jboss.org/browse/DBZ-3533[DBZ-3533]
* Mark xstream dependency as provided https://issues.jboss.org/browse/DBZ-3539[DBZ-3539]
* Add test for Oracle table without PK https://issues.jboss.org/browse/DBZ-832[DBZ-832]



[[release-1.6.0-alpha1]]
== *Release 1.6.0.Alpha1* _(May 6th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12353176[complete list of issues].


=== Kafka compatibility

This release has been built against Kafka Connect 2.7.0 and has been tested with version 2.7.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.6.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.6.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.6.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.


=== Breaking changes

Debezium now requires Java 11 as a build and a runtime environment (https://issues.jboss.org/browse/DBZ-2875[DBZ-2875]).
The only exception is Debezium Cassandra connector that still uses Java 8.


=== New Features

* Sink adapter for Apache Kafka https://issues.jboss.org/browse/DBZ-3382[DBZ-3382]
* Optimisation on MongoDB and MySQL connector for skipped.operations https://issues.jboss.org/browse/DBZ-3403[DBZ-3403]
* Incremental snapshotting https://issues.jboss.org/browse/DBZ-3473[DBZ-3473]


=== Fixes

* io.debezium.text.ParsingException: no viable alternative at input 'IDNUMBER(4)GENERATEDBY' https://issues.jboss.org/browse/DBZ-1721[DBZ-1721]
* SKIPPED_OPERATIONS is added to CommonConnectorConfig.CONFIG_DEFINITION although it's not implemented in all connectors https://issues.jboss.org/browse/DBZ-2699[DBZ-2699]
* Snapshot fails when reading TIME, DATE, DATETIME fields in mysql from ResultSet https://issues.jboss.org/browse/DBZ-3238[DBZ-3238]
* Update to fabric8 kube client 5.x https://issues.jboss.org/browse/DBZ-3349[DBZ-3349]
* An exception in resolveOracleDatabaseVersion if system language is not English https://issues.jboss.org/browse/DBZ-3397[DBZ-3397]
* Change strimzi branch in jenkins openshift-test job to main https://issues.jboss.org/browse/DBZ-3404[DBZ-3404]
* Broken link in downstream Monitoring chapter 7.3 https://issues.jboss.org/browse/DBZ-3409[DBZ-3409]
* Broken link in content-based routing chapter to page for downloading the SMT scripting archive  https://issues.jboss.org/browse/DBZ-3411[DBZ-3411]
* LogMinerDmlParser mishandles double single quotes in WHERE clauses https://issues.jboss.org/browse/DBZ-3413[DBZ-3413]
* Incorrectly formatted links in downstream automatic topic creation doc https://issues.jboss.org/browse/DBZ-3414[DBZ-3414]
* SMT acronym incorrectly expanded in Debezium User Guide https://issues.jboss.org/browse/DBZ-3415[DBZ-3415]
* MariaDB -- support privilege DDL in parser https://issues.jboss.org/browse/DBZ-3422[DBZ-3422]
* Change oc apply in jenkins openshift-test job to oc create https://issues.jboss.org/browse/DBZ-3423[DBZ-3423]
* SQL Server property (snapshot.select.statement.overrides) only matches 1st entry if comma-separated list also contains spaces https://issues.jboss.org/browse/DBZ-3429[DBZ-3429]
* Permission issue when running docker-compose or docker build as user not having uid 1001 https://issues.jboss.org/browse/DBZ-3453[DBZ-3453]
* no viable alternative at input 'DROP TABLE IF EXISTS group' (Galera and MariaDB) https://issues.jboss.org/browse/DBZ-3467[DBZ-3467]
* Debezium MySQL connector does not process tables with partitions https://issues.jboss.org/browse/DBZ-3468[DBZ-3468]
* The building tools' version in README doc is outdated https://issues.jboss.org/browse/DBZ-3478[DBZ-3478]
* MySQL DATE default value parser rejects timestamp https://issues.jboss.org/browse/DBZ-3497[DBZ-3497]
* MySQL8 GRANT statement not parsable https://issues.jboss.org/browse/DBZ-3499[DBZ-3499]


=== Other changes

* Config validation for Db2 https://issues.jboss.org/browse/DBZ-3118[DBZ-3118]
* Add smoke test for UI https://issues.jboss.org/browse/DBZ-3133[DBZ-3133]
* Create new metric "CapturedTables" https://issues.jboss.org/browse/DBZ-3161[DBZ-3161]
* Handle deadlock issue for MySql build stuck for 6h https://issues.jboss.org/browse/DBZ-3233[DBZ-3233]
* Document using Connect REST API for log level changes https://issues.jboss.org/browse/DBZ-3270[DBZ-3270]
* User Guide corrections for SQL Server connector https://issues.jboss.org/browse/DBZ-3297[DBZ-3297]
* User Guide corrections for Db2 connector https://issues.jboss.org/browse/DBZ-3298[DBZ-3298]
* User Guide corrections for MySQL connector https://issues.jboss.org/browse/DBZ-3299[DBZ-3299]
* User Guide corrections for MongoDB connector https://issues.jboss.org/browse/DBZ-3300[DBZ-3300]
* Allow building the Oracle connector on CI https://issues.jboss.org/browse/DBZ-3365[DBZ-3365]
* Add tests for Protobuf Converter https://issues.jboss.org/browse/DBZ-3369[DBZ-3369]
* Use current SQL Server container image for testing and examples https://issues.jboss.org/browse/DBZ-3379[DBZ-3379]
* Reword prereq in downstream SQL Server connector doc  https://issues.jboss.org/browse/DBZ-3392[DBZ-3392]
* Duplicate entry in MySQL connector properties table for `mysql-property-skipped-operations`  https://issues.jboss.org/browse/DBZ-3402[DBZ-3402]
* Docs clarification around tombstone events https://issues.jboss.org/browse/DBZ-3416[DBZ-3416]
* Validate logical server name contains only alpha-numerical characters https://issues.jboss.org/browse/DBZ-3427[DBZ-3427]
* Provide a "quick" build profile https://issues.jboss.org/browse/DBZ-3449[DBZ-3449]
* Avoid warning about superfluous exclusion during packaging https://issues.jboss.org/browse/DBZ-3458[DBZ-3458]
* Upgrade binlog client https://issues.jboss.org/browse/DBZ-3463[DBZ-3463]
