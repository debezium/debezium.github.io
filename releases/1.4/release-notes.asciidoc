---
layout: release-notes
title: Release Notes for Debezium 1.4
debezium-version: "1.4"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-1.4.2-final]]
== *Release 1.4.2.Final* _(March 1st, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12353633[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.6.1 and has been tested with version 2.6.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.

=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.4.2.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.4.2.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.4.2.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.

=== Breaking changes

In earlier versions of Debezium, the MySQL connector incorrectly emitted snapshot events using the `c` (create) operation type instead of the correct type `r` (read).
If you have consumers which rely on that earlier behavior, you can use the `io.debezium.connector.mysql.transforms.ReadToInsertEvent` single message transform to emulate that earlier behavior (https://issues.jboss.org/browse/DBZ-2788[DBZ-2788]).
A connector option which accidentally was introduced in 1.4.0 for this same purpose, `snapshot.events.as.inserts`, got removed again, and the SMT should be used instead in this situation.
This SMT is meant for migration purposes only and will be removed in a future Debezium version.

The (incubating) Debezium connector for Oracle emits transaction ids in lower-case now, differing from the previous behavior of returning them as upper-case (https://issues.jboss.org/browse/DBZ-3165[DBZ-3165]).

The previously deprecated snapshot mode `INITIAL_SCHEMA_ONLY` of the Oracle connector has been removed. Please use `SCHEMA_ONLY` instead (https://issues.jboss.org/browse/DBZ-3034[DBZ-3034]).


=== New Features

* Make field descriptions consistent for time values (milliseconds, ms, sec, seconds, etc) https://issues.jboss.org/browse/DBZ-2858[DBZ-2858]
* Detect and skip non-parent index-organized tables https://issues.jboss.org/browse/DBZ-3036[DBZ-3036]
* Capture additional JMX metrics for LogMiner https://issues.jboss.org/browse/DBZ-3038[DBZ-3038]
* SqlServerConnector does not implement validate https://issues.jboss.org/browse/DBZ-3056[DBZ-3056]
* Improve DML parser performance https://issues.jboss.org/browse/DBZ-3078[DBZ-3078]
* Add ability to skip tests based on available database options https://issues.jboss.org/browse/DBZ-3110[DBZ-3110]
* Capture LogMiner session parameters when session fails to start https://issues.jboss.org/browse/DBZ-3153[DBZ-3153]


=== Fixes

* Wrong reference to KafkaConnector in setting up Debezium https://issues.jboss.org/browse/DBZ-2745[DBZ-2745]
* Oracle Connector(Using Logminer) with Oracle RDS (v12) does not capture changes https://issues.jboss.org/browse/DBZ-2754[DBZ-2754]
* Oracle connector causes ORA-65090 when connecting to an Oracle instance running in non-CDB mode https://issues.jboss.org/browse/DBZ-2795[DBZ-2795]
* Warnings and notifications from PostgreSQL are ignored by the connector until the connection is closed https://issues.jboss.org/browse/DBZ-2865[DBZ-2865]
* ExtractNewRecord SMT incorrectly extracts ts_ms from source info https://issues.jboss.org/browse/DBZ-2984[DBZ-2984]
* Replication terminates with ORA-01291: missing log file https://issues.jboss.org/browse/DBZ-3001[DBZ-3001]
* Support multiple schemas with Oracle LogMiner https://issues.jboss.org/browse/DBZ-3009[DBZ-3009]
* Documentation `LOCK_TABLES` should be `LOCK TABLES` https://issues.jboss.org/browse/DBZ-3013[DBZ-3013]
* Complete support for properties that contain hyphens https://issues.jboss.org/browse/DBZ-3019[DBZ-3019]
*  SQLException for Global temp tables  from OracleDatabaseMetaData.getIndexInfo() makes Debezium snapshotting fail https://issues.jboss.org/browse/DBZ-3057[DBZ-3057]
* no viable alternative at input 'create or replace index' https://issues.jboss.org/browse/DBZ-3067[DBZ-3067]
* Strange transaction metadata for Oracle logminer connector https://issues.jboss.org/browse/DBZ-3090[DBZ-3090]
* Environment Variables with spaces are truncated when written to properties file https://issues.jboss.org/browse/DBZ-3103[DBZ-3103]
* Error: Supplemental logging not configured for table. Use command: ALTER TABLE  https://issues.jboss.org/browse/DBZ-3109[DBZ-3109]
* Final stage of snapshot analyzes tables not present in table.include.list thus stumbles upon unsupported XMLTYPE table https://issues.jboss.org/browse/DBZ-3151[DBZ-3151]
* Forever stuck with new binlog parser (1.3 and later) when processing big JSON column data  https://issues.jboss.org/browse/DBZ-3168[DBZ-3168]
* XStream does not process NUMER(1) data https://issues.jboss.org/browse/DBZ-3172[DBZ-3172]
* Replace MySQL connector option with SMT for mitigating wrong op flag https://issues.jboss.org/browse/DBZ-2788[DBZ-2788]
* DML parser IndexOutOfRangeException with where-clause using "IS NULL" https://issues.jboss.org/browse/DBZ-3193[DBZ-3193]
* ORA-01284 file cannot be opened error when file locked by another process https://issues.jboss.org/browse/DBZ-3194[DBZ-3194]
* CommitThroughput metrics can raise division by zero error https://issues.jboss.org/browse/DBZ-3200[DBZ-3200]


=== Other changes

* OSD certification https://issues.jboss.org/browse/DBZ-2813[DBZ-2813]
* Integration with Service Registry promoted to GA https://issues.jboss.org/browse/DBZ-2815[DBZ-2815]
* Use new deployment endpoint for releases to Maven Central https://issues.jboss.org/browse/DBZ-3069[DBZ-3069]
* Remove zero-width whitespace from option names https://issues.jboss.org/browse/DBZ-3087[DBZ-3087]
* Remove duplicate anchor links in Connector properties https://issues.jboss.org/browse/DBZ-3111[DBZ-3111]
* Config validation for Oracle https://issues.jboss.org/browse/DBZ-3119[DBZ-3119]
* Clarify required privileges for using pgoutput https://issues.jboss.org/browse/DBZ-3138[DBZ-3138]
* Update Oracle documentation https://issues.jboss.org/browse/DBZ-3156[DBZ-3156]
* Put IIDR license requirement into NOTE box https://issues.jboss.org/browse/DBZ-3163[DBZ-3163]
* Remove COLUMN_BLACK_LIST option in Oracle connector https://issues.jboss.org/browse/DBZ-3167[DBZ-3167]
* Minor editorial update to PostgreSQL connector documentation https://issues.jboss.org/browse/DBZ-3192[DBZ-3192]
* Incorrect link/anchor pair for truncate.handling.mode property in PG properties documentation https://issues.jboss.org/browse/DBZ-3195[DBZ-3195]



[[release-1.4.1-final]]
== *Release 1.4.1.Final* _(January 28th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12353181[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.6.1 and has been tested with version 2.6.1 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.

=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.4.1.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.4.1.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.4.1.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.

=== Breaking changes

There are no breaking changes in this release.

=== New Features

* Clarify information in Debezium connector for SQL Server doc https://issues.jboss.org/browse/DBZ-2675[DBZ-2675]
* Add support for binary.handling.mode to the SQL Server connector https://issues.jboss.org/browse/DBZ-2912[DBZ-2912]
* Use collation to get charset when charset is not set https://issues.jboss.org/browse/DBZ-2922[DBZ-2922]
* Additional logging for number and type of sql operations https://issues.jboss.org/browse/DBZ-2980[DBZ-2980]
* Retry on "The server failed to resume the transaction" https://issues.jboss.org/browse/DBZ-2959[DBZ-2959]


=== Fixes

* Debezium Connectors are failing while reading binlog: Unknown event type 100 https://issues.jboss.org/browse/DBZ-2499[DBZ-2499]
* Some column default values are not extracted correctly while reading table structure https://issues.jboss.org/browse/DBZ-2698[DBZ-2698]
* Supplemental logging is required for entire database rather than per monitored table https://issues.jboss.org/browse/DBZ-2711[DBZ-2711]
* Missing log file error when current SCN differs from snapshotted in Oracle connector and Logminer https://issues.jboss.org/browse/DBZ-2855[DBZ-2855]
* GitHub action for "Build Testing Workflow" is using old artifacts and not building missing dependencies https://issues.jboss.org/browse/DBZ-2861[DBZ-2861]
* Deadlock in the XStream handler and offset commiter call concurrently https://issues.jboss.org/browse/DBZ-2891[DBZ-2891]
* Sanitise DECIMAL string from VStream https://issues.jboss.org/browse/DBZ-2906[DBZ-2906]
* Vitess Connector download link missing on website https://issues.jboss.org/browse/DBZ-2907[DBZ-2907]
* DML statements longer than 4000 characters are incorrectly combined from V$LOGMNR_CONTENTS https://issues.jboss.org/browse/DBZ-2920[DBZ-2920]
* Default database charset is not recorded https://issues.jboss.org/browse/DBZ-2921[DBZ-2921]
* Instable test: PostgresConnectorIT#testCustomSnapshotterSnapshotCompleteLifecycleHook() https://issues.jboss.org/browse/DBZ-2938[DBZ-2938]
* Snapshot causes ORA-08181 exception https://issues.jboss.org/browse/DBZ-2949[DBZ-2949]
* Postgres connector config validation fails because current connector is occupying replication slot https://issues.jboss.org/browse/DBZ-2952[DBZ-2952]
* Labeled create procedure's body is not parsed https://issues.jboss.org/browse/DBZ-2972[DBZ-2972]
* Debezium swallows DML exception in certain cases https://issues.jboss.org/browse/DBZ-2981[DBZ-2981]


=== Other changes

* Migrate website build to Hugo https://issues.jboss.org/browse/DBZ-575[DBZ-575]
* Test binary/varbinary datatypes https://issues.jboss.org/browse/DBZ-2174[DBZ-2174]
* Implement Scn as a domain type https://issues.jboss.org/browse/DBZ-2518[DBZ-2518]
* Fix docs for message.key.columns and skipped.operations https://issues.jboss.org/browse/DBZ-2572[DBZ-2572]
* Upgrade to Apache Kafka Connect 2.6.1 https://issues.jboss.org/browse/DBZ-2630[DBZ-2630]
* Centralize postgres image name for test container tests https://issues.jboss.org/browse/DBZ-2764[DBZ-2764]
* Add missing connector options for Postgres connector https://issues.jboss.org/browse/DBZ-2807[DBZ-2807]
* Importing TestDatabase as QuarkusTestResource for IT tests https://issues.jboss.org/browse/DBZ-2868[DBZ-2868]
* Set up Pulsar via Testcontainers in PulsarIT https://issues.jboss.org/browse/DBZ-2915[DBZ-2915]
* Remove blacklist and whitelist from anchor link text in documentation https://issues.jboss.org/browse/DBZ-2918[DBZ-2918]
* Instable test: PostgresShutdownIT#shouldStopOnPostgresFastShutdown() https://issues.jboss.org/browse/DBZ-2923[DBZ-2923]
* Rename whitelist/blacklist configs in examples to include/exclude https://issues.jboss.org/browse/DBZ-2925[DBZ-2925]
* Misspelling in readme for db2 connector https://issues.jboss.org/browse/DBZ-2940[DBZ-2940]
* Fetch correct Apicurio version for ApicurioRegistryTest https://issues.jboss.org/browse/DBZ-2945[DBZ-2945]
* Incorrect link IDs in SQL Server connector snapshot metrics table https://issues.jboss.org/browse/DBZ-2958[DBZ-2958]



[[release-1.4.0-final]]
== *Release 1.4.0.Final* _(January 7th, 2021)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12352766[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.6.0 and has been tested with version 2.6.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.

=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.4.0.Final from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.4.0.Final plugin files, and restart the connector using the same configuration.
Upon restart, the 1.4.0.Final connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.

=== Breaking changes

There are no breaking changes in this release.

=== New Features

* Improve error reporting from DDL parser https://issues.jboss.org/browse/DBZ-2366[DBZ-2366]
* Support TNS Names and full RAC connection strings https://issues.jboss.org/browse/DBZ-2859[DBZ-2859]
* Add more comprehensible logs to FIELD event https://issues.jboss.org/browse/DBZ-2873[DBZ-2873]


=== Fixes

* AWS RDS has different role names which make connector validation fail https://issues.jboss.org/browse/DBZ-2800[DBZ-2800]
* Archive Log mining does not work with Logminer https://issues.jboss.org/browse/DBZ-2825[DBZ-2825]
* MySQL parser error for comments starting with tab https://issues.jboss.org/browse/DBZ-2840[DBZ-2840]
* Connector fails when using '$' sign in column name. https://issues.jboss.org/browse/DBZ-2849[DBZ-2849]
* Connection adapter not passed to Surefire tests https://issues.jboss.org/browse/DBZ-2856[DBZ-2856]
* Unsupported MariaDB syntax for generated columns https://issues.jboss.org/browse/DBZ-2882[DBZ-2882]
* SLF4J API should not be included in Oracle distirbution https://issues.jboss.org/browse/DBZ-2890[DBZ-2890]
* Vitess distro contains unaligned deps https://issues.jboss.org/browse/DBZ-2892[DBZ-2892]
* Changing base packages does not always trigger full builds https://issues.jboss.org/browse/DBZ-2896[DBZ-2896]
* LogMiner causes DataException when DATE field is specified as NOT NULL https://issues.jboss.org/browse/DBZ-2784[DBZ-2784]


=== Other changes

* Remove LegacyDdlParser and related code https://issues.jboss.org/browse/DBZ-2167[DBZ-2167]
* Add MongoDB connector interface https://issues.jboss.org/browse/DBZ-2808[DBZ-2808]
* `sanitize.field.names` support for Vitess Connector https://issues.jboss.org/browse/DBZ-2851[DBZ-2851]
* Explicitly declare to Quarkus that ORM XML mapping is required for the outbox extension https://issues.jboss.org/browse/DBZ-2860[DBZ-2860]
* Upgrade MySQL JDBC driver to 8.0.21 https://issues.jboss.org/browse/DBZ-2887[DBZ-2887]
* Upgrade Guava library to 30.0 https://issues.jboss.org/browse/DBZ-2888[DBZ-2888]
* Avoid exception when payload id field not present https://issues.jboss.org/browse/DBZ-2889[DBZ-2889]



[[release-1.4.0-cr1]]
== *Release 1.4.0.CR1* _(December 16th, 2020)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12352696[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.6.0 and has been tested with version 2.6.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.

=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.4.0.CR1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.4.0.CR1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.4.0.CR1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.

=== Breaking changes

There are no breaking changes in this release.

=== New Features

* Documentation of the Logminer implementation needs improvement https://issues.jboss.org/browse/DBZ-2799[DBZ-2799]
* Update Vitess Connector documentation https://issues.jboss.org/browse/DBZ-2854[DBZ-2854]
* Add Cassandra to tutorial Compose set-up https://issues.jboss.org/browse/DBZ-1463[DBZ-1463]
* Add support for Vitess gRPC static authentication https://issues.jboss.org/browse/DBZ-2852[DBZ-2852]


=== Fixes

* Document "database.oracle.version" option https://issues.jboss.org/browse/DBZ-2603[DBZ-2603]
* Remove link in MySQL docs section that points to the same section https://issues.jboss.org/browse/DBZ-2710[DBZ-2710]
* Oracle schema history events fail on partitioned table https://issues.jboss.org/browse/DBZ-2841[DBZ-2841]
* outbox extension emits UPDATE events when delete is disabled https://issues.jboss.org/browse/DBZ-2847[DBZ-2847]


=== Other changes

* Move Cassandra connector to separate repository https://issues.jboss.org/browse/DBZ-2636[DBZ-2636]
* Invalid column name should fail connector with meaningful message https://issues.jboss.org/browse/DBZ-2836[DBZ-2836]
* Fix typos in downstream ModuleID declarations in monitoring.adoc https://issues.jboss.org/browse/DBZ-2838[DBZ-2838]
* Duplicate anchor ID in partials/ref-connector-monitoring-snapshot-metrics.adoc https://issues.jboss.org/browse/DBZ-2839[DBZ-2839]
* Fix additional typo in ModuleID declaration in monitoring.adoc https://issues.jboss.org/browse/DBZ-2843[DBZ-2843]
* Edit modularization annotations in logging.adoc https://issues.jboss.org/browse/DBZ-2846[DBZ-2846]
* Update Groovy version to 3.0.7 https://issues.jboss.org/browse/DBZ-2850[DBZ-2850]



[[release-1.4.0-beta1]]
== *Release 1.4.0.Beta1* _(December 9th, 2020)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12352306[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.6.0 and has been tested with version 2.6.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.

=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.4.0.Beta1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.4.0.Beta1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.4.0.Beta1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.

=== Breaking changes

There are no breaking changes in this release.

=== New Features

* Add support for distributed tracing https://issues.jboss.org/browse/DBZ-559[DBZ-559]
* Outbox Quarkus extension: Support OpenTracing https://issues.jboss.org/browse/DBZ-1818[DBZ-1818]
* Upgrade MongoDB driver to 4.x to run in native mode in GraalVM (for Quarkus extension) https://issues.jboss.org/browse/DBZ-2138[DBZ-2138]
* Allow snapshot records be generated either as create or read for MySQL connector https://issues.jboss.org/browse/DBZ-2775[DBZ-2775]
* Support in Db2 connector for lowercase table and schema names https://issues.jboss.org/browse/DBZ-2796[DBZ-2796]
* option to kill process when engine run crashes https://issues.jboss.org/browse/DBZ-2785[DBZ-2785]
* Add support for using Vitess primary key as Kafka message key https://issues.jboss.org/browse/DBZ-2578[DBZ-2578]
* Add support for Nullable columns https://issues.jboss.org/browse/DBZ-2579[DBZ-2579]
* Tablespace name LOGMINER_TBS should not be hardcoded in the Java code https://issues.jboss.org/browse/DBZ-2797[DBZ-2797]


=== Fixes

* DDL parser: Allow stored procedure variables in LIMIT clause https://issues.jboss.org/browse/DBZ-2692[DBZ-2692]
* Wrong mysql command in openshift dpeloyment docs https://issues.jboss.org/browse/DBZ-2746[DBZ-2746]
* long running transaction will be abandoned and ignored https://issues.jboss.org/browse/DBZ-2759[DBZ-2759]
* MS SQL Decimal with default value not matching the scale of the column definition cause exception https://issues.jboss.org/browse/DBZ-2767[DBZ-2767]
* Cassandra Connector doesn't shut down completely https://issues.jboss.org/browse/DBZ-2768[DBZ-2768]
* MySQL Parser fails for BINARY collation shortcut https://issues.jboss.org/browse/DBZ-2771[DBZ-2771]
* PostgresConnectorIT.shouldResumeStreamingFromSlotPositionForCustomSnapshot is failing for wal2json on CI https://issues.jboss.org/browse/DBZ-2772[DBZ-2772]
* Connector configuration property "database.out.server.name" is not relevant for Logminer implementation but cannot be omitted https://issues.jboss.org/browse/DBZ-2801[DBZ-2801]
* CHARACTER VARYING mysql identifier for varchar is not supported in debezium https://issues.jboss.org/browse/DBZ-2821[DBZ-2821]
* try-with-resources should not be used when OkHttp Response object is returned https://issues.jboss.org/browse/DBZ-2827[DBZ-2827]
* EmbeddedEngine does not shutdown when commitOffsets is interrupted https://issues.jboss.org/browse/DBZ-2830[DBZ-2830]
* Rename user command parsing fails https://issues.jboss.org/browse/DBZ-2743[DBZ-2743]


=== Other changes

* Fix splitter annotations that control how content is modularized downstream https://issues.jboss.org/browse/DBZ-2824[DBZ-2824]
* VerifyRecord#isValid() compares JSON schema twice instead of Avro https://issues.jboss.org/browse/DBZ-735[DBZ-735]
* Don't rely on deprecated JSON serialization functionality of MongoDB driver https://issues.jboss.org/browse/DBZ-1322[DBZ-1322]
* Move website build to GitHub Actions https://issues.jboss.org/browse/DBZ-1984[DBZ-1984]
* Move Db2 connector to separate repository https://issues.jboss.org/browse/DBZ-2001[DBZ-2001]
* Modularize doc for SQL Server component https://issues.jboss.org/browse/DBZ-2335[DBZ-2335]
* Upgrade apicurio to 1.3.2.Final https://issues.jboss.org/browse/DBZ-2561[DBZ-2561]
* Remove obsolete logging files from /partials directory https://issues.jboss.org/browse/DBZ-2740[DBZ-2740]
* Remove obsolete monitoring files from /partials directory https://issues.jboss.org/browse/DBZ-2741[DBZ-2741]
* Increase Oracle CI frequency https://issues.jboss.org/browse/DBZ-2744[DBZ-2744]
* Make Debezium example work with Podman instead of Docker https://issues.jboss.org/browse/DBZ-2753[DBZ-2753]
* Disable log mining history by default https://issues.jboss.org/browse/DBZ-2763[DBZ-2763]
* Upgrade -setup-java action to the latest 1.4.3 https://issues.jboss.org/browse/DBZ-2770[DBZ-2770]
* Trigger non-core connector tests when core or DDL parser module are changed https://issues.jboss.org/browse/DBZ-2773[DBZ-2773]
* Add support for unsigned integer types https://issues.jboss.org/browse/DBZ-2776[DBZ-2776]
* Update JDK action workflow matrix with JDK 16.0.0-ea.24 https://issues.jboss.org/browse/DBZ-2777[DBZ-2777]
* Auto resolve latest JDK EA release number  https://issues.jboss.org/browse/DBZ-2781[DBZ-2781]
* Update content in modularized SQL Server connector doc https://issues.jboss.org/browse/DBZ-2782[DBZ-2782]



[[release-1.4.0-alpha2]]
== *Release 1.4.0.Alpha2* _(November 16th, 2020)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12351542[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.6.0 and has been tested with version 2.6.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.

=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.4.0.Alpha2 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.4.0.Alpha2 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.4.0.Alpha2 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.

=== Breaking changes

There are no breaking changes in this release.

=== New Features

* Move testcontainers changes on DebeziumContainer from UI PoC backend to Debezium main repo https://issues.jboss.org/browse/DBZ-2602[DBZ-2602]
* Add ability to map new name for the fields and headers https://issues.jboss.org/browse/DBZ-2606[DBZ-2606]
* Add close call to the Snapshotter interface https://issues.jboss.org/browse/DBZ-2608[DBZ-2608]
* Overriding Character Set Mapping https://issues.jboss.org/browse/DBZ-2673[DBZ-2673]
* Support PostgreSQL connector retry when database is restarted https://issues.jboss.org/browse/DBZ-2685[DBZ-2685]
* Cassandra connector documentation typos https://issues.jboss.org/browse/DBZ-2701[DBZ-2701]
* Fix typo in converters doc https://issues.jboss.org/browse/DBZ-2717[DBZ-2717]
* Add tests for DBZ-2617: PG connector does not enter FAILED state on failing heartbeats https://issues.jboss.org/browse/DBZ-2724[DBZ-2724]
* DBZ-2662 Control ChangeEventQueue by the size in bytes https://issues.jboss.org/browse/DBZ-2662[DBZ-2662]


=== Fixes

* Oracle throw "no snapshot found based on specified time" when running flashback query https://issues.jboss.org/browse/DBZ-1446[DBZ-1446]
* Exception when PK definition precedes column definition https://issues.jboss.org/browse/DBZ-2580[DBZ-2580]
* Patroni can't stop PostgreSQL when Debezium is streaming https://issues.jboss.org/browse/DBZ-2617[DBZ-2617]
* ChangeRecord informations don't connect with the TableSchema https://issues.jboss.org/browse/DBZ-2679[DBZ-2679]
* MySQL connector fails on a zero date https://issues.jboss.org/browse/DBZ-2682[DBZ-2682]
* Oracle LogMiner doesn't support partition tables https://issues.jboss.org/browse/DBZ-2683[DBZ-2683]
* DB2 doesn't start reliably in OCP  https://issues.jboss.org/browse/DBZ-2693[DBZ-2693]
* Dropped columns cause NPE in SqlServerConnector https://issues.jboss.org/browse/DBZ-2716[DBZ-2716]
* Timestamp default value in 'yyyy-mm-dd' format fails MySQL connector https://issues.jboss.org/browse/DBZ-2726[DBZ-2726]
* Connection timeout on write should retry https://issues.jboss.org/browse/DBZ-2727[DBZ-2727]
* No viable alternative at input error on "min" column https://issues.jboss.org/browse/DBZ-2738[DBZ-2738]
* SQLServer CI error in SqlServerConnectorIT.whenCaptureInstanceExcludesColumnsAndColumnsRenamedExpectNoErrors:1473 https://issues.jboss.org/browse/DBZ-2747[DBZ-2747]
* debezium-connector-db2: DB2 SQL Error: SQLCODE=-206 on DB2 for z/OS https://issues.jboss.org/browse/DBZ-2755[DBZ-2755]
* no viable alternative at input 'alter table `order` drop CONSTRAINT' https://issues.jboss.org/browse/DBZ-2760[DBZ-2760]
* Tests are failing on macos https://issues.jboss.org/browse/DBZ-2762[DBZ-2762]


=== Other changes

* Move CI to Github Actions for all repositories https://issues.jboss.org/browse/DBZ-1720[DBZ-1720]
* Privileges missing from setup in documentation - Oracle LogMiner connector https://issues.jboss.org/browse/DBZ-2628[DBZ-2628]
* Add validation that replication slot doesn't exist https://issues.jboss.org/browse/DBZ-2637[DBZ-2637]
* Update OpenJDK Quality Outreach jobs https://issues.jboss.org/browse/DBZ-2638[DBZ-2638]
* Re-unify monitoring content in the operations/monitoring.adoc file https://issues.jboss.org/browse/DBZ-2659[DBZ-2659]
* Pull oracle specific changes for reading table column metadata into debezium-core https://issues.jboss.org/browse/DBZ-2690[DBZ-2690]
* Intermittent test failure on CI - PostgresConnectorIT#shouldRegularlyFlushLsnWithTxMonitoring https://issues.jboss.org/browse/DBZ-2704[DBZ-2704]
* Topic routing doc formatting fix https://issues.jboss.org/browse/DBZ-2708[DBZ-2708]
* Re-unify logging content in the operations/logging.adoc file https://issues.jboss.org/browse/DBZ-2721[DBZ-2721]
* Incorporate Oracle LogMiner implementation updates https://issues.jboss.org/browse/DBZ-2729[DBZ-2729]
* Upgrade Vitess docker image to Vitess 8.0.0 https://issues.jboss.org/browse/DBZ-2749[DBZ-2749]
* Intermittent SQL Server test failure on CI - SqlServerConnectorIT https://issues.jboss.org/browse/DBZ-2625[DBZ-2625]
* Change initial.sync.max.threads to snapshot.max.threads https://issues.jboss.org/browse/DBZ-2742[DBZ-2742]


[[release-1.4.0-alpha1]]
== *Release 1.4.0.Alpha1* _(October 22nd, 2020)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12350728[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 2.6.0 and has been tested with version 2.6.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.

=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 1.4.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 1.4.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 1.4.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our docker images then do not forget to pull them fresh from Docker registry.

=== Breaking changes

There are no breaking changes in this release.

=== New Features

* Allow to specify subset of captured tables to be snapshotted https://issues.jboss.org/browse/DBZ-2456[DBZ-2456]
* Implement snapshot select override behavior for MongoDB https://issues.jboss.org/browse/DBZ-2496[DBZ-2496]
* Asciidoc block titles are rendered the same as regular text https://issues.jboss.org/browse/DBZ-2631[DBZ-2631]
* Allow closing of hung JDBC connection https://issues.jboss.org/browse/DBZ-2632[DBZ-2632]
* Hide stacktrace when default value for SQL Server cannot be parsed https://issues.jboss.org/browse/DBZ-2642[DBZ-2642]
* Implement a CDC connector for Vitess https://issues.jboss.org/browse/DBZ-2463[DBZ-2463]
* SqlServer - Skip processing of LSNs not associated with change table entries. https://issues.jboss.org/browse/DBZ-2582[DBZ-2582]


=== Fixes

* Cant override environment variables https://issues.jboss.org/browse/DBZ-2559[DBZ-2559]
* Inconsistencies in PostgreSQL Connector Docs https://issues.jboss.org/browse/DBZ-2584[DBZ-2584]
* ConcurrentModificationException during exporting data for a mongodb collection in a sharded cluster https://issues.jboss.org/browse/DBZ-2597[DBZ-2597]
* Mysql connector didn't pass the default db charset to the column definition https://issues.jboss.org/browse/DBZ-2604[DBZ-2604]
* [Doc] "registry.redhat.io/amq7/amq-streams-kafka-25: unknown: Not Found" error occurs https://issues.jboss.org/browse/DBZ-2609[DBZ-2609]
* [Doc] "Error: no context directory and no Containerfile specified" error occurs https://issues.jboss.org/browse/DBZ-2610[DBZ-2610]
* SqlExceptions using dbz with Oracle on RDS online logs and logminer https://issues.jboss.org/browse/DBZ-2624[DBZ-2624]
* Mining session stopped - task killed/SQL operation cancelled - Oracle LogMiner https://issues.jboss.org/browse/DBZ-2629[DBZ-2629]
* Unparseable DDL: Using 'trigger' as table alias in view creation https://issues.jboss.org/browse/DBZ-2639[DBZ-2639]
* Antlr DDL parser fails to interpret BLOB([size]) https://issues.jboss.org/browse/DBZ-2641[DBZ-2641]
* MySQL Connector keeps stale offset metadata after snapshot.new.tables is changed https://issues.jboss.org/browse/DBZ-2643[DBZ-2643]
* WAL logs are not flushed in Postgres Connector https://issues.jboss.org/browse/DBZ-2653[DBZ-2653]
* Debezium server Event Hubs plugin support in v1.3 https://issues.jboss.org/browse/DBZ-2660[DBZ-2660]
* Cassandra Connector doesn't use log4j for logging correctly https://issues.jboss.org/browse/DBZ-2661[DBZ-2661]
* Should Allow NonAsciiCharacter in SQL https://issues.jboss.org/browse/DBZ-2670[DBZ-2670]
* MariaDB nextval function is not supported in grammar https://issues.jboss.org/browse/DBZ-2671[DBZ-2671]
* Sanitize field name do not santize sub struct field https://issues.jboss.org/browse/DBZ-2680[DBZ-2680]
* Debezium fails if a non-existing view with the same name as existing table is dropped https://issues.jboss.org/browse/DBZ-2688[DBZ-2688]


=== Other changes

* Merge MySQL doc source files into one again https://issues.jboss.org/browse/DBZ-2127[DBZ-2127]
* Metrics links duplicate anchor IDs https://issues.jboss.org/browse/DBZ-2497[DBZ-2497]
* Slim down Vitess container image https://issues.jboss.org/browse/DBZ-2551[DBZ-2551]
* Modify release peipeline to support per-connector repos e.g. Vitess https://issues.jboss.org/browse/DBZ-2611[DBZ-2611]
* Add Vitess connector to Kafka Connect container image https://issues.jboss.org/browse/DBZ-2618[DBZ-2618]
* User Guide Documentation corrections for PostgreSQL  https://issues.jboss.org/browse/DBZ-2621[DBZ-2621]
* Checkstyle should be built as a part of GH check formatting action https://issues.jboss.org/browse/DBZ-2623[DBZ-2623]
* Upgrade MySQL JDBC driver to version 8.0.19 https://issues.jboss.org/browse/DBZ-2626[DBZ-2626]
* Add support for multiple shard GTIDs in VGTID https://issues.jboss.org/browse/DBZ-2635[DBZ-2635]
* Add documentation for Vitess connector https://issues.jboss.org/browse/DBZ-2645[DBZ-2645]
* Restrict matrix job configurations to run only on Slaves https://issues.jboss.org/browse/DBZ-2648[DBZ-2648]
* Upgrade JUnit to 4.13.1 https://issues.jboss.org/browse/DBZ-2658[DBZ-2658]
* Avoid parsing generated files in Checkstyle https://issues.jboss.org/browse/DBZ-2669[DBZ-2669]
* Update debezium/awestruct image to use Antora 2.3.4 https://issues.jboss.org/browse/DBZ-2674[DBZ-2674]
* Fix doc typos and minor format glitches for downstream rendering https://issues.jboss.org/browse/DBZ-2681[DBZ-2681]
* Intermittent test failure on CI - RecordsStreamProducerIT#shouldReceiveHeartbeatAlsoWhenChangingNonWhitelistedTable() https://issues.jboss.org/browse/DBZ-2344[DBZ-2344]
