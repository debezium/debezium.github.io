---
layout: release-notes
title: Release Notes for Debezium 2.3
debezium-version: "2.3"
---
:toc:
:toc-placement: macro
:toclevels: 1
:sectanchors:
:linkattrs:
:icons: font

All notable changes for Debezium releases are documented in this file.
Release numbers follow http://semver.org[Semantic Versioning].

toc::[]

[[release-2.4.0-alpha1]]
== *Release 2.4.0.Alpha1* _(July 14th 2023)_

See the https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&version=12409716[complete list of issues].

=== Kafka compatibility

This release has been built against Kafka Connect 3.5.0 and has been tested with version 3.5.0 of the Kafka brokers.
See the https://kafka.apache.org/documentation/#upgrade[Kafka documentation] for compatibility with other versions of Kafka brokers.


=== Upgrading

Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.

When you decide to upgrade one of these connectors to 2.4.0.Alpha1 from any earlier versions,
first check the migration notes for the version you're using.
Gracefully stop the running connector, remove the old plugin files, install the 2.4.0.Alpha1 plugin files, and restart the connector using the same configuration.
Upon restart, the 2.4.0.Alpha1 connectors will continue where the previous connector left off.
As one might expect, all change events previously written to Kafka by the old connector will not be modified.

If you are using our container images, then please do not forget to pull them fresh from https://quay.io/organization/debezium[Quay.io].


=== Breaking changes

MongoDB connector interanlly used primary preferred hard-coded behaviour in certain scenarios.
This is no longer the case and the connection string seting is used (https://issues.redhat.com/browse/DBZ-6521[DBZ-6521]).

Vitess connector source info now contains the shard that was the source of the event (https://issues.redhat.com/browse/DBZ-6617[DBZ-6617]).



=== New features

* Capture & display critical connector metrics for Debezium UI https://issues.redhat.com/browse/DBZ-5321[DBZ-5321]
* Don't require cluster-wide privileges when watching a single database/collection https://issues.redhat.com/browse/DBZ-6182[DBZ-6182]
* Debezium Offset-Editor example application https://issues.redhat.com/browse/DBZ-6338[DBZ-6338]
* Notify about initial snapshot progress https://issues.redhat.com/browse/DBZ-6416[DBZ-6416]
* Set Readpreference tags in the MongoDB client  https://issues.redhat.com/browse/DBZ-6468[DBZ-6468]
* MySqlSnapshotChangeEventSource parallel execute createSchemaEventsForTables  https://issues.redhat.com/browse/DBZ-6472[DBZ-6472]
* Refactor errors.max.retries to common connector framework https://issues.redhat.com/browse/DBZ-6573[DBZ-6573]
* Explain failure on existing publication update when switching to `filtered` from `all_tables`  https://issues.redhat.com/browse/DBZ-6577[DBZ-6577]
* Debezium should honor read preference from connection string https://issues.redhat.com/browse/DBZ-6578[DBZ-6578]
* Document support for database restricted privileges for 2.4 https://issues.redhat.com/browse/DBZ-6592[DBZ-6592]
* Use source field in topic in table.format.name https://issues.redhat.com/browse/DBZ-6595[DBZ-6595]
* Support authentication with TC MongoDB deployments https://issues.redhat.com/browse/DBZ-6596[DBZ-6596]
* Support for getting primary key from header https://issues.redhat.com/browse/DBZ-6602[DBZ-6602]
* Support for custom tags in the connector metrics https://issues.redhat.com/browse/DBZ-6603[DBZ-6603]
* Update docs for new shard field https://issues.redhat.com/browse/DBZ-6627[DBZ-6627]
* Improve JDBC connector documentation https://issues.redhat.com/browse/DBZ-6632[DBZ-6632]
* Add configurable timeout to initialization procedure https://issues.redhat.com/browse/DBZ-6653[DBZ-6653]
* Introduce internal config option to control how close to CURRENT_SCN Oracle may mine https://issues.redhat.com/browse/DBZ-6660[DBZ-6660]
* Add support for XML_TYPE column type to Debezium connector for Oracle https://issues.redhat.com/browse/DBZ-3605[DBZ-3605]

=== Fixes

* Mysql connector fails to parse statement FLUSH FIREWALL_RULES https://issues.redhat.com/browse/DBZ-3925[DBZ-3925]
* Snapshot result not saved if LAST record is filtered out https://issues.redhat.com/browse/DBZ-5464[DBZ-5464]
* CloudEventsConverter throws static error on Kafka Connect 3.5+ https://issues.redhat.com/browse/DBZ-6517[DBZ-6517]
* Dependency io.debezium:debezium-testing-testcontainers affects logback in tests https://issues.redhat.com/browse/DBZ-6525[DBZ-6525]
* Batches with DELETE statement first will skip everything else https://issues.redhat.com/browse/DBZ-6576[DBZ-6576]
* Oracle unsupported DDL statement - drop multiple partitions https://issues.redhat.com/browse/DBZ-6585[DBZ-6585]
* Only Struct objects supported for [Header field insertion], found: null https://issues.redhat.com/browse/DBZ-6588[DBZ-6588]
* Support PostgreSQL coercion for UUID, JSON, and JSONB data types https://issues.redhat.com/browse/DBZ-6589[DBZ-6589]
* MySQL parser cannot parse CAST AS dec https://issues.redhat.com/browse/DBZ-6590[DBZ-6590]
* Excessive Log Message 'Marking Processed Record for Topic' https://issues.redhat.com/browse/DBZ-6597[DBZ-6597]
* Fixed DataCollections for table scan completion notificaiton https://issues.redhat.com/browse/DBZ-6605[DBZ-6605]
* Oracle connector is not recoverable if ORA-01327 is wrapped by another JDBC or Oracle exception https://issues.redhat.com/browse/DBZ-6610[DBZ-6610]
* Fatal error when parsing Mysql (Percona 5.7.39-42) procedure https://issues.redhat.com/browse/DBZ-6613[DBZ-6613]
* Build of Potgres connector fails when building against Kafka 2.X https://issues.redhat.com/browse/DBZ-6614[DBZ-6614]
* Upgrade postgresql driver to v42.6.0 https://issues.redhat.com/browse/DBZ-6619[DBZ-6619]
* MySQL ALTER USER with RETAIN CURRENT PASSWORD fails with parsing exception https://issues.redhat.com/browse/DBZ-6622[DBZ-6622]
* Inaccurate documentation regarding additional-condition https://issues.redhat.com/browse/DBZ-6628[DBZ-6628]
* Oracle connection SQLRecoverableExceptions are not retried by default https://issues.redhat.com/browse/DBZ-6633[DBZ-6633]
* Cannot delete non-null interval value https://issues.redhat.com/browse/DBZ-6648[DBZ-6648]
* ConcurrentModificationException thrown in Debezium 2.3 https://issues.redhat.com/browse/DBZ-6650[DBZ-6650]
* Dbz crashes on parsing Mysql Procedure Code (Statement Labels) https://issues.redhat.com/browse/DBZ-6651[DBZ-6651]
* CloudEvents converter is broken for JSON message deserialization https://issues.redhat.com/browse/DBZ-6654[DBZ-6654]
* Vitess: Connector fails if table name is a mysql reserved word https://issues.redhat.com/browse/DBZ-6656[DBZ-6656]
* Junit conflicts cause by test-containers module using transitive Junit5 from quarkus https://issues.redhat.com/browse/DBZ-6659[DBZ-6659]


=== Other changes

* Add the API endpoint to expose running connector metrics https://issues.redhat.com/browse/DBZ-5359[DBZ-5359]
* Display critical connector metrics https://issues.redhat.com/browse/DBZ-5360[DBZ-5360]
* Define and document schema history topic messages schema https://issues.redhat.com/browse/DBZ-5518[DBZ-5518]
* Align query.fetch.size across connectors https://issues.redhat.com/browse/DBZ-5676[DBZ-5676]
* Upgrade to Apache Kafka 3.5.0 https://issues.redhat.com/browse/DBZ-6047[DBZ-6047]
* Remove downstream related code from UI Frontend code https://issues.redhat.com/browse/DBZ-6394[DBZ-6394]
* Make Signal actions extensible https://issues.redhat.com/browse/DBZ-6417[DBZ-6417]
* Cleanup duplicit jobs from jenkins https://issues.redhat.com/browse/DBZ-6535[DBZ-6535]
* Implement sharded mongo ocp deployment and integration tests  https://issues.redhat.com/browse/DBZ-6538[DBZ-6538]
* Refactor retry handling in Redis schema history https://issues.redhat.com/browse/DBZ-6594[DBZ-6594]
* Upgrade Quarkus to 3.2.0.Final https://issues.redhat.com/browse/DBZ-6626[DBZ-6626]
* Upgrade kcctl to 1.0.0.Beta3 https://issues.redhat.com/browse/DBZ-6642[DBZ-6642]
* Upgrade gRPC to 1.56.1 https://issues.redhat.com/browse/DBZ-6649[DBZ-6649]
* Disable Kafka 2.x CRON trigger https://issues.redhat.com/browse/DBZ-6667[DBZ-6667]

