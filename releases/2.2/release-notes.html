<!DOCTYPE html> <html> <head> <title>Release Notes for Debezium 2.2</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta content="Debezium" property="og:site_name"> <meta content="Release Notes for Debezium 2.2" property="og:title"> <meta content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png" property="og:image" name="image"> <meta property="og:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta property="og:url" content="https://debezium.io/releases/2.2/release-notes.html"> <meta name="twitter:site" content="@debezium"> <meta name="twitter:title" content="Release Notes for Debezium 2.2"> <meta name="twitter:creator" content="@debezium"> <meta name="twitter:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png"> <meta property="twitter:url" content="https://debezium.io/releases/2.2/release-notes.html"> <link rel="alternate" type="application/rss+xml" title="Debezium Blog" href="/blog.atom"> <link rel="shortcut icon" type="image/png" href="/favicon.ico"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css"/> <link rel="stylesheet" href="/assets/css/custom.css"/> <link rel="stylesheet" href="/assets/css/highlight.min.css"/> <link rel="stylesheet" href="/assets/css/coderay.css"/> </head> <body class="release-notes"> <div id="rhbar"> <a class="jbdevlogo" href="https://developers.redhat.com"></a> <a class="rhlogo" href="https://www.redhat.com/"></a> </div> <div id> <div class="container" id="content"> <nav class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed border-0" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"><img class="project-logo" src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 5px; margin-top: -5px;"></a> </div> <div class="collapse navbar-collapse collapsed" id="navigation"> <ul class="nav navbar-nav pull-right"> <li> <a href="/documentation/faq" class="">FAQ</a> </li> <li class="item"> <a href="/documentation/" class="">Documentation</a> </li> <li class="active"> <a href="/releases/" class="">Releases</a> </li> <li> <a href="/community/" class="">Community</a> </li> <li> <a href="/blog/" class="">Blog</a> </li> </ul> </div> </div> </nav> <div class="row post-text-padding row-no-expand"> <div class="col-md-3"> <div id="leftdocnav"> <div class="hidden-lg hidden-md hidden-sm"> <button class="navbar-toggle docssubmenu-toggle collapsed" data-target="#docssubmenu" data-toggle="collapse" style=" float: none; background-color: #656565; border-color: #656565; width: 100%; color: #fff; "> Navigation Menu </button> </div> <div class="collapse" id="docssubmenu"> <div class="doc-pills"> <ul class="nav nav-pills nav-stacked"> <li class="item"> <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation</a> <div class="icon"><span class="caret-right"></span></div> <ul class="dropdown-menu nav nav-pills nav-stacked"> <li class="item"><a href="/documentation/">Overview</a></li> <li class="item"> <a href="/documentation/reference/3.0/"> <div class="version">3.0</div> <div class="version-label"> <span class="label label-development"> development </span> </div> </a> </li> <li class="item"> <a href="/documentation/reference/2.7/"> <div class="version">2.7</div> <div class="version-label"> <span class="label label-stable"> latest stable </span> </div> </a> </li> </ul> </li> <li class="item active"> <a class="dropdown-toggle" data-toggle="dropdown" href="#">Releases</a> <div class="icon"><span class="caret-right"></span></div> <ul class="dropdown-menu nav nav-pills nav-stacked"> <li class="item"><a href="/releases/">Overview</a></li> <li class="item"> <a href="/releases/3.0/"> <div class="version">3.0</div> <div class="version-label"> <span class="label label-development"> development </span> </div> </a> </li> <li class="item"> <a href="/releases/2.7/"> <div class="version">2.7</div> <div class="version-label"> <span class="label label-stable"> stable </span> </div> </a> </li> </ul> </li> <li class="item"> <a href="/documentation/online-resources">Resources on the Web</a> <div class="icon"><i class="icon-globe"></i></div> </li> <li class="item"> <a href="/community/users">Who's using Debezium?</a> <div class="icon"><i class="icon-laptop"></i></div> </li> <li class="item"> <a href="/roadmap">Roadmap</a> <div class="icon"><i class="icon-road"></i></div> </li> <li class="item"> <a href="/community/contribute">Contribute</a> <div class="icon"><i class="icon-code"></i></div> </li> <li class="item"> <a href="/community/code-of-conduct">Code of Conduct</a> <div class="icon"><i class="icon-file"></i></div> </li> <li class="item"> <a href="/documentation/faq">FAQ</a> <div class="icon"><i class="icon-question-sign"></i></div> </li> </ul> </div> <p></p> <div class="doc-pills"> <ul class="nav nav-pills nav-stacked"> <li class="item"> <a href="http://www.github.com/debezium/">Source Code</a> <div class="icon"><i class="icon-github"></i></div> </li> <li class="item"> <a href="http://issues.redhat.com/projects/DBZ/issues">Issues</a> <div class="icon"><i class="icon-tasks"></i></div> </li> <li class="item"> <a href="http://www.twitter.com/debezium/">Twitter</a> <div class="icon"><i class="icon-twitter"></i></div> </li> <li class="item"> <a href="https://debezium.zulipchat.com/#narrow/stream/302529-users">Chat</a> <div class="icon"><i class="icon-comments"></i></div> </li> <li class="item"> <a href="https://groups.google.com/forum/#!forum/debezium">Mailing List</a> <div class="icon"><i class="icon-group"></i></div> </li> </ul> </div> </div> </div> </div> <div class="col-md-9"> <div class="breadcrumb-version-selector" style=" background-color: rgba(245, 245, 245); margin-bottom: 22px; margin-top: 15px; "> <div style="float: left"> <ol class="breadcrumb" style="margin-bottom: 0px"> <li><a href="/releases"> Releases </a></li> <li><a href="/releases/2.2/"> 2.2 </a></li> <li class="active">Release Notes for Debezium 2.2</li> </ol> </div> <div style="float: right"> <div class="dropdown"> <button class="btn btn-secondary dropdown-toggle" data-toggle="dropdown"> Version 2.2 <span class="caret"></span> </button> <ul class="dropdown-menu dropdown-menu-right"> <li class="item"> <a href="/releases/3.0/"> Version 3.0 </a> </li> <li class="item"> <a href="/releases/2.7/"> Version 2.7 </a> </li> <li class="item"> <a href="/releases/2.6/"> Version 2.6 </a> </li> <li class="item"> <a href="/releases/2.5/"> Version 2.5 </a> </li> <li class="item"> <a href="/releases/2.4/"> Version 2.4 </a> </li> <li class="item"> <a href="/releases/2.3/"> Version 2.3 </a> </li> <li class="item"> <a href="/releases/2.2/"> Version 2.2 </a> </li> <li class="item"> <a href="/releases/2.1/"> Version 2.1 </a> </li> <li class="item"> <a href="/releases/2.0/"> Version 2.0 </a> </li> <li class="item"> <a href="/releases/1.9/"> Version 1.9 </a> </li> </ul> </div> </div> <div style="clear: both"></div> </div> <h1 class="section full">Release Notes for Debezium 2.2</h1> <div class="paragraph"> <p>All notable changes for Debezium releases are documented in this file. Release numbers follow <a href="http://semver.org">Semantic Versioning</a>.</p> </div> <div id="toc" class="toc"> <div id="toctitle" class="title">Table of Contents</div> <ul class="sectlevel1"> <li><a href="#release-2.2.1-final"><strong>Release 2.2.1.Final</strong> <em>(May 12nd 2023)</em></a></li> <li><a href="#release-2.2.0-final"><strong>Release 2.2.0.Final</strong> <em>(April 20th 2023)</em></a></li> <li><a href="#release-2.2.0-cr1"><strong>Release 2.2.0.CR1</strong> <em>(April 14th 2023)</em></a></li> <li><a href="#release-2.2.0-beta1"><strong>Release 2.2.0.Beta1</strong> <em>(March 31st 2023)</em></a></li> <li><a href="#release-2.2.0-alpha3"><strong>Release 2.2.0.Alpha3</strong> <em>(March 8th 2023)</em></a></li> <li><a href="#release-2.2.0-alpha2"><strong>Release 2.2.0.Alpha2</strong> <em>(February 16th 2023)</em></a></li> <li><a href="#release-2.2.0-alpha1"><strong>Release 2.2.0.Alpha1</strong> <em>(January 19th 2023)</em></a></li> </ul> </div> <div class="sect1"> <h2 id="release-2.2.1-final"><a class="anchor" href="#release-2.2.1-final"></a><strong>Release 2.2.1.Final</strong> <em>(May 12nd 2023)</em></h2> <div class="sectionbody"> <div class="paragraph"> <p>See the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&amp;version=12406660">complete list of issues</a>.</p> </div> <div class="sect2"> <h3 id="kafka_compatibility"><a class="anchor" href="#kafka_compatibility"></a>Kafka compatibility</h3> <div class="paragraph"> <p>This release has been built against Kafka Connect 3.4.0 and has been tested with version 3.4.0 of the Kafka brokers. See the <a href="https://kafka.apache.org/documentation/#upgrade">Kafka documentation</a> for compatibility with other versions of Kafka brokers.</p> </div> </div> <div class="sect2"> <h3 id="upgrading"><a class="anchor" href="#upgrading"></a>Upgrading</h3> <div class="paragraph"> <p>Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.</p> </div> <div class="paragraph"> <p>When you decide to upgrade one of these connectors to 2.2.1.Final from any earlier versions, first check the migration notes for the version you&#8217;re using. Gracefully stop the running connector, remove the old plugin files, install the 2.2.1.Final plugin files, and restart the connector using the same configuration. Upon restart, the 2.2.1.Final connectors will continue where the previous connector left off. As one might expect, all change events previously written to Kafka by the old connector will not be modified.</p> </div> <div class="paragraph"> <p>If you are using our container images, then please do not forget to pull them fresh from <a href="https://hub.docker.com/u/debezium">DockerHub</a>.</p> </div> </div> <div class="sect2"> <h3 id="breaking_changes"><a class="anchor" href="#breaking_changes"></a>Breaking changes</h3> <div class="paragraph"> <p>There are no breaking changes in this release.</p> </div> </div> <div class="sect2"> <h3 id="new_features"><a class="anchor" href="#new_features"></a>New features</h3> <div class="ulist"> <ul> <li> <p>log.mining.transaction.retention.hours should reference last offset and not sysdate <a href="https://issues.redhat.com/browse/DBZ-6355">DBZ-6355</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="fixes"><a class="anchor" href="#fixes"></a>Fixes</h3> <div class="ulist"> <ul> <li> <p>Toasted varying character array and date array are not correcly processed <a href="https://issues.redhat.com/browse/DBZ-6122">DBZ-6122</a></p> </li> <li> <p>Using pg_replication_slot_advance which is not supported by PostgreSQL10. <a href="https://issues.redhat.com/browse/DBZ-6353">DBZ-6353</a></p> </li> <li> <p>'CREATE TABLE t (c NATIONAL CHAR)' parsing failed <a href="https://issues.redhat.com/browse/DBZ-6357">DBZ-6357</a></p> </li> <li> <p>Toasted hstore are not correcly processed <a href="https://issues.redhat.com/browse/DBZ-6379">DBZ-6379</a></p> </li> <li> <p>Snapshotting does not work for hstore in Map mode <a href="https://issues.redhat.com/browse/DBZ-6384">DBZ-6384</a></p> </li> <li> <p>Oracle DDL shrink space for table partition can not be parsed <a href="https://issues.redhat.com/browse/DBZ-6386">DBZ-6386</a></p> </li> <li> <p>PostgreSQL connector task fails to resume streaming because replication slot is active <a href="https://issues.redhat.com/browse/DBZ-6396">DBZ-6396</a></p> </li> <li> <p>MySql in debezium-parser-ddl :The inserted sql statement reports an error <a href="https://issues.redhat.com/browse/DBZ-6401">DBZ-6401</a></p> </li> <li> <p>MongoDB connector crashes on invalid resume token <a href="https://issues.redhat.com/browse/DBZ-6402">DBZ-6402</a></p> </li> <li> <p>New SMT HeaderToValue not working <a href="https://issues.redhat.com/browse/DBZ-6411">DBZ-6411</a></p> </li> <li> <p>Debezium Server 2.2.0.Final BOM refers to debezium-build-parent 2.2.0-SNAPSHOT <a href="https://issues.redhat.com/browse/DBZ-6437">DBZ-6437</a></p> </li> <li> <p>Oracle Connector failed parsing DDL Statement <a href="https://issues.redhat.com/browse/DBZ-6442">DBZ-6442</a></p> </li> <li> <p>Oracle DDL shrink space for index partition can not be parsed <a href="https://issues.redhat.com/browse/DBZ-6446">DBZ-6446</a></p> </li> <li> <p>Fix existing bug in information schema query in the Spanner connector <a href="https://issues.redhat.com/browse/DBZ-6385">DBZ-6385</a></p> </li> <li> <p>change logging level of skip.messages.without.change <a href="https://issues.redhat.com/browse/DBZ-6391">DBZ-6391</a></p> </li> <li> <p>Include redo/archive log metadata on ORA-01291 exceptions <a href="https://issues.redhat.com/browse/DBZ-6436">DBZ-6436</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="other_changes"><a class="anchor" href="#other_changes"></a>Other changes</h3> <div class="ulist"> <ul> <li> <p>Base the "replaceable" build numbers in legacy deployment instructions on <code>debezium-build-number</code> attribute <a href="https://issues.redhat.com/browse/DBZ-6371">DBZ-6371</a></p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="release-2.2.0-final"><a class="anchor" href="#release-2.2.0-final"></a><strong>Release 2.2.0.Final</strong> <em>(April 20th 2023)</em></h2> <div class="sectionbody"> <div class="paragraph"> <p>See the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&amp;version=12406487">complete list of issues</a>.</p> </div> <div class="sect2"> <h3 id="kafka_compatibility_2"><a class="anchor" href="#kafka_compatibility_2"></a>Kafka compatibility</h3> <div class="paragraph"> <p>This release has been built against Kafka Connect 3.4.0 and has been tested with version 3.4.0 of the Kafka brokers. See the <a href="https://kafka.apache.org/documentation/#upgrade">Kafka documentation</a> for compatibility with other versions of Kafka brokers.</p> </div> </div> <div class="sect2"> <h3 id="upgrading_2"><a class="anchor" href="#upgrading_2"></a>Upgrading</h3> <div class="paragraph"> <p>Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.</p> </div> <div class="paragraph"> <p>When you decide to upgrade one of these connectors to 2.2.0.Final from any earlier versions, first check the migration notes for the version you&#8217;re using. Gracefully stop the running connector, remove the old plugin files, install the 2.2.0.Final plugin files, and restart the connector using the same configuration. Upon restart, the 2.2.0.Final connectors will continue where the previous connector left off. As one might expect, all change events previously written to Kafka by the old connector will not be modified.</p> </div> <div class="paragraph"> <p>If you are using our container images, then please do not forget to pull them fresh from <a href="https://hub.docker.com/u/debezium">DockerHub</a>.</p> </div> </div> <div class="sect2"> <h3 id="breaking_changes_2"><a class="anchor" href="#breaking_changes_2"></a>Breaking changes</h3> <div class="paragraph"> <p>There are no breaking changes in this release.</p> </div> </div> <div class="sect2"> <h3 id="new_features_2"><a class="anchor" href="#new_features_2"></a>New features</h3> <div class="ulist"> <ul> <li> <p>Describe Postgres example configuration for Debezium Server <a href="https://issues.redhat.com/browse/DBZ-6325">DBZ-6325</a></p> </li> <li> <p>Improve messages in Redis sink in case of OOM <a href="https://issues.redhat.com/browse/DBZ-6346">DBZ-6346</a></p> </li> <li> <p>Stream shard list for debezium vitess connector <a href="https://issues.redhat.com/browse/DBZ-6356">DBZ-6356</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="fixes_2"><a class="anchor" href="#fixes_2"></a>Fixes</h3> <div class="ulist"> <ul> <li> <p>If column.include.list/column.exclude.list are used and the target table receives an update for the excluded (or not included) column - such events should be ignored <a href="https://issues.redhat.com/browse/DBZ-2979">DBZ-2979</a></p> </li> <li> <p>Connector offsets do not advance on transaction commit with filtered events when LOB enabled <a href="https://issues.redhat.com/browse/DBZ-5395">DBZ-5395</a></p> </li> <li> <p>Task failure when index is made on primary columns of table. <a href="https://issues.redhat.com/browse/DBZ-6238">DBZ-6238</a></p> </li> <li> <p>Oracle connector doesn&#8217;t need to verify redo log when snapshotting only <a href="https://issues.redhat.com/browse/DBZ-6276">DBZ-6276</a></p> </li> <li> <p>MySQL connector cannot parse table with SYSTEM VERSIONING <a href="https://issues.redhat.com/browse/DBZ-6331">DBZ-6331</a></p> </li> <li> <p>MySql in debezium-parser-ddl does not support with keyword parsing <a href="https://issues.redhat.com/browse/DBZ-6336">DBZ-6336</a></p> </li> <li> <p>Duplicate JMX MBean names when multiple vitess tasks running in the same JVM <a href="https://issues.redhat.com/browse/DBZ-6347">DBZ-6347</a></p> </li> <li> <p>KafkaSignalThread#SIGNAL_POLL_TIMEOUT_MS option duplicate signal prefix <a href="https://issues.redhat.com/browse/DBZ-6361">DBZ-6361</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="other_changes_2"><a class="anchor" href="#other_changes_2"></a>Other changes</h3> <div class="ulist"> <ul> <li> <p>Complete MongoDB incremental snapshotting implementation <a href="https://issues.redhat.com/browse/DBZ-4427">DBZ-4427</a></p> </li> <li> <p>Add documentation for the reactive variant of the Quarkus outbox extension <a href="https://issues.redhat.com/browse/DBZ-5859">DBZ-5859</a></p> </li> <li> <p>Create an annotation for flaky tests <a href="https://issues.redhat.com/browse/DBZ-6324">DBZ-6324</a></p> </li> <li> <p>2.1.4 post-release documentation fixes <a href="https://issues.redhat.com/browse/DBZ-6351">DBZ-6351</a></p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="release-2.2.0-cr1"><a class="anchor" href="#release-2.2.0-cr1"></a><strong>Release 2.2.0.CR1</strong> <em>(April 14th 2023)</em></h2> <div class="sectionbody"> <div class="paragraph"> <p>See the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&amp;version=12405777">complete list of issues</a>.</p> </div> <div class="sect2"> <h3 id="kafka_compatibility_3"><a class="anchor" href="#kafka_compatibility_3"></a>Kafka compatibility</h3> <div class="paragraph"> <p>This release has been built against Kafka Connect 3.4.0 and has been tested with version 3.4.0 of the Kafka brokers. See the <a href="https://kafka.apache.org/documentation/#upgrade">Kafka documentation</a> for compatibility with other versions of Kafka brokers.</p> </div> </div> <div class="sect2"> <h3 id="upgrading_3"><a class="anchor" href="#upgrading_3"></a>Upgrading</h3> <div class="paragraph"> <p>Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.</p> </div> <div class="paragraph"> <p>When you decide to upgrade one of these connectors to 2.2.0.CR1 from any earlier versions, first check the migration notes for the version you&#8217;re using. Gracefully stop the running connector, remove the old plugin files, install the 2.2.0.CR1 plugin files, and restart the connector using the same configuration. Upon restart, the 2.2.0.CR1 connectors will continue where the previous connector left off. As one might expect, all change events previously written to Kafka by the old connector will not be modified.</p> </div> <div class="paragraph"> <p>If you are using our container images, then please do not forget to pull them fresh from <a href="https://hub.docker.com/u/debezium">DockerHub</a>.</p> </div> </div> <div class="sect2"> <h3 id="breaking_changes_3"><a class="anchor" href="#breaking_changes_3"></a>Breaking changes</h3> <div class="paragraph"> <p>Quarkus was upgraded to version 3. As Quarkus is now based on Jakarta EE 10 the package names has been changed from <code>javax.<strong></code> to <code>jakarta.</strong></code>. If you use Debezium outbox extension or you have dependency on Debezium in your project then it is possible that you&#8217;ll either need to update your dependency management or the source code (<a href="https://issues.redhat.com/browse/DBZ-6129">DBZ-6129</a>).</p> </div> </div> <div class="sect2"> <h3 id="new_features_3"><a class="anchor" href="#new_features_3"></a>New features</h3> <div class="ulist"> <ul> <li> <p>Capture evenents in order across mongodb shards <a href="https://issues.redhat.com/browse/DBZ-5590">DBZ-5590</a></p> </li> <li> <p>Pass through configurations for kafka topics/configuration <a href="https://issues.redhat.com/browse/DBZ-6262">DBZ-6262</a></p> </li> <li> <p>Enable the docker tag to be configurable in the Spanner connector <a href="https://issues.redhat.com/browse/DBZ-6302">DBZ-6302</a></p> </li> <li> <p>Support async producer for Pulsar sink to improve performance <a href="https://issues.redhat.com/browse/DBZ-6319">DBZ-6319</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="fixes_3"><a class="anchor" href="#fixes_3"></a>Fixes</h3> <div class="ulist"> <ul> <li> <p>Failed retriable operations are retried infinitely <a href="https://issues.redhat.com/browse/DBZ-4488">DBZ-4488</a></p> </li> <li> <p>DDL events not stored in schema history topic for excluded tables <a href="https://issues.redhat.com/browse/DBZ-6070">DBZ-6070</a></p> </li> <li> <p>Oracle path used current batchSize to calculate end scn is wrong, need to use min batch size <a href="https://issues.redhat.com/browse/DBZ-6155">DBZ-6155</a></p> </li> <li> <p>Multiplatform build of example-postres fails <a href="https://issues.redhat.com/browse/DBZ-6258">DBZ-6258</a></p> </li> <li> <p>Add protoc version property to postgres connector pom.xml <a href="https://issues.redhat.com/browse/DBZ-6261">DBZ-6261</a></p> </li> <li> <p>Postgres connector doesn&#8217;t need logical WAL level when snapshotting only <a href="https://issues.redhat.com/browse/DBZ-6265">DBZ-6265</a></p> </li> <li> <p>MySQL connector doesn&#8217;t need to query binlog when snapshotting only <a href="https://issues.redhat.com/browse/DBZ-6271">DBZ-6271</a></p> </li> <li> <p>Table names with spaces are not correctly deserialized when using an Infinispan cache as the transaction buffer <a href="https://issues.redhat.com/browse/DBZ-6273">DBZ-6273</a></p> </li> <li> <p>Transaction buffer state can become corrupted when using Infinispan cache with LOBs <a href="https://issues.redhat.com/browse/DBZ-6275">DBZ-6275</a></p> </li> <li> <p>DDL statement couldn&#8217;t be parsed - Oracle connector 2.1.3.Final <a href="https://issues.redhat.com/browse/DBZ-6314">DBZ-6314</a></p> </li> <li> <p>Unparsable DDL statements (MySQL/MariaDB) <a href="https://issues.redhat.com/browse/DBZ-6316">DBZ-6316</a></p> </li> <li> <p>Cassandra 3 cannot be built using JDK20 <a href="https://issues.redhat.com/browse/DBZ-6320">DBZ-6320</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="other_changes_3"><a class="anchor" href="#other_changes_3"></a>Other changes</h3> <div class="ulist"> <ul> <li> <p>Upgrade dependencies (Quarkus, etc) of Debezium UI <a href="https://issues.redhat.com/browse/DBZ-4109">DBZ-4109</a></p> </li> <li> <p>UI- Add the UI to configure the additional properties for a connector <a href="https://issues.redhat.com/browse/DBZ-5365">DBZ-5365</a></p> </li> <li> <p>Upgrade UI build to use Debezium 2.2 or latest <a href="https://issues.redhat.com/browse/DBZ-6173">DBZ-6173</a></p> </li> <li> <p>Oracle-Connector dbz##user needs more rights <a href="https://issues.redhat.com/browse/DBZ-6198">DBZ-6198</a></p> </li> <li> <p>Make quay.io primary image repository <a href="https://issues.redhat.com/browse/DBZ-6216">DBZ-6216</a></p> </li> <li> <p>Update config properties in RHEL deployment instructions <a href="https://issues.redhat.com/browse/DBZ-6266">DBZ-6266</a></p> </li> <li> <p>Fix errors in downstream Getting Started guide <a href="https://issues.redhat.com/browse/DBZ-6268">DBZ-6268</a></p> </li> <li> <p>Address review feedback in downstream RHEL and OCP installation guides <a href="https://issues.redhat.com/browse/DBZ-6272">DBZ-6272</a></p> </li> <li> <p>Infinispan cache configuration used by Oracle tests are not compatible with Infinispan 14.0.2 <a href="https://issues.redhat.com/browse/DBZ-6274">DBZ-6274</a></p> </li> <li> <p>Remove unused/migrated jobs from upstream repository <a href="https://issues.redhat.com/browse/DBZ-6299">DBZ-6299</a></p> </li> <li> <p>Upgrade MySQL JDBC driver to 8.0.32 <a href="https://issues.redhat.com/browse/DBZ-6304">DBZ-6304</a></p> </li> <li> <p>Allow specifying docker image reference in MongoDB testcontainers implementation <a href="https://issues.redhat.com/browse/DBZ-6305">DBZ-6305</a></p> </li> <li> <p>Use <strong>MongoDbContainer</strong> instead of <strong>MongoDBContainer</strong> test containers class in ConnectorConfiguration class <a href="https://issues.redhat.com/browse/DBZ-6306">DBZ-6306</a></p> </li> <li> <p>Add documentation for JDBC sink connector <a href="https://issues.redhat.com/browse/DBZ-6310">DBZ-6310</a></p> </li> <li> <p>Fix all compliance warnings for Jenkins <a href="https://issues.redhat.com/browse/DBZ-6315">DBZ-6315</a></p> </li> <li> <p>Remove outdated information about SYS user accounts with Oracle <a href="https://issues.redhat.com/browse/DBZ-6318">DBZ-6318</a></p> </li> <li> <p>Bundle Jolokia with Debezium connect image <a href="https://issues.redhat.com/browse/DBZ-6323">DBZ-6323</a></p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="release-2.2.0-beta1"><a class="anchor" href="#release-2.2.0-beta1"></a><strong>Release 2.2.0.Beta1</strong> <em>(March 31st 2023)</em></h2> <div class="sectionbody"> <div class="paragraph"> <p>See the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&amp;version=12404187">complete list of issues</a>.</p> </div> <div class="sect2"> <h3 id="kafka_compatibility_4"><a class="anchor" href="#kafka_compatibility_4"></a>Kafka compatibility</h3> <div class="paragraph"> <p>This release has been built against Kafka Connect 3.4.0 and has been tested with version 3.4.0 of the Kafka brokers. See the <a href="https://kafka.apache.org/documentation/#upgrade">Kafka documentation</a> for compatibility with other versions of Kafka brokers.</p> </div> </div> <div class="sect2"> <h3 id="upgrading_4"><a class="anchor" href="#upgrading_4"></a>Upgrading</h3> <div class="paragraph"> <p>Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.</p> </div> <div class="paragraph"> <p>When you decide to upgrade one of these connectors to 2.2.0.Beta1 from any earlier versions, first check the migration notes for the version you&#8217;re using. Gracefully stop the running connector, remove the old plugin files, install the 2.2.0.Beta1 plugin files, and restart the connector using the same configuration. Upon restart, the 2.2.0.Beta1 connectors will continue where the previous connector left off. As one might expect, all change events previously written to Kafka by the old connector will not be modified.</p> </div> <div class="paragraph"> <p>If you are using our container images, then please do not forget to pull them fresh from <a href="https://hub.docker.com/u/debezium">DockerHub</a>.</p> </div> </div> <div class="sect2"> <h3 id="breaking_changes_4"><a class="anchor" href="#breaking_changes_4"></a>Breaking changes</h3> <div class="paragraph"> <p>There are no breaking changes in this release.</p> </div> </div> <div class="sect2"> <h3 id="new_features_4"><a class="anchor" href="#new_features_4"></a>New features</h3> <div class="ulist"> <ul> <li> <p>Debezium JDBC Sink Connector <a href="https://issues.redhat.com/browse/DBZ-3647">DBZ-3647</a></p> </li> <li> <p>Create an endpoint to update a connector <a href="https://issues.redhat.com/browse/DBZ-5314">DBZ-5314</a></p> </li> <li> <p>Refactor snapshotting to use change streams instead of oplog <a href="https://issues.redhat.com/browse/DBZ-5987">DBZ-5987</a></p> </li> <li> <p>Update the design for Debezium based connectors Filter step <a href="https://issues.redhat.com/browse/DBZ-6060">DBZ-6060</a></p> </li> <li> <p>Connect and stream from sharded clusters through mongos instances <a href="https://issues.redhat.com/browse/DBZ-6170">DBZ-6170</a></p> </li> <li> <p>Support Postgres dialect for Spanner Kafka Connector <a href="https://issues.redhat.com/browse/DBZ-6178">DBZ-6178</a></p> </li> <li> <p>Support Azure blob storage as Debezium history storage <a href="https://issues.redhat.com/browse/DBZ-6180">DBZ-6180</a></p> </li> <li> <p>Support Database role in Connector Config. <a href="https://issues.redhat.com/browse/DBZ-6192">DBZ-6192</a></p> </li> <li> <p>Remove duplicated createDdlFilter method from historized connector config <a href="https://issues.redhat.com/browse/DBZ-6197">DBZ-6197</a></p> </li> <li> <p>Create new SMT to copy/move header to record value <a href="https://issues.redhat.com/browse/DBZ-6201">DBZ-6201</a></p> </li> <li> <p>Add support for columns of type "bytea[]" - array of bytea (byte array) <a href="https://issues.redhat.com/browse/DBZ-6232">DBZ-6232</a></p> </li> <li> <p>Support ImageFromDockerfile with Debezium&#8217;s testcontainers suite <a href="https://issues.redhat.com/browse/DBZ-6244">DBZ-6244</a></p> </li> <li> <p>Expose EmbeddedEngine configurations <a href="https://issues.redhat.com/browse/DBZ-6248">DBZ-6248</a></p> </li> <li> <p>RabbitMQ Sink <a href="https://issues.redhat.com/browse/DBZ-6260">DBZ-6260</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="fixes_4"><a class="anchor" href="#fixes_4"></a>Fixes</h3> <div class="ulist"> <ul> <li> <p>NPE when setting schema.history.internal.store.only.captured.tables.ddl=true <a href="https://issues.redhat.com/browse/DBZ-6072">DBZ-6072</a></p> </li> <li> <p>Postgres connector stuck when replication slot does not have confirmed_flush_lsn <a href="https://issues.redhat.com/browse/DBZ-6092">DBZ-6092</a></p> </li> <li> <p>java.lang.NullPointerException in MySQL connector with max.queue.size.in.bytes <a href="https://issues.redhat.com/browse/DBZ-6104">DBZ-6104</a></p> </li> <li> <p>debezium-connector-mysql failed to parse serveral DDLs of 'CREATE TABLE' <a href="https://issues.redhat.com/browse/DBZ-6124">DBZ-6124</a></p> </li> <li> <p>Zerofill property failed for different int types <a href="https://issues.redhat.com/browse/DBZ-6185">DBZ-6185</a></p> </li> <li> <p>GRANT DELETE HISTORY couldn&#8217;t be parsed in mariadb <a href="https://issues.redhat.com/browse/DBZ-6186">DBZ-6186</a></p> </li> <li> <p>ddl parse failed for key partition table <a href="https://issues.redhat.com/browse/DBZ-6188">DBZ-6188</a></p> </li> <li> <p>Config options internal.schema.history.internal.ddl.filter not working <a href="https://issues.redhat.com/browse/DBZ-6190">DBZ-6190</a></p> </li> <li> <p>Use CHARSET for alterByConvertCharset clause <a href="https://issues.redhat.com/browse/DBZ-6194">DBZ-6194</a></p> </li> <li> <p>Data loss upon connector restart <a href="https://issues.redhat.com/browse/DBZ-6204">DBZ-6204</a></p> </li> <li> <p>ParsingException: DDL statement couldn&#8217;t be parsed <a href="https://issues.redhat.com/browse/DBZ-6217">DBZ-6217</a></p> </li> <li> <p>The CHARACTER/CHARACTER(p)/CHARACTER VARYING(p) data types not recognized as JDBC type CHAR <a href="https://issues.redhat.com/browse/DBZ-6221">DBZ-6221</a></p> </li> <li> <p>MySQL treats the BOOLEAN synonym differently when processed in snapshot vs streaming phases. <a href="https://issues.redhat.com/browse/DBZ-6225">DBZ-6225</a></p> </li> <li> <p>MySQL treats REAL synonym differently when processed in snapshot vs streaming phases. <a href="https://issues.redhat.com/browse/DBZ-6226">DBZ-6226</a></p> </li> <li> <p>Spanner Connector - Deadlock in BufferedPublisher when publish gives exception <a href="https://issues.redhat.com/browse/DBZ-6227">DBZ-6227</a></p> </li> <li> <p>Publish of sync event fails when message becomes very large. <a href="https://issues.redhat.com/browse/DBZ-6228">DBZ-6228</a></p> </li> <li> <p>MySQL treats NCHAR/NVARCHAR differently when processed in snapshot vs streaming phases. <a href="https://issues.redhat.com/browse/DBZ-6231">DBZ-6231</a></p> </li> <li> <p>MySQL singleDeleteStatement parser does not support table alias <a href="https://issues.redhat.com/browse/DBZ-6243">DBZ-6243</a></p> </li> <li> <p>Testcontainers MongoDbReplicaSetTest failing with MongoDB 4.2 <a href="https://issues.redhat.com/browse/DBZ-6247">DBZ-6247</a></p> </li> <li> <p>Wrong error thrown when snapshot.custom_class=custom and no snapshot.custom.class <a href="https://issues.redhat.com/browse/DBZ-6249">DBZ-6249</a></p> </li> <li> <p>Missing GEOMETRY keyword which can be used as column name <a href="https://issues.redhat.com/browse/DBZ-6250">DBZ-6250</a></p> </li> <li> <p>Postgres connector stuck trying to fallback to restart_lsn when replication slot confirmed_flush_lsn is null. <a href="https://issues.redhat.com/browse/DBZ-6251">DBZ-6251</a></p> </li> <li> <p>MariaDB&#8217;s UUID column type cannot be parsed when scheme is loaded <a href="https://issues.redhat.com/browse/DBZ-6255">DBZ-6255</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="other_changes_4"><a class="anchor" href="#other_changes_4"></a>Other changes</h3> <div class="ulist"> <ul> <li> <p>Document message.key.columns and tombstone events limitations for default REPLICA IDENTITY <a href="https://issues.redhat.com/browse/DBZ-5490">DBZ-5490</a></p> </li> <li> <p>Reflect configuration changes for MongoDB connector in documentation <a href="https://issues.redhat.com/browse/DBZ-6090">DBZ-6090</a></p> </li> <li> <p>Create Oracle CI workflow <a href="https://issues.redhat.com/browse/DBZ-6115">DBZ-6115</a></p> </li> <li> <p>Provide instructions for upgrading from Debezium 1.x to 2.x <a href="https://issues.redhat.com/browse/DBZ-6128">DBZ-6128</a></p> </li> <li> <p>Update connector configuration examples in deployment instructions <a href="https://issues.redhat.com/browse/DBZ-6153">DBZ-6153</a></p> </li> <li> <p>Insert missing Nebel annotations for Oracle connector FAQ topic <a href="https://issues.redhat.com/browse/DBZ-6215">DBZ-6215</a></p> </li> <li> <p>Add metadata for MongoDB change streams topic <a href="https://issues.redhat.com/browse/DBZ-6223">DBZ-6223</a></p> </li> <li> <p>Remove incubation notice from Debezium Server page <a href="https://issues.redhat.com/browse/DBZ-6235">DBZ-6235</a></p> </li> <li> <p>Ensure correct build for Oracle CI in case of pull request <a href="https://issues.redhat.com/browse/DBZ-6239">DBZ-6239</a></p> </li> <li> <p>Fix broken link to Streams documentation in shared deployment files <a href="https://issues.redhat.com/browse/DBZ-6263">DBZ-6263</a></p> </li> <li> <p>Update config example in Installing Debezium on OpenShift <a href="https://issues.redhat.com/browse/DBZ-6267">DBZ-6267</a></p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="release-2.2.0-alpha3"><a class="anchor" href="#release-2.2.0-alpha3"></a><strong>Release 2.2.0.Alpha3</strong> <em>(March 8th 2023)</em></h2> <div class="sectionbody"> <div class="paragraph"> <p>See the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&amp;version=12402444">complete list of issues</a>.</p> </div> <div class="sect2"> <h3 id="kafka_compatibility_5"><a class="anchor" href="#kafka_compatibility_5"></a>Kafka compatibility</h3> <div class="paragraph"> <p>This release has been built against Kafka Connect 3.4.0 and has been tested with version 3.4.0 of the Kafka brokers. See the <a href="https://kafka.apache.org/documentation/#upgrade">Kafka documentation</a> for compatibility with other versions of Kafka brokers.</p> </div> </div> <div class="sect2"> <h3 id="upgrading_5"><a class="anchor" href="#upgrading_5"></a>Upgrading</h3> <div class="paragraph"> <p>Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.</p> </div> <div class="paragraph"> <p>When you decide to upgrade one of these connectors to 2.2.0.Alpha3 from any earlier versions, first check the migration notes for the version you&#8217;re using. Gracefully stop the running connector, remove the old plugin files, install the 2.2.0.Alpha3 plugin files, and restart the connector using the same configuration. Upon restart, the 2.2.0.Alpha3 connectors will continue where the previous connector left off. As one might expect, all change events previously written to Kafka by the old connector will not be modified.</p> </div> <div class="paragraph"> <p>If you are using our container images, then please do not forget to pull them fresh from <a href="https://hub.docker.com/u/debezium">DockerHub</a>.</p> </div> </div> <div class="sect2"> <h3 id="breaking_changes_5"><a class="anchor" href="#breaking_changes_5"></a>Breaking changes</h3> <div class="paragraph"> <p>Debezium was truncating on timezoned types milli/microsecond zeroes regardless of the schema width setting. This is no longer the case and Debezium provides the correct number of trailing zeroes (<a href="https://issues.redhat.com/browse/DBZ-6163">DBZ-6163</a>).</p> </div> </div> <div class="sect2"> <h3 id="new_features_5"><a class="anchor" href="#new_features_5"></a>New features</h3> <div class="ulist"> <ul> <li> <p>Optionally parallelize initial snapshots <a href="https://issues.redhat.com/browse/DBZ-823">DBZ-823</a></p> </li> <li> <p>Server side database and collection filtering on MongoDB change stream <a href="https://issues.redhat.com/browse/DBZ-5102">DBZ-5102</a></p> </li> <li> <p>Create a Datastax connector based on Cassandra connector <a href="https://issues.redhat.com/browse/DBZ-5951">DBZ-5951</a></p> </li> <li> <p>Add support for honouring MongoDB read preference in change stream after promotion <a href="https://issues.redhat.com/browse/DBZ-5953">DBZ-5953</a></p> </li> <li> <p>Add support for header to all Debezium Server sinks <a href="https://issues.redhat.com/browse/DBZ-6017">DBZ-6017</a></p> </li> <li> <p>Add support for surrogate keys for incremental snapshots <a href="https://issues.redhat.com/browse/DBZ-6023">DBZ-6023</a></p> </li> <li> <p>Support String type for key in Mongo incremental snapshot <a href="https://issues.redhat.com/browse/DBZ-6116">DBZ-6116</a></p> </li> <li> <p>fix typo in sqlserver doc. change "evemts" to "events". <a href="https://issues.redhat.com/browse/DBZ-6123">DBZ-6123</a></p> </li> <li> <p>Support change stream filtering using MongoDB&#8217;s aggregation pipeline step <a href="https://issues.redhat.com/browse/DBZ-6131">DBZ-6131</a></p> </li> <li> <p>Remove hardcoded list of system database exclusions that are not required for change streaming <a href="https://issues.redhat.com/browse/DBZ-6152">DBZ-6152</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="fixes_5"><a class="anchor" href="#fixes_5"></a>Fixes</h3> <div class="ulist"> <ul> <li> <p>When using <code>snapshot.collection.include.list</code>, relational schema isn&#8217;t populated correctly <a href="https://issues.redhat.com/browse/DBZ-3594">DBZ-3594</a></p> </li> <li> <p>Debezium UI should use fast-jar again with Quarkus 2.x <a href="https://issues.redhat.com/browse/DBZ-4621">DBZ-4621</a></p> </li> <li> <p>GCP Spanner connector start failing when there are multiple indexes on a single column <a href="https://issues.redhat.com/browse/DBZ-6101">DBZ-6101</a></p> </li> <li> <p>Negative remaining attempts on MongoDB reconnect case <a href="https://issues.redhat.com/browse/DBZ-6113">DBZ-6113</a></p> </li> <li> <p>Tables with spaces or non-ASCII characters in their name are not captured by Oracle because they must be quoted. <a href="https://issues.redhat.com/browse/DBZ-6120">DBZ-6120</a></p> </li> <li> <p>Offsets are not advanced in a CDB deployment with low frequency of changes to PDB <a href="https://issues.redhat.com/browse/DBZ-6125">DBZ-6125</a></p> </li> <li> <p>Oracle TIMESTAMP WITH TIME ZONE is emitted as GMT during snapshot rather than the specified TZ <a href="https://issues.redhat.com/browse/DBZ-6143">DBZ-6143</a></p> </li> <li> <p>Debezium UI E2E Frontend build failing randomly with corrupted Node 16 tar file <a href="https://issues.redhat.com/browse/DBZ-6146">DBZ-6146</a></p> </li> <li> <p>Debezium UI SQL Server tests randomly fail due to slow agent start-up <a href="https://issues.redhat.com/browse/DBZ-6149">DBZ-6149</a></p> </li> <li> <p>RelationalSnapshotChangeEventSource swallows exception generated during snapshot <a href="https://issues.redhat.com/browse/DBZ-6179">DBZ-6179</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="other_changes_5"><a class="anchor" href="#other_changes_5"></a>Other changes</h3> <div class="ulist"> <ul> <li> <p>Remove redundancies between MySqlJdbcContext and MySqlConnection <a href="https://issues.redhat.com/browse/DBZ-4855">DBZ-4855</a></p> </li> <li> <p>Refactor connection management for mongodb connector <a href="https://issues.redhat.com/browse/DBZ-6032">DBZ-6032</a></p> </li> <li> <p>Conditionalization anomalies in Oracle connector doc <a href="https://issues.redhat.com/browse/DBZ-6073">DBZ-6073</a></p> </li> <li> <p>Optimize debezium-testing-system image to build only modules necessary for tests <a href="https://issues.redhat.com/browse/DBZ-6108">DBZ-6108</a></p> </li> <li> <p>Migrate system test jobs to gitlab <a href="https://issues.redhat.com/browse/DBZ-6109">DBZ-6109</a></p> </li> <li> <p>Remove references to adding configuration settings to a .properties file <a href="https://issues.redhat.com/browse/DBZ-6130">DBZ-6130</a></p> </li> <li> <p>Fix Debezium Server Redis random test failures <a href="https://issues.redhat.com/browse/DBZ-6133">DBZ-6133</a></p> </li> <li> <p>Allow TestContainers test framework to expose ConnectorConfiguration as JSON <a href="https://issues.redhat.com/browse/DBZ-6136">DBZ-6136</a></p> </li> <li> <p>Upgrade impsort-maven-plugin from 1.7.0 to 1.8.0 <a href="https://issues.redhat.com/browse/DBZ-6144">DBZ-6144</a></p> </li> <li> <p>Upgrade Quarkus dependencies to 2.16.3.Final <a href="https://issues.redhat.com/browse/DBZ-6150">DBZ-6150</a></p> </li> <li> <p>Github workflows not working for Cassandra job (step Build Debezium Connector Cassandra) <a href="https://issues.redhat.com/browse/DBZ-6171">DBZ-6171</a></p> </li> <li> <p>Create SSL scenarios for integration tests for MySQL connector <a href="https://issues.redhat.com/browse/DBZ-6184">DBZ-6184</a></p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="release-2.2.0-alpha2"><a class="anchor" href="#release-2.2.0-alpha2"></a><strong>Release 2.2.0.Alpha2</strong> <em>(February 16th 2023)</em></h2> <div class="sectionbody"> <div class="paragraph"> <p>See the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&amp;version=12400776">complete list of issues</a>.</p> </div> <div class="sect2"> <h3 id="kafka_compatibility_6"><a class="anchor" href="#kafka_compatibility_6"></a>Kafka compatibility</h3> <div class="paragraph"> <p>This release has been built against Kafka Connect 3.4.0 and has been tested with version 3.4.0 of the Kafka brokers. See the <a href="https://kafka.apache.org/documentation/#upgrade">Kafka documentation</a> for compatibility with other versions of Kafka brokers.</p> </div> </div> <div class="sect2"> <h3 id="upgrading_6"><a class="anchor" href="#upgrading_6"></a>Upgrading</h3> <div class="paragraph"> <p>Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.</p> </div> <div class="paragraph"> <p>When you decide to upgrade one of these connectors to 2.2.0.Alpha2 from any earlier versions, first check the migration notes for the version you&#8217;re using. Gracefully stop the running connector, remove the old plugin files, install the 2.2.0.Alpha2 plugin files, and restart the connector using the same configuration. Upon restart, the 2.2.0.Alpha2 connectors will continue where the previous connector left off. As one might expect, all change events previously written to Kafka by the old connector will not be modified.</p> </div> <div class="paragraph"> <p>If you are using our container images, then please do not forget to pull them fresh from <a href="https://hub.docker.com/u/debezium">DockerHub</a>.</p> </div> </div> <div class="sect2"> <h3 id="breaking_changes_6"><a class="anchor" href="#breaking_changes_6"></a>Breaking changes</h3> <div class="paragraph"> <p>Debezium mapped non-ASCII characters into underscores in topic and schema names. This could lead into conflicts in case of names differing with only non-ASCII characters. Debezium now provides a strategy to map the characters uniquely. As by-product it is no longer possible to use <code>sanitize.field.names</code> config option (<a href="https://issues.redhat.com/browse/DBZ-5743">DBZ-5743</a>).</p> </div> <div class="paragraph"> <p>Debezium Server was extracted from the main repository and is now located and built from its won separate repository. This allowed the build process to include the non-core connectors in the assembly package (<a href="https://issues.redhat.com/browse/DBZ-6049">DBZ-6049</a>).</p> </div> <div class="paragraph"> <p>SSN field from Oracle connector was propagated as <code>INT32</code> in the source info block. This could lead to overflows on certain installations so the field is now propagated as <code>INT64</code> (<a href="https://issues.redhat.com/browse/DBZ-6091">DBZ-6091</a>).</p> </div> </div> <div class="sect2"> <h3 id="new_features_6"><a class="anchor" href="#new_features_6"></a>New features</h3> <div class="ulist"> <ul> <li> <p>Better control on debezium GTID usage <a href="https://issues.redhat.com/browse/DBZ-2296">DBZ-2296</a></p> </li> <li> <p>Adding new option for "ExtractNewRecordState" SMT to exclude unchanged fields <a href="https://issues.redhat.com/browse/DBZ-5283">DBZ-5283</a></p> </li> <li> <p>Reactive implementation of Outbox module <a href="https://issues.redhat.com/browse/DBZ-5758">DBZ-5758</a></p> </li> <li> <p>Debezium MongoDB connector wizard Filter definition page needs work <a href="https://issues.redhat.com/browse/DBZ-5899">DBZ-5899</a></p> </li> <li> <p>Debezium Storage add support for Apache RocketMQ <a href="https://issues.redhat.com/browse/DBZ-5997">DBZ-5997</a></p> </li> <li> <p>debezium-server Pulsar support non-default tenant and namespace <a href="https://issues.redhat.com/browse/DBZ-6033">DBZ-6033</a></p> </li> <li> <p>Add wallTime in mongodb source info <a href="https://issues.redhat.com/browse/DBZ-6038">DBZ-6038</a></p> </li> <li> <p>Vitess: Support Mapping unsigned bigint mysql column type to long <a href="https://issues.redhat.com/browse/DBZ-6043">DBZ-6043</a></p> </li> <li> <p>Increase query.fetch.size default to something sensible above zero <a href="https://issues.redhat.com/browse/DBZ-6079">DBZ-6079</a></p> </li> <li> <p>Expose sequence field in CloudEvents message id <a href="https://issues.redhat.com/browse/DBZ-6089">DBZ-6089</a></p> </li> <li> <p>Reduce verbosity of skipped transactions if transaction has no events relevant to captured tables <a href="https://issues.redhat.com/browse/DBZ-6094">DBZ-6094</a></p> </li> <li> <p>Upgrade Kafka client to 3.4.0 <a href="https://issues.redhat.com/browse/DBZ-6102">DBZ-6102</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="fixes_6"><a class="anchor" href="#fixes_6"></a>Fixes</h3> <div class="ulist"> <ul> <li> <p>Not all connectors are available in debezium server <a href="https://issues.redhat.com/browse/DBZ-4038">DBZ-4038</a></p> </li> <li> <p>Property event.processing.failure.handling.mode is not present in MySQL documentation <a href="https://issues.redhat.com/browse/DBZ-4829">DBZ-4829</a></p> </li> <li> <p>Data type conversion failed for mysql bigint <a href="https://issues.redhat.com/browse/DBZ-5798">DBZ-5798</a></p> </li> <li> <p>ActivateTracingSpan wrong timestamps reported <a href="https://issues.redhat.com/browse/DBZ-5827">DBZ-5827</a></p> </li> <li> <p>Unable to specify column or table include list if name contains a backslash \ <a href="https://issues.redhat.com/browse/DBZ-5917">DBZ-5917</a></p> </li> <li> <p>debezium-connector-cassandra 2.1.0.Alpha2 plugin can no longer run "out of the box" <a href="https://issues.redhat.com/browse/DBZ-5925">DBZ-5925</a></p> </li> <li> <p>MongoDB Incremental Snapshot not Working <a href="https://issues.redhat.com/browse/DBZ-5973">DBZ-5973</a></p> </li> <li> <p>Nullable columns marked with "optional: false" in DDL events <a href="https://issues.redhat.com/browse/DBZ-6003">DBZ-6003</a></p> </li> <li> <p>Vitess: Handle the shard list difference between current db shards and persisted shards <a href="https://issues.redhat.com/browse/DBZ-6011">DBZ-6011</a></p> </li> <li> <p>DDL statement with TokuDB engine specific "CLUSTERING KEY" couldn&#8217;t be parsed <a href="https://issues.redhat.com/browse/DBZ-6016">DBZ-6016</a></p> </li> <li> <p>DDL parse fail for role revoke with "user-like" role name <a href="https://issues.redhat.com/browse/DBZ-6019">DBZ-6019</a></p> </li> <li> <p>DDL parse fail for ALTER USER x DEFAULT ROLE y; <a href="https://issues.redhat.com/browse/DBZ-6020">DBZ-6020</a></p> </li> <li> <p>Offsets are not flushed on connect offsets topic when encountering an error on Postgres connector <a href="https://issues.redhat.com/browse/DBZ-6026">DBZ-6026</a></p> </li> <li> <p>Unexpected format for TIME column: 8:00 <a href="https://issues.redhat.com/browse/DBZ-6029">DBZ-6029</a></p> </li> <li> <p>Oracle does not support compression/logging clauses after an LOB storage clause <a href="https://issues.redhat.com/browse/DBZ-6031">DBZ-6031</a></p> </li> <li> <p>Debezium is logging the full message along with the error <a href="https://issues.redhat.com/browse/DBZ-6037">DBZ-6037</a></p> </li> <li> <p>Improve resilience during internal schema history recovery from Kafka <a href="https://issues.redhat.com/browse/DBZ-6039">DBZ-6039</a></p> </li> <li> <p>Incremental snapshot sends the events from signalling DB to Kafka <a href="https://issues.redhat.com/browse/DBZ-6051">DBZ-6051</a></p> </li> <li> <p>Mask password in log statement <a href="https://issues.redhat.com/browse/DBZ-6064">DBZ-6064</a></p> </li> <li> <p>Loading Custom offset storage fails with Class not found error <a href="https://issues.redhat.com/browse/DBZ-6075">DBZ-6075</a></p> </li> <li> <p>SQL Server tasks fail if the number of databases is smaller than maxTasks <a href="https://issues.redhat.com/browse/DBZ-6084">DBZ-6084</a></p> </li> <li> <p>When using LOB support, an UPDATE against multiple rows can lead to inconsistent event data <a href="https://issues.redhat.com/browse/DBZ-6107">DBZ-6107</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="other_changes_6"><a class="anchor" href="#other_changes_6"></a>Other changes</h3> <div class="ulist"> <ul> <li> <p>System test-suite ability to prepare OCP environment <a href="https://issues.redhat.com/browse/DBZ-3832">DBZ-3832</a></p> </li> <li> <p>TransactionMetadataIT is unstable for Db2 <a href="https://issues.redhat.com/browse/DBZ-5149">DBZ-5149</a></p> </li> <li> <p>Update Java Outreach job to use Java 20 <a href="https://issues.redhat.com/browse/DBZ-5825">DBZ-5825</a></p> </li> <li> <p>Upgrade to Quarkus 2.16.0.Final <a href="https://issues.redhat.com/browse/DBZ-6005">DBZ-6005</a></p> </li> <li> <p>Prepare MongoDB ExtractNewDocumentState SMT doc for downstream GA <a href="https://issues.redhat.com/browse/DBZ-6006">DBZ-6006</a></p> </li> <li> <p>SQL Server IncrementalSnapshotWithRecompileIT fails randomly <a href="https://issues.redhat.com/browse/DBZ-6035">DBZ-6035</a></p> </li> <li> <p>Remove the redundant "schema.history.internal" from MySqlConnectorConfig <a href="https://issues.redhat.com/browse/DBZ-6040">DBZ-6040</a></p> </li> <li> <p>Broken links on FAQ <a href="https://issues.redhat.com/browse/DBZ-6042">DBZ-6042</a></p> </li> <li> <p>Upgrade Kafka to 3.3.2 <a href="https://issues.redhat.com/browse/DBZ-6054">DBZ-6054</a></p> </li> <li> <p>Upgrade netty version in Pravega to 4.1.86.Final <a href="https://issues.redhat.com/browse/DBZ-6057">DBZ-6057</a></p> </li> <li> <p>Return back the driver class option for MySQL connector <a href="https://issues.redhat.com/browse/DBZ-6059">DBZ-6059</a></p> </li> <li> <p>Invalid links breaking downstream documentation build <a href="https://issues.redhat.com/browse/DBZ-6069">DBZ-6069</a></p> </li> <li> <p>Request SA for UMB <a href="https://issues.redhat.com/browse/DBZ-6077">DBZ-6077</a></p> </li> <li> <p>Create certificates for Jenkins for UMB <a href="https://issues.redhat.com/browse/DBZ-6078">DBZ-6078</a></p> </li> <li> <p>Request access to cpass UMB topic <a href="https://issues.redhat.com/browse/DBZ-6080">DBZ-6080</a></p> </li> <li> <p>Broken debezium-server source file link on docs page <a href="https://issues.redhat.com/browse/DBZ-6111">DBZ-6111</a></p> </li> </ul> </div> </div> </div> </div> <div class="sect1"> <h2 id="release-2.2.0-alpha1"><a class="anchor" href="#release-2.2.0-alpha1"></a><strong>Release 2.2.0.Alpha1</strong> <em>(January 19th 2023)</em></h2> <div class="sectionbody"> <div class="paragraph"> <p>See the <a href="https://issues.redhat.com/secure/ReleaseNote.jspa?projectId=12317320&amp;version=12400295">complete list of issues</a>.</p> </div> <div class="sect2"> <h3 id="kafka_compatibility_7"><a class="anchor" href="#kafka_compatibility_7"></a>Kafka compatibility</h3> <div class="paragraph"> <p>This release has been built against Kafka Connect 3.3.1 and has been tested with version 3.3.1 of the Kafka brokers. See the <a href="https://kafka.apache.org/documentation/#upgrade">Kafka documentation</a> for compatibility with other versions of Kafka brokers.</p> </div> </div> <div class="sect2"> <h3 id="upgrading_7"><a class="anchor" href="#upgrading_7"></a>Upgrading</h3> <div class="paragraph"> <p>Before upgrading any connector, be sure to check the backward-incompatible changes that have been made since the release you were using.</p> </div> <div class="paragraph"> <p>When you decide to upgrade one of these connectors to 2.2.0.Alpha1 from any earlier versions, first check the migration notes for the version you&#8217;re using. Gracefully stop the running connector, remove the old plugin files, install the 2.2.0.Alpha1 plugin files, and restart the connector using the same configuration. Upon restart, the 2.2.0.Alpha1 connectors will continue where the previous connector left off. As one might expect, all change events previously written to Kafka by the old connector will not be modified.</p> </div> <div class="paragraph"> <p>If you are using our container images, then please do not forget to pull them fresh from <a href="https://hub.docker.com/u/debezium">DockerHub</a>.</p> </div> </div> <div class="sect2"> <h3 id="breaking_changes_7"><a class="anchor" href="#breaking_changes_7"></a>Breaking changes</h3> <div class="paragraph"> <p><code>ZonedTimestamp</code> strings were sent with fractional second trailing zeroes removed. Current behaviour is to provide the trailing zeroes padded to the length/scale of the source column (<a href="https://issues.redhat.com/browse/DBZ-5996">DBZ-5996</a>).</p> </div> </div> <div class="sect2"> <h3 id="new_features_7"><a class="anchor" href="#new_features_7"></a>New features</h3> <div class="ulist"> <ul> <li> <p>Remove redundant modifiers of members for interface fields <a href="https://issues.redhat.com/browse/DBZ-2439">DBZ-2439</a></p> </li> <li> <p>Allow reading from read-only Oracle standby disaster/recovery <a href="https://issues.redhat.com/browse/DBZ-3866">DBZ-3866</a></p> </li> <li> <p>Remove option for specifying driver class from MySQL Connector <a href="https://issues.redhat.com/browse/DBZ-4663">DBZ-4663</a></p> </li> <li> <p>Support S3 bucket as Dezbium history store <a href="https://issues.redhat.com/browse/DBZ-5402">DBZ-5402</a></p> </li> <li> <p>Update the DBZ-UI documentation page to incorporate the recently added "Custom properties" step details <a href="https://issues.redhat.com/browse/DBZ-5878">DBZ-5878</a></p> </li> <li> <p>Support retrying database connection failures during connector start <a href="https://issues.redhat.com/browse/DBZ-5879">DBZ-5879</a></p> </li> <li> <p>Add support for Connect Headers to Debezium Server <a href="https://issues.redhat.com/browse/DBZ-5926">DBZ-5926</a></p> </li> <li> <p>Sink adapter for Apache RocketMQ <a href="https://issues.redhat.com/browse/DBZ-5962">DBZ-5962</a></p> </li> <li> <p>Sink adapter for Infinispan <a href="https://issues.redhat.com/browse/DBZ-5986">DBZ-5986</a></p> </li> <li> <p>Add custom Debezium banner to Debezium Server <a href="https://issues.redhat.com/browse/DBZ-6004">DBZ-6004</a></p> </li> <li> <p>Postgres LSN check should honor event.processing.failure.handling.mode <a href="https://issues.redhat.com/browse/DBZ-6012">DBZ-6012</a></p> </li> <li> <p>Enhance the Spanner connector by adding features and/or solving bugs <a href="https://issues.redhat.com/browse/DBZ-6014">DBZ-6014</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="fixes_7"><a class="anchor" href="#fixes_7"></a>Fixes</h3> <div class="ulist"> <ul> <li> <p>Debezium is not working with apicurio and custom truststores <a href="https://issues.redhat.com/browse/DBZ-5282">DBZ-5282</a></p> </li> <li> <p>Show/Hide password does not work on Connectors View details screen <a href="https://issues.redhat.com/browse/DBZ-5322">DBZ-5322</a></p> </li> <li> <p>Snapshotter#snapshotCompleted is invoked regardless of snapshot result <a href="https://issues.redhat.com/browse/DBZ-5852">DBZ-5852</a></p> </li> <li> <p>Oracle cannot undo change <a href="https://issues.redhat.com/browse/DBZ-5907">DBZ-5907</a></p> </li> <li> <p>Postgresql Data Loss on restarts <a href="https://issues.redhat.com/browse/DBZ-5915">DBZ-5915</a></p> </li> <li> <p>Oracle Multithreading lost data <a href="https://issues.redhat.com/browse/DBZ-5945">DBZ-5945</a></p> </li> <li> <p>Spanner connector is missing JSR-310 dependency <a href="https://issues.redhat.com/browse/DBZ-5959">DBZ-5959</a></p> </li> <li> <p>Truncate records incompatible with ExtractNewRecordState <a href="https://issues.redhat.com/browse/DBZ-5966">DBZ-5966</a></p> </li> <li> <p>Computed partition must not be negative <a href="https://issues.redhat.com/browse/DBZ-5967">DBZ-5967</a></p> </li> <li> <p>Stream tag images are not published <a href="https://issues.redhat.com/browse/DBZ-5979">DBZ-5979</a></p> </li> <li> <p>Table size log message for snapshot.select.statement.overrides tables not correct <a href="https://issues.redhat.com/browse/DBZ-5985">DBZ-5985</a></p> </li> <li> <p>NPE in execute snapshot signal with exclude.tables config on giving wrong table name <a href="https://issues.redhat.com/browse/DBZ-5988">DBZ-5988</a></p> </li> <li> <p>There is a problem with postgresql connector parsing the boundary value of money type <a href="https://issues.redhat.com/browse/DBZ-5991">DBZ-5991</a></p> </li> <li> <p>Log statement for unparseable DDL statement in MySqlDatabaseSchema contains placeholder <a href="https://issues.redhat.com/browse/DBZ-5993">DBZ-5993</a></p> </li> <li> <p>Synchronize all actions with core CI &amp; fix GitHub Actions set-output command <a href="https://issues.redhat.com/browse/DBZ-5998">DBZ-5998</a></p> </li> <li> <p>Postgresql connector parses the null of the money type into 0 <a href="https://issues.redhat.com/browse/DBZ-6001">DBZ-6001</a></p> </li> <li> <p>Run PostgresConnectorIT.shouldReceiveChangesForChangeColumnDefault() failed <a href="https://issues.redhat.com/browse/DBZ-6002">DBZ-6002</a></p> </li> </ul> </div> </div> <div class="sect2"> <h3 id="other_changes_7"><a class="anchor" href="#other_changes_7"></a>Other changes</h3> <div class="ulist"> <ul> <li> <p>Plug-in version information duplicated <a href="https://issues.redhat.com/browse/DBZ-4669">DBZ-4669</a></p> </li> <li> <p>Move common code in Cassandra connector core module <a href="https://issues.redhat.com/browse/DBZ-5950">DBZ-5950</a></p> </li> <li> <p>website-builder image cannot be built <a href="https://issues.redhat.com/browse/DBZ-5971">DBZ-5971</a></p> </li> <li> <p>Zookeeper 3.6.3 available only on archive <a href="https://issues.redhat.com/browse/DBZ-5972">DBZ-5972</a></p> </li> <li> <p>Jenkins pipelines don&#8217;t provide information about FAILURE status <a href="https://issues.redhat.com/browse/DBZ-5974">DBZ-5974</a></p> </li> <li> <p>Remove incubating documentation text for MongoDB ExtractNewDocumentState SMT <a href="https://issues.redhat.com/browse/DBZ-5975">DBZ-5975</a></p> </li> <li> <p>Use replace rather than replaceAll <a href="https://issues.redhat.com/browse/DBZ-5976">DBZ-5976</a></p> </li> <li> <p>Upgrade Apicurio to 2.4.1.Final <a href="https://issues.redhat.com/browse/DBZ-5977">DBZ-5977</a></p> </li> <li> <p>Upgrade JDBC driver to 42.5.1 <a href="https://issues.redhat.com/browse/DBZ-5980">DBZ-5980</a></p> </li> <li> <p>Update TestContainers to 1.17.6 <a href="https://issues.redhat.com/browse/DBZ-5990">DBZ-5990</a></p> </li> <li> <p>Align pipeline tests with new connector pipelines <a href="https://issues.redhat.com/browse/DBZ-5999">DBZ-5999</a></p> </li> <li> <p>Db2 incremental snapshot test execution is blocked <a href="https://issues.redhat.com/browse/DBZ-6008">DBZ-6008</a></p> </li> </ul> </div> </div> </div> </div> </div> </div> </div> <footer class="container"> <div> <div class="row mr-0 ml-0"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2024 Debezium Community <br/> <br/> <i class="icon-fire"></i> Mixed with <a href="https://getbootstrap.com/">Bootstrap</a>, baked by <a href="https://jekyllrb.com/">Jekyll</a>. <br/> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br/> <i class="icon-flag-alt"></i> Code released under <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br/> <i class="icon-file-alt"></i> <a href="https://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="https://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> <p>Rev: <a target="_blank" href="https://github.com/debezium/debezium.github.io/commit/ea127a02b034c7515e2aed251889b89ab2588e33">ea127a0</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li><a href="/documentation/reference/stable/features.html" title="Features">Features</a></li> <li> <a href="/documentation/reference/stable/install.html" title="Install">Install</a> </li> <li> <a href="/documentation/reference/stable/architecture.html" title="Architecture">Architecture</a> </li> <li><a href="/documentation/faq/" title="FAQ">FAQ</a></li> <li> <a href="/community/contribute/" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li><a href="/blog" title="Blog">Blog</a></li> <li> <a href="https://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li><a href="https://github.com/debezium" title="GitHub">GitHub</a></li> <li><a href="https://debezium.zulipchat.com/#narrow/stream/302529-users" title="Chat">Chat</a></li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="https://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <a href="https://www.redhat.com/"> <img src="/assets/images/Logo-Red_Hat-Sponsored_By-B-Standard-RGB.svg"/> </a> </div> </div> </div> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76464546-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-76464546-1");</script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> <script type="text/javascript" src="/assets/javascript/vanilla-back-to-top.min.js"></script> <script type="text/javascript" src="/assets/javascript/highlight.min.js"></script> <script>addBackToTop({scrollDuration:400}),hljs.initHighlightingOnLoad();</script> </body> </html>