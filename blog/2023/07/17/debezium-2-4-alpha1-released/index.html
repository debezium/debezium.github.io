<!DOCTYPE html> <html> <head> <title>Debezium 2.4.0.Alpha1 Released</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta content="Debezium" property="og:site_name"> <meta content="Debezium 2.4.0.Alpha1 Released" property="og:title"> <meta content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png" property="og:image" name="image"> <meta property="og:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta property="og:url" content="https://debezium.io/blog/2023/07/17/debezium-2-4-alpha1-released/"> <meta name="twitter:site" content="@debezium"> <meta name="twitter:title" content="Debezium 2.4.0.Alpha1 Released"> <meta name="twitter:creator" content="@ccranfor"> <meta name="twitter:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png"> <meta property="twitter:url" content="https://debezium.io/blog/2023/07/17/debezium-2-4-alpha1-released/"> <link rel="alternate" type="application/rss+xml" title="Debezium Blog" href="/blog.atom"> <link rel="shortcut icon" type="image/png" href="/favicon.ico"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css"/> <link rel="stylesheet" href="/assets/css/custom.css"/> <link rel="stylesheet" href="/assets/css/highlight.min.css"/> <link rel="stylesheet" href="/assets/css/coderay.css"/> </head> <body class="post"> <div id="rhbar"> <a class="jbdevlogo" href="https://developers.redhat.com"></a> <a class="rhlogo" href="https://www.redhat.com/"></a> </div> <div id> <div class="container" id="content"> <nav class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed border-0" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"><img class="project-logo" src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 5px; margin-top: -5px;"></a> </div> <div class="collapse navbar-collapse collapsed" id="navigation"> <ul class="nav navbar-nav pull-right"> <li> <a href="/documentation/faq" class="">FAQ</a> </li> <li class="item"> <a href="/documentation/" class="">Documentation</a> </li> <li> <a href="/releases/" class="">Releases</a> </li> <li> <a href="/community/" class="">Community</a> </li> <li class="active"> <a href="/blog/" class="active">Blog</a> </li> </ul> </div> </div> </nav> <div class="row post-text-padding row-no-expand"> <div class="col-md-3"><div id="leftdocnav"> <div class="hidden-lg hidden-md hidden-sm"> <button class="navbar-toggle docssubmenu-toggle collapsed" data-target="#docssubmenu" data-toggle="collapse" style=" float: none; background-color: #656565; border-color: #656565; width: 100%; color: #fff; "> Navigation Menu </button> </div> <div class="collapse" id="docssubmenu"> <div class="doc-pills"> <ul class="nav nav-pills nav-stacked"> <li class="item"> <a href="/blog">Home</a> <div class="icon"><span class="icon-home"></span></div> </li> <li class="item"> <a href="/archives">Archive</a> <div class="icon"><span class="icon-arrow-down"></span></div> </li> <li class="item"> <a href="/blog.atom">Feed</a> <div class="icon"><span class="icon-rss"></span></div> </li> </ul> </div> <p></p> <div class="featured-posts"> <div id="#featured" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;">Featured Posts</div> <ul style="padding-inline-start: 22px;"> <li style="margin-bottom: 3px;"> <a href="/blog/2024/07/08/async-embedded-engine/" style="font-size: 95%;"> Debezium asynchronous engine </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2024/01/11/Debezium-and-TimescaleDB/" style="font-size: 95%;"> Debezium and TimescaleDB </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/12/20/JDBC-sink-connector-batch-support/" style="font-size: 95%;"> Streamlined Performance: Debezium JDBC connector batch support </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/10/19/Debezium-Operator-Takes-off-to-the-Clouds/" style="font-size: 95%;"> Debezium Operator Takes off to the Clouds </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/10/05/Debezium-JMX-signaling-and-notifications/" style="font-size: 95%;"> Debezium signaling and notifications - Part 3: JMX channel </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/09/23/flink-spark-online-learning/" style="font-size: 95%;"> Online machine learning with the data streams from the database </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/07/10/custom-http-signaling-notification/" style="font-size: 95%;"> Debezium signaling and notifications - Part 2: Customisation </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/06/27/Debezium-signaling-and-notifications/" style="font-size: 95%;"> Debezium signaling and notifications - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/05/02/tensorflow-mnist-classification/" style="font-size: 95%;"> Image classification with Debezium and TensorFlow </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/11/04/streaming-vitess-at-bolt/" style="font-size: 95%;"> Streaming Vitess at Bolt </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/02/10/event-sourcing-vs-cdc/" style="font-size: 95%;"> Distributed Data for Microservices — Event Sourcing vs. Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/10/01/audit-logs-with-change-data-capture-and-stream-processing/" style="font-size: 95%;"> Building Audit Logs with Change Data Capture and Stream Processing </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/07/12/streaming-cassandra-at-wepay-part-1/" style="font-size: 95%;"> Streaming Cassandra at WePay - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/" style="font-size: 95%;"> Reliable Microservices Data Exchange With the Outbox Pattern </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/12/05/automating-cache-invalidation-with-change-data-capture/" style="font-size: 95%;"> Automating Cache Invalidation With Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/09/20/materializing-aggregate-views-with-hibernate-and-debezium/" style="font-size: 95%;"> Materializing Aggregate Views With Hibernate and Debezium </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/07/19/advantages-of-log-based-change-data-capture/" style="font-size: 95%;"> Five Advantages of Log-Based Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/03/08/creating-ddd-aggregates-with-debezium-and-kafka-streams/" style="font-size: 95%;"> Creating DDD aggregates with Debezium and Kafka Streams </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/01/17/streaming-to-elasticsearch/" style="font-size: 95%;"> Streaming Data Changes from Your Database to Elasticsearch </a> </li> </ul> </div> <p></p> <p></p> <div class="cloud-tags"> <div id="tags" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;"> Tags </div> <div class="tag-cloud"> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 82%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 96%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apicurio/" style="font-size: 82%"> apicurio </a> </span> <span class="site-tag"> <a href="/tag/avro/" style="font-size: 84%"> avro </a> </span> <span class="site-tag"> <a href="/tag/aws/" style="font-size: 82%"> aws </a> </span> <span class="site-tag"> <a href="/tag/batch/" style="font-size: 82%"> batch </a> </span> <span class="site-tag"> <a href="/tag/caassandra/" style="font-size: 86%"> caassandra </a> </span> <span class="site-tag"> <a href="/tag/camel/" style="font-size: 82%"> camel </a> </span> <span class="site-tag"> <a href="/tag/cassandra/" style="font-size: 298%"> cassandra </a> </span> <span class="site-tag"> <a href="/tag/cdc/" style="font-size: 82%"> cdc </a> </span> <span class="site-tag"> <a href="/tag/channels/" style="font-size: 82%"> channels </a> </span> <span class="site-tag"> <a href="/tag/community/" style="font-size: 124%"> community </a> </span> <span class="site-tag"> <a href="/tag/community-stories/" style="font-size: 84%"> community stories </a> </span> <span class="site-tag"> <a href="/tag/connectors/" style="font-size: 82%"> connectors </a> </span> <span class="site-tag"> <a href="/tag/containers/" style="font-size: 82%"> containers </a> </span> <span class="site-tag"> <a href="/tag/cqrs/" style="font-size: 84%"> cqrs </a> </span> <span class="site-tag"> <a href="/tag/custom/" style="font-size: 82%"> custom </a> </span> <span class="site-tag"> <a href="/tag/datalake/" style="font-size: 82%"> datalake </a> </span> <span class="site-tag"> <a href="/tag/db2/" style="font-size: 282%"> db2 </a> </span> <span class="site-tag"> <a href="/tag/ddd/" style="font-size: 82%"> ddd </a> </span> <span class="site-tag"> <a href="/tag/debezium/" style="font-size: 106%"> debezium </a> </span> <span class="site-tag"> <a href="/tag/debezium-server/" style="font-size: 94%"> debezium server </a> </span> <span class="site-tag"> <a href="/tag/debezium-ui/" style="font-size: 90%"> debezium ui </a> </span> <span class="site-tag"> <a href="/tag/deduplication/" style="font-size: 82%"> deduplication </a> </span> <span class="site-tag"> <a href="/tag/discussion/" style="font-size: 114%"> discussion </a> </span> <span class="site-tag"> <a href="/tag/docker/" style="font-size: 186%"> docker </a> </span> <span class="site-tag"> <a href="/tag/elasticsearch/" style="font-size: 82%"> elasticsearch </a> </span> <span class="site-tag"> <a href="/tag/event-sourcing/" style="font-size: 82%"> event sourcing </a> </span> <span class="site-tag"> <a href="/tag/exactly-once-semantics/" style="font-size: 82%"> exactly once semantics </a> </span> <span class="site-tag"> <a href="/tag/example/" style="font-size: 88%"> example </a> </span> <span class="site-tag"> <a href="/tag/examples/" style="font-size: 118%"> examples </a> </span> <span class="site-tag"> <a href="/tag/features/" style="font-size: 94%"> features </a> </span> <span class="site-tag"> <a href="/tag/fedora/" style="font-size: 82%"> fedora </a> </span> <span class="site-tag"> <a href="/tag/flink/" style="font-size: 84%"> flink </a> </span> <span class="site-tag"> <a href="/tag/hiring/" style="font-size: 84%"> hiring </a> </span> <span class="site-tag"> <a href="/tag/ibmi/" style="font-size: 106%"> ibmi </a> </span> <span class="site-tag"> <a href="/tag/iceberg/" style="font-size: 82%"> iceberg </a> </span> <span class="site-tag"> <a href="/tag/informix/" style="font-size: 116%"> informix </a> </span> <span class="site-tag"> <a href="/tag/integration/" style="font-size: 86%"> integration </a> </span> <span class="site-tag"> <a href="/tag/introduction/" style="font-size: 84%"> introduction </a> </span> <span class="site-tag"> <a href="/tag/jaeger/" style="font-size: 82%"> jaeger </a> </span> <span class="site-tag"> <a href="/tag/jdbc/" style="font-size: 118%"> jdbc </a> </span> <span class="site-tag"> <a href="/tag/json/" style="font-size: 82%"> json </a> </span> <span class="site-tag"> <a href="/tag/kafka/" style="font-size: 94%"> kafka </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 82%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 86%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kogito/" style="font-size: 82%"> kogito </a> </span> <span class="site-tag"> <a href="/tag/ksql/" style="font-size: 82%"> ksql </a> </span> <span class="site-tag"> <a href="/tag/kubernetes/" style="font-size: 86%"> kubernetes </a> </span> <span class="site-tag"> <a href="/tag/lakehouse/" style="font-size: 82%"> lakehouse </a> </span> <span class="site-tag"> <a href="/tag/machine-learning/" style="font-size: 86%"> machine learning </a> </span> <span class="site-tag"> <a href="/tag/mariadb/" style="font-size: 114%"> mariadb </a> </span> <span class="site-tag"> <a href="/tag/microservices/" style="font-size: 84%"> microservices </a> </span> <span class="site-tag"> <a href="/tag/mongo/" style="font-size: 86%"> mongo </a> </span> <span class="site-tag"> <a href="/tag/mongodb/" style="font-size: 300%"> mongodb </a> </span> <span class="site-tag"> <a href="/tag/mysql/" style="font-size: 436%"> mysql </a> </span> <span class="site-tag"> <a href="/tag/news/" style="font-size: 112%"> news </a> </span> <span class="site-tag"> <a href="/tag/newsletter/" style="font-size: 88%"> newsletter </a> </span> <span class="site-tag"> <a href="/tag/notifications/" style="font-size: 86%"> notifications </a> </span> <span class="site-tag"> <a href="/tag/online-learning/" style="font-size: 84%"> online learning </a> </span> <span class="site-tag"> <a href="/tag/operator/" style="font-size: 84%"> operator </a> </span> <span class="site-tag"> <a href="/tag/oracle/" style="font-size: 332%"> oracle </a> </span> <span class="site-tag"> <a href="/tag/outbox/" style="font-size: 270%"> outbox </a> </span> <span class="site-tag"> <a href="/tag/performance/" style="font-size: 82%"> performance </a> </span> <span class="site-tag"> <a href="/tag/postgres/" style="font-size: 406%"> postgres </a> </span> <span class="site-tag"> <a href="/tag/presentation/" style="font-size: 84%"> presentation </a> </span> <span class="site-tag"> <a href="/tag/production/" style="font-size: 82%"> production </a> </span> <span class="site-tag"> <a href="/tag/quarkus/" style="font-size: 92%"> quarkus </a> </span> <span class="site-tag"> <a href="/tag/questdb/" style="font-size: 82%"> questdb </a> </span> <span class="site-tag"> <a href="/tag/rds/" style="font-size: 84%"> rds </a> </span> <span class="site-tag"> <a href="/tag/releases/" style="font-size: 418%"> releases </a> </span> <span class="site-tag"> <a href="/tag/schema/" style="font-size: 82%"> schema </a> </span> <span class="site-tag"> <a href="/tag/scylla/" style="font-size: 82%"> scylla </a> </span> <span class="site-tag"> <a href="/tag/secrets/" style="font-size: 82%"> secrets </a> </span> <span class="site-tag"> <a href="/tag/sentry/" style="font-size: 82%"> sentry </a> </span> <span class="site-tag"> <a href="/tag/serialization/" style="font-size: 82%"> serialization </a> </span> <span class="site-tag"> <a href="/tag/signaling/" style="font-size: 86%"> signaling </a> </span> <span class="site-tag"> <a href="/tag/smt/" style="font-size: 84%"> smt </a> </span> <span class="site-tag"> <a href="/tag/snapshots/" style="font-size: 84%"> snapshots </a> </span> <span class="site-tag"> <a href="/tag/spanner/" style="font-size: 158%"> spanner </a> </span> <span class="site-tag"> <a href="/tag/spark/" style="font-size: 84%"> spark </a> </span> <span class="site-tag"> <a href="/tag/sql/" style="font-size: 84%"> sql </a> </span> <span class="site-tag"> <a href="/tag/sqlserver/" style="font-size: 346%"> sqlserver </a> </span> <span class="site-tag"> <a href="/tag/tensorflow/" style="font-size: 82%"> tensorflow </a> </span> <span class="site-tag"> <a href="/tag/testcontainers/" style="font-size: 88%"> testcontainers </a> </span> <span class="site-tag"> <a href="/tag/tests/" style="font-size: 82%"> tests </a> </span> <span class="site-tag"> <a href="/tag/time-series/" style="font-size: 82%"> time series </a> </span> <span class="site-tag"> <a href="/tag/timescaledb/" style="font-size: 82%"> timescaledb </a> </span> <span class="site-tag"> <a href="/tag/topics/" style="font-size: 82%"> topics </a> </span> <span class="site-tag"> <a href="/tag/tracing/" style="font-size: 82%"> tracing </a> </span> <span class="site-tag"> <a href="/tag/transactions/" style="font-size: 82%"> transactions </a> </span> <span class="site-tag"> <a href="/tag/ui/" style="font-size: 82%"> ui </a> </span> <span class="site-tag"> <a href="/tag/vagrant/" style="font-size: 82%"> vagrant </a> </span> <span class="site-tag"> <a href="/tag/vitess/" style="font-size: 262%"> vitess </a> </span> <span class="site-tag"> <a href="/tag/website/" style="font-size: 84%"> website </a> </span> </div> </div> </div> </div> </div> <div class="col-md-9"> <div class="post"> <div class="row" style="margin-left: 0; margin-right: 0; margin-bottom: 10px"> <div class="col-sm-12" style="padding-left: 0px"> <div style="display: table-cell; vertical-align: top"> <div style=" width: 72px; border: 1px solid #ccc; padding: 3px; display: inline-block; "> <img src="/assets/images/ccranfor.jpg" style="width: 64px;"> </div> </div> <div style="display: table-cell; vertical-align: top"> <div style="margin-left: 8px"> <span class="hidden-sm hidden-xs" style="font-size: 2.75rem; line-height: 1"> <a href="/blog/2023/07/17/debezium-2-4-alpha1-released/">Debezium 2.4.0.Alpha1 Released</a> </span> <span class="hidden-md hidden-lg" style="font-size: 2rem; line-height: 1"> <a href="/blog/2023/07/17/debezium-2-4-alpha1-released/">Debezium 2.4.0.Alpha1 Released</a> </span> <div class="byline" style="line-height: 1"> <em> July 17, 2023 by </em> <em> Chris Cranford </em> <div class="hidden-xs" style="margin-top: 5px"> <a class="label label-info hidden-sm hidden-xs" href="/tag/releases/">releases</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mongodb/">mongodb</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mysql/">mysql</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/postgres/">postgres</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/sqlserver/">sqlserver</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/cassandra/">cassandra</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/oracle/">oracle</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/db2/">db2</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/vitess/">vitess</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/outbox/">outbox</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/spanner/">spanner</a> </div> </div> </div> </div> </div> </div> <div class="grid__item width-12-12"><div class="paragraph"> <p>It&#8217;s been a busy month in Debezium-land, and it&#8217;s my pleasure to announce the first release of Debezium 2.4 series, <strong>2.4.0.Alpha1</strong>.</p> </div> <div class="paragraph"> <p>This release includes a plethora of changes, <a href="https://issues.redhat.com/issues/?jql=project%20%3D%20DBZ%20AND%20fixVersion%20%3D%202.4.0.Alpha1">59 changes</a> to be exact, that cover a wide range of resolved issues, improvement to stability, new features, and several breaking changes. Let&#8217;s dive into each of these and discuss them in more depth.</p> </div> <div class="paragraph"> <p><!- more --></p> </div> <div class="ulist"> <ul> <li> <p><a href="#breaking-changes">Breaking changes</a></p> </li> <li> <p><a href="#new-features">New features</a></p> </li> <li> <p><a href="#other-changes">Other changes</a></p> </li> </ul> </div> <div class="sect1"> <h2 id="breaking-changes">Breaking changes</h2> <div class="sectionbody"> <div class="sect3"> <h4 id="mongodb">MongoDB</h4> <div class="paragraph"> <p>The MongoDB connector explicitly preferred to use the secondary under specific scenarios previously. This explicit usage created problems for users who wanted to connect to the primary node. Thanks to recent changes (<a href="https://issues.redhat.com/browse/DBZ-6521">DBZ-6521</a>), this is no longer the case and the connection string setting is used instead.</p> </div> </div> <div class="sect3"> <h4 id="vitess">Vitess</h4> <div class="paragraph"> <p>The Vitess connector&#8217;s change event structure has been slightly adjusted thanks to changes (<a href="https://issues.redhat.com/browse/DBZ-6617">DBZ-6617</a>). The change event&#8217;s <code>source</code> information block now includes a new field that identifies the shard the event originated from.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="new-features">New Features</h2> <div class="sectionbody"> <div class="sect3"> <h4 id="offset_editor_example">Offset editor example</h4> <div class="paragraph"> <p>Users often express the need to manipulate connector offsets for various reasons. This can often be very difficult for those who may not be familiar with Kafka&#8217;s CLI tools or Java if you use Debezium Server. Thanks to a contribution (<a href="https://issues.redhat.com/browse/DBZ-6338">DBZ-6338</a>) by Nathan Smit, you can now use an editor to manipulate the offsets from the command line or a web-based interface.</p> </div> <div class="paragraph"> <p>Head to our <a href="https://github.com/debezium/debezium-examples/tree/main/offset-editor">examples repository</a> and follow the <code>README.md</code> to get started.</p> </div> </div> <div class="sect3"> <h4 id="error_handling">Error handling</h4> <div class="paragraph"> <p>Some Debezium connectors previously used a connector property, <code>errors.max.retries</code>. This property controlled how often a Debezium connector failure exception would be explicitly wrapped in a <code>RetriableException</code> but the connector threw the raw exception up to the runtime. While this may sound similar to Kafka Connect&#8217;s <code>errors.retry.timeout</code>, this effectively gave users a common way to deal with retries across multiple Debezium runtimes, including Kafka Connect, Debezium Server, and Debezium Embedded.</p> </div> <div class="paragraph"> <p>With this release, <a href="https://issues.redhat.com/browse/DBZ-6573">DBZ-6573</a> unifies this behavior making it available to all connectors.</p> </div> </div> <div class="sect3"> <h4 id="notify_initial_snapshot_progress">Notify initial snapshot progress</h4> <div class="paragraph"> <p>Debezium&#8217;s new notification subsystem provides an easy way to integrate third-party tools and applications with Debezium to gain insight into the ongoing change data capture process, above and beyond the traditional JMX approach. In 2.4, the notification subsystem now includes the ability to notify you about the status of the ongoing initial snapshot (<a href="https://issues.redhat.com/browse?DBZ-6416">DBZ-6416</a>).</p> </div> <div class="paragraph"> <p>Initial snapshot notifications are emitted with an <code>aggregatetType</code> of <code>Initial Snapshot</code> and contain a <code>type</code> field that exposes the current status of the snapshot. The possible values include: <code>STARTED</code>, <code>ABORTED</code>, <code>PAUSED</code>, <code>RESUMED</code>, <code>IN_PROGRESS</code>, <code>TABLE_SCAN_COMPLETED</code>, and <code>COMPLETED</code>.</p> </div> </div> <div class="sect3"> <h4 id="mysql_improvements">MySQL improvements</h4> <div class="paragraph"> <p>Thanks to a contribution provided by Harvey Yue (<a href="https://issues.redhat.com/browse/DBZ-6472">DBZ-6472</a>), the MySQL connector will use parallelization to generate schema events during its snapshot phase. This should improve the overall performance when capturing the schema for many tables in your database. We plan to investigate how this can be extended to other relational connectors.</p> </div> </div> <div class="sect3"> <h4 id="mongodb_improvements">MongoDB improvements</h4> <div class="paragraph"> <p>The MongoDB connector continues to see lots of active development. This release introduces several new features specifically for MongoDB, which include:</p> </div> <div class="ulist"> <ul> <li> <p>Cluster-wide privileges are no longer necessary when watching a single database or collection (<a href="https://issues.redhat.com/browse/DBZ-6182">DBZ-6182</a>).</p> </li> <li> <p>Read preference taken from connection string (<a href="https://issues.redhat.com/browse/DBZ-6468">DBZ-6468</a>, <a href="https://issues.redhat.com/browse/DBZ-6578">DBZ-6578</a>).</p> </li> <li> <p>Support authentication with TC MongoDB deployments (<a href="https://issues.redhat.com/browse/DBZ-6596">DBZ-6596</a>).</p> </li> </ul> </div> <div class="paragraph"> <p>As we continue to make further improvements to the MongoDB connector, please let us know if there are still rough edges or enhancements that will help streamline its usage.</p> </div> </div> <div class="sect3"> <h4 id="oracle_improvements">Oracle improvements</h4> <div class="paragraph"> <p>Debezium 2.4 supports several new Oracle data types, which include <code>XML_TYPE</code> and <code>RAW</code> (<a href="https://issues.redhat.com/browse/DBZ-3605">DBZ-3605</a>). Two new Oracle dependencies were necessary to support XML: <code>xdb</code> and <code>xmlparserv2</code>. These dependencies are not redistributable, so they&#8217;re not included in the connector plugin archive by default, much like the connector&#8217;s driver. You must obtain these directly from Maven Central or oracle, just like the driver dependency.</p> </div> <div class="paragraph"> <p>In addition, XML works similarly to <code>CLOB</code> and <code>BLOB</code> data types; therefore, the connector must be configured with <code>lob.enabled</code> set to <code>true</code> to ingest XML changes. We&#8217;d love to hear your feedback on this new feature as it&#8217;s been requested for quite some time.</p> </div> </div> <div class="sect3"> <h4 id="jdbc_sink_improvements">JDBC sink improvements</h4> <div class="paragraph"> <p>Thanks to a contribution from Nicholas Fwang (<a href="https://issues.redhat.com/browse/DBZ-6595">DBZ-6595</a>), the JDBC sink connector can now reference values from the change event&#8217;s <code>source</code> information block as a part of the connector&#8217;s configuration property <code>table.name.format</code>. If you want to reference such fields, simply use <code>${source.&lt;field-name&gt;}</code> in the configuration, and the field&#8217;s value will be used.</p> </div> <div class="paragraph"> <p>In addition, Roman Kudryashov also contributed the ability to resolve a row&#8217;s primary key from a header defined on the change event (<a href="https://issues.redhat.com/browse/DBZ-6602">DBZ-6602</a>). To use this new feature, specify the connector configuration property <code>primary.key.mode</code> as <code>record_header</code>. If the header value is a primitive type, you will need to define a <code>primary.key.fields</code> configuration similar to how you would if the event&#8217;s record key was a primitive. If the header value is a <code>struct</code> type, all fields of the structure will be used by default, but specifying the <code>primary.key.fields</code> property allows you to choose a subset of fields from the header as the key.</p> </div> </div> <div class="sect3"> <h4 id="spanner_improvements">Spanner improvements</h4> <div class="paragraph"> <p>It was possible due to certain conditions that a Spanner connector may not advance from the <code>START_INITIAL_SYNC</code> state during initialization. After investigation by Nancy Xu, a new configuration option was introduced to supply a configurable timeout. This can be done by adding the following to the connector&#8217;s configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="properties">connector.spanner.task.await.initialization.timeout=&lt;timeout in milliseconds&gt;</code></pre> </div> </div> </div> <div class="sect3"> <h4 id="debezium_ui_metrics">Debezium UI metrics</h4> <div class="paragraph"> <p>The Debezium UI project allows you to easily deploy any Debezium connector onto Kafka Connect using a web-based interface. This release has improved the interface by including several connector metrics (<a href="https://issues.redhat.com/browse/DBZ-5321">DBZ-5321</a>) on the main connector listing view. We&#8217;d love your feedback on this change and welcome any suggestions on other metrics you may find useful.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="other-changes">Other fixes</h2> <div class="sectionbody"> <div class="paragraph"> <p>In addition, there were quite a number of stability and bug fixes that made it into this release. These include the following:</p> </div> <div class="ulist"> <ul> <li> <p>Mysql connector fails to parse statement FLUSH FIREWALL_RULES <a href="https://issues.redhat.com/browse/DBZ-3925">DBZ-3925</a></p> </li> <li> <p>Add the API endpoint to expose running connector metrics <a href="https://issues.redhat.com/browse/DBZ-5359">DBZ-5359</a></p> </li> <li> <p>Display critical connector metrics <a href="https://issues.redhat.com/browse/DBZ-5360">DBZ-5360</a></p> </li> <li> <p>Snapshot result not saved if LAST record is filtered out <a href="https://issues.redhat.com/browse/DBZ-5464">DBZ-5464</a></p> </li> <li> <p>Define and document schema history topic messages schema <a href="https://issues.redhat.com/browse/DBZ-5518">DBZ-5518</a></p> </li> <li> <p>Align query.fetch.size across connectors <a href="https://issues.redhat.com/browse/DBZ-5676">DBZ-5676</a></p> </li> <li> <p>Upgrade to Apache Kafka 3.5.0 <a href="https://issues.redhat.com/browse/DBZ-6047">DBZ-6047</a></p> </li> <li> <p>Remove downstream related code from UI Frontend code <a href="https://issues.redhat.com/browse/DBZ-6394">DBZ-6394</a></p> </li> <li> <p>Make Signal actions extensible <a href="https://issues.redhat.com/browse/DBZ-6417">DBZ-6417</a></p> </li> <li> <p>CloudEventsConverter throws static error on Kafka Connect 3.5+ <a href="https://issues.redhat.com/browse/DBZ-6517">DBZ-6517</a></p> </li> <li> <p>Dependency io.debezium:debezium-testing-testcontainers affects logback in tests <a href="https://issues.redhat.com/browse/DBZ-6525">DBZ-6525</a></p> </li> <li> <p>Cleanup duplicate jobs from jenkins <a href="https://issues.redhat.com/browse/DBZ-6535">DBZ-6535</a></p> </li> <li> <p>Implement sharded MongoDB ocp deployment and integration tests <a href="https://issues.redhat.com/browse/DBZ-6538">DBZ-6538</a></p> </li> <li> <p>Batches with DELETE statement first will skip everything else <a href="https://issues.redhat.com/browse/DBZ-6576">DBZ-6576</a></p> </li> <li> <p>Oracle unsupported DDL statement - drop multiple partitions <a href="https://issues.redhat.com/browse/DBZ-6585">DBZ-6585</a></p> </li> <li> <p>Only Struct objects supported for [Header field insertion], found: null <a href="https://issues.redhat.com/browse/DBZ-6588">DBZ-6588</a></p> </li> <li> <p>Support PostgreSQL coercion for UUID, JSON, and JSONB data types <a href="https://issues.redhat.com/browse/DBZ-6589">DBZ-6589</a></p> </li> <li> <p>MySQL parser cannot parse CAST AS dec <a href="https://issues.redhat.com/browse/DBZ-6590">DBZ-6590</a></p> </li> <li> <p>Refactor retry handling in Redis schema history <a href="https://issues.redhat.com/browse/DBZ-6594">DBZ-6594</a></p> </li> <li> <p>Excessive Log Message 'Marking Processed Record for Topic' <a href="https://issues.redhat.com/browse/DBZ-6597">DBZ-6597</a></p> </li> <li> <p>Support for custom tags in the connector metrics <a href="https://issues.redhat.com/browse/DBZ-6603">DBZ-6603</a></p> </li> <li> <p>Fixed DataCollections for table scan completion notification <a href="https://issues.redhat.com/browse/DBZ-6605">DBZ-6605</a></p> </li> <li> <p>Oracle connector is not recoverable if ORA-01327 is wrapped by another JDBC or Oracle exception <a href="https://issues.redhat.com/browse/DBZ-6610">DBZ-6610</a></p> </li> <li> <p>Fatal error when parsing Mysql (Percona 5.7.39-42) procedure <a href="https://issues.redhat.com/browse/DBZ-6613">DBZ-6613</a></p> </li> <li> <p>Build of Potgres connector fails when building against Kafka 2.X <a href="https://issues.redhat.com/browse/DBZ-6614">DBZ-6614</a></p> </li> <li> <p>Upgrade postgresql driver to v42.6.0 <a href="https://issues.redhat.com/browse/DBZ-6619">DBZ-6619</a></p> </li> <li> <p>MySQL ALTER USER with RETAIN CURRENT PASSWORD fails with parsing exception <a href="https://issues.redhat.com/browse/DBZ-6622">DBZ-6622</a></p> </li> <li> <p>Upgrade Quarkus to 3.2.0.Final <a href="https://issues.redhat.com/browse/DBZ-6626">DBZ-6626</a></p> </li> <li> <p>Inaccurate documentation regarding additional-condition <a href="https://issues.redhat.com/browse/DBZ-6628">DBZ-6628</a></p> </li> <li> <p>Oracle connection SQLRecoverableExceptions are not retried by default <a href="https://issues.redhat.com/browse/DBZ-6633">DBZ-6633</a></p> </li> <li> <p>Upgrade kcctl to 1.0.0.Beta3 <a href="https://issues.redhat.com/browse/DBZ-6642">DBZ-6642</a></p> </li> <li> <p>Cannot delete non-null interval value <a href="https://issues.redhat.com/browse/DBZ-6648">DBZ-6648</a></p> </li> <li> <p>Upgrade gRPC to 1.56.1 <a href="https://issues.redhat.com/browse/DBZ-6649">DBZ-6649</a></p> </li> <li> <p>ConcurrentModificationException thrown in Debezium 2.3 <a href="https://issues.redhat.com/browse/DBZ-6650">DBZ-6650</a></p> </li> <li> <p>Dbz crashes on parsing Mysql Procedure Code (Statement Labels) <a href="https://issues.redhat.com/browse/DBZ-6651">DBZ-6651</a></p> </li> <li> <p>CloudEvents converter is broken for JSON message deserialization <a href="https://issues.redhat.com/browse/DBZ-6654">DBZ-6654</a></p> </li> <li> <p>Vitess: Connector fails if table name is a mysql reserved word <a href="https://issues.redhat.com/browse/DBZ-6656">DBZ-6656</a></p> </li> <li> <p>Junit conflicts cause by test-containers module using transitive Junit5 from quarkus <a href="https://issues.redhat.com/browse/DBZ-6659">DBZ-6659</a></p> </li> <li> <p>Disable Kafka 2.x CRON trigger <a href="https://issues.redhat.com/browse/DBZ-6667">DBZ-6667</a></p> </li> </ul> </div> <div class="paragraph"> <p>Altogether, <a href="https://issues.redhat.com/issues/?jql=project%20%3D%20DBZ%20AND%20fixVersion%20%3D%202.4.0.Alpha1%20ORDER%20BY%20component%20ASC">59 issues</a> were fixed for this release. A big thank you to all the contributors from the community who worked on this release: <a href="https://github.com/adamstrickland">Adam Strickland</a>, <a href="https://github.com/aozmen121">Alisa Houskova</a>, <a href="https://github.com/AnatolyPopov">Anatolii Popov</a>, <a href="https://github.com/ani-sha">Anisha Mohanty</a>, <a href="https://github.com/maxant">Ant Kutschera</a>, <a href="https://github.com/Artgyk">Artur Gukasian</a>, <a href="https://github.com/bdbene">Balint Bene</a>, <a href="https://github.com/roldanbob">Bob Roldan</a>, <a href="https://github.com/Naros">Chris Cranford</a>, <a href="https://github.com/harveyyue">Harvey Yue</a>, <a href="https://github.com/blcksrx">Hossein Torabi</a>, <a href="https://github.com/indraraj">Indra Shukla</a>, <a href="https://github.com/nicholas-fwang">Inki Hwang</a>, <a href="https://github.com/jcechace">Jakub Cechacek</a>, <a href="https://github.com/jpechane">Jiri Pechanec</a>, <a href="https://github.com/mfvitale">Mario Fiore Vitale</a>, <a href="https://github.com/MartinMedek">Martin Medek</a>, <a href="https://github.com/nancyxu123">Nancy Xu</a>, <a href="https://github.com/obabec">Ondrej Babec</a>, <a href="https://github.com/rk3rn3r">René Kerner</a>, <a href="https://github.com/jaegwonseo">Seo Jae-kwon</a>, <a href="https://github.com/smiklosovic">Stefan Miklosovic</a>, <a href="https://github.com/twthorn">Thomas Thornton</a>, and <a href="https://github.com/vjuranek">Vojtech Juranek</a>!</p> </div> </div> </div> <div class="sect1"> <h2 id="whats_next">What&#8217;s next?</h2> <div class="sectionbody"> <div class="paragraph"> <p>This initial release of Debezium 2.4 is already packed with lots of new features and the team is only getting started. Looking at our <a href="https://debezium.io/roadmap">road map</a>, we&#8217;ve already tackled nearly half of our plans for 2.4, but much still remains including:</p> </div> <div class="ulist"> <ul> <li> <p>Single message transforms for TimescaleDB and Timestamps</p> </li> <li> <p>OpenLogReplicator ingestion for Oracle</p> </li> <li> <p>Ad-hoc blocking snapshots</p> </li> <li> <p>Parallelization of Debezium Embedded</p> </li> <li> <p>Parallel incremental snapshots for MongoDB</p> </li> <li> <p>Further improvements to Debezium UI</p> </li> </ul> </div> <div class="paragraph"> <p>We intend to stick to our approximate two week cadence, so expect Alpha2 at the start of August. Until then, please be sure to get in touch with us on the <a href="https://groups.google.com/g/debezium">mailing list</a> or our <a href="https://debezium.zulipchat.com/login/#narrow/stream/302529-users">chat</a> if you have any ideas or suggestions.</p> </div> </div> </div></div> </div> <div class="well"> <div class="row"> <div class="col-md-8"> <h2>Chris Cranford</h2> <p> <span class="bio-size">Chris is a software engineer at Red Hat. He previously was a member of the Hibernate ORM team and now works on Debezium. He lives in North Carolina just a few hours from Red Hat towers.</span> </p> <p class="bio-size"> <a href="https://github.com/naros"> <i class="icon-github"></i> </a> &nbsp; <a href="https://www.linkedin.com/in/crancran"> <i class="icon-linkedin"></i> </a> &nbsp; </p> </div> <div class="col-md-4"> <img alt="" class="img-responsive pull-right portrait" src="/assets/images/ccranfor.jpg"/> </div> </div> </div> <ul class="pager pager-blog"> <li class="previous"> <a href="/blog/2023/07/10/custom-http-signaling-notification/" class="previous"> &laquo; Previous</a> </li> <li class="next"><a href="/blog/2023/07/27/debezium-2-3-1-final-released/">Next &raquo; </a></li> </ul> <div class="row"> <div class="col-md-12"> <hr> <h2>About Debezium</h2> <p> Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>. </p> </div> </div> <div class="row"> <div class="col-md-12"> <h2>Get involved</h2> <p> We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://debezium.zulipchat.com/#narrow/stream/302529-users">chat with us on Zulip</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.redhat.com/projects/DBZ/issues/">log an issue</a>. </p> </div> </div> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://debezium.io/blog/2023/07/17/debezium-2-4-alpha1-released/",this.page.identifier="https://debezium.io/blog/2023/07/17/debezium-2-4-alpha1-released/"};!function(){var e=document,t=e.createElement("script");t.src="https://Debezium.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> <footer class="container"> <div> <div class="row mr-0 ml-0"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2024 Debezium Community <br/> <br/> <i class="icon-fire"></i> Mixed with <a href="https://getbootstrap.com/">Bootstrap</a>, baked by <a href="https://jekyllrb.com/">Jekyll</a>. <br/> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br/> <i class="icon-flag-alt"></i> Code released under <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br/> <i class="icon-file-alt"></i> <a href="https://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="https://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> <p>Rev: <a target="_blank" href="https://github.com/debezium/debezium.github.io/commit/8ac89c2305b6242fa14d5323b027884ffaded65e">8ac89c2</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li><a href="/documentation/reference/stable/features.html" title="Features">Features</a></li> <li> <a href="/documentation/reference/stable/install.html" title="Install">Install</a> </li> <li> <a href="/documentation/reference/stable/architecture.html" title="Architecture">Architecture</a> </li> <li><a href="/documentation/faq/" title="FAQ">FAQ</a></li> <li> <a href="/community/contribute/" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li><a href="/blog" title="Blog">Blog</a></li> <li> <a href="https://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li><a href="https://github.com/debezium" title="GitHub">GitHub</a></li> <li><a href="https://debezium.zulipchat.com/#narrow/stream/302529-users" title="Chat">Chat</a></li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="https://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <a href="https://www.redhat.com/"> <img src="/assets/images/Logo-Red_Hat-Sponsored_By-B-Standard-RGB.svg"/> </a> </div> </div> </div> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76464546-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-76464546-1");</script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> <script type="text/javascript" src="/assets/javascript/vanilla-back-to-top.min.js"></script> <script type="text/javascript" src="/assets/javascript/highlight.min.js"></script> <script>addBackToTop({scrollDuration:400}),hljs.initHighlightingOnLoad();</script> </body> </html>