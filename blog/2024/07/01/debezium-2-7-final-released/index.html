<!DOCTYPE html> <html> <head> <title>Debezium 2.7.0.Final Released</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta content="Debezium" property="og:site_name"> <meta content="Debezium 2.7.0.Final Released" property="og:title"> <meta content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png" property="og:image" name="image"> <meta property="og:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta property="og:url" content="https://debezium.io/blog/2024/07/01/debezium-2-7-final-released/"> <meta name="twitter:site" content="@debezium"> <meta name="twitter:title" content="Debezium 2.7.0.Final Released"> <meta name="twitter:creator" content="@ccranfor"> <meta name="twitter:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png"> <meta property="twitter:url" content="https://debezium.io/blog/2024/07/01/debezium-2-7-final-released/"> <link rel="alternate" type="application/rss+xml" title="Debezium Blog" href="/blog.atom"> <link rel="shortcut icon" type="image/png" href="/favicon.ico"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css"/> <link rel="stylesheet" href="/assets/css/custom.css"/> <link rel="stylesheet" href="/assets/css/highlight.min.css"/> <link rel="stylesheet" href="/assets/css/coderay.css"/> </head> <body class="post"> <div id="rhbar"> <a class="jbdevlogo" href="https://developers.redhat.com"></a> <a class="rhlogo" href="https://www.redhat.com/"></a> </div> <div id> <div class="container" id="content"> <nav class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed border-0" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"><img class="project-logo" src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 5px; margin-top: -5px;"></a> </div> <div class="collapse navbar-collapse collapsed" id="navigation"> <ul class="nav navbar-nav pull-right"> <li> <a href="/documentation/faq" class="">FAQ</a> </li> <li class="item"> <a href="/documentation/" class="">Documentation</a> </li> <li> <a href="/releases/" class="">Releases</a> </li> <li> <a href="/community/" class="">Community</a> </li> <li class="active"> <a href="/blog/" class="active">Blog</a> </li> </ul> </div> </div> </nav> <div class="row post-text-padding row-no-expand"> <div class="col-md-3"><div id="leftdocnav"> <div class="hidden-lg hidden-md hidden-sm"> <button class="navbar-toggle docssubmenu-toggle collapsed" data-target="#docssubmenu" data-toggle="collapse" style=" float: none; background-color: #656565; border-color: #656565; width: 100%; color: #fff; "> Navigation Menu </button> </div> <div class="collapse" id="docssubmenu"> <div class="doc-pills"> <ul class="nav nav-pills nav-stacked"> <li class="item"> <a href="/blog">Home</a> <div class="icon"><span class="icon-home"></span></div> </li> <li class="item"> <a href="/archives">Archive</a> <div class="icon"><span class="icon-arrow-down"></span></div> </li> <li class="item"> <a href="/blog.atom">Feed</a> <div class="icon"><span class="icon-rss"></span></div> </li> </ul> </div> <p></p> <div class="featured-posts"> <div id="#featured" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;">Featured Posts</div> <ul style="padding-inline-start: 22px;"> <li style="margin-bottom: 3px;"> <a href="/blog/2024/07/08/async-embedded-engine/" style="font-size: 95%;"> Debezium asynchronous engine </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2024/01/11/Debezium-and-TimescaleDB/" style="font-size: 95%;"> Debezium and TimescaleDB </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/12/20/JDBC-sink-connector-batch-support/" style="font-size: 95%;"> Streamlined Performance: Debezium JDBC connector batch support </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/10/19/Debezium-Operator-Takes-off-to-the-Clouds/" style="font-size: 95%;"> Debezium Operator Takes off to the Clouds </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/10/05/Debezium-JMX-signaling-and-notifications/" style="font-size: 95%;"> Debezium signaling and notifications - Part 3: JMX channel </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/09/23/flink-spark-online-learning/" style="font-size: 95%;"> Online machine learning with the data streams from the database </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/07/10/custom-http-signaling-notification/" style="font-size: 95%;"> Debezium signaling and notifications - Part 2: Customisation </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/06/27/Debezium-signaling-and-notifications/" style="font-size: 95%;"> Debezium signaling and notifications - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/05/02/tensorflow-mnist-classification/" style="font-size: 95%;"> Image classification with Debezium and TensorFlow </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/11/04/streaming-vitess-at-bolt/" style="font-size: 95%;"> Streaming Vitess at Bolt </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/02/10/event-sourcing-vs-cdc/" style="font-size: 95%;"> Distributed Data for Microservices â€” Event Sourcing vs. Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/10/01/audit-logs-with-change-data-capture-and-stream-processing/" style="font-size: 95%;"> Building Audit Logs with Change Data Capture and Stream Processing </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/07/12/streaming-cassandra-at-wepay-part-1/" style="font-size: 95%;"> Streaming Cassandra at WePay - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/" style="font-size: 95%;"> Reliable Microservices Data Exchange With the Outbox Pattern </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/12/05/automating-cache-invalidation-with-change-data-capture/" style="font-size: 95%;"> Automating Cache Invalidation With Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/09/20/materializing-aggregate-views-with-hibernate-and-debezium/" style="font-size: 95%;"> Materializing Aggregate Views With Hibernate and Debezium </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/07/19/advantages-of-log-based-change-data-capture/" style="font-size: 95%;"> Five Advantages of Log-Based Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/03/08/creating-ddd-aggregates-with-debezium-and-kafka-streams/" style="font-size: 95%;"> Creating DDD aggregates with Debezium and Kafka Streams </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/01/17/streaming-to-elasticsearch/" style="font-size: 95%;"> Streaming Data Changes from Your Database to Elasticsearch </a> </li> </ul> </div> <p></p> <p></p> <div class="cloud-tags"> <div id="tags" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;"> Tags </div> <div class="tag-cloud"> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 82%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 96%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apicurio/" style="font-size: 82%"> apicurio </a> </span> <span class="site-tag"> <a href="/tag/avro/" style="font-size: 84%"> avro </a> </span> <span class="site-tag"> <a href="/tag/aws/" style="font-size: 82%"> aws </a> </span> <span class="site-tag"> <a href="/tag/batch/" style="font-size: 82%"> batch </a> </span> <span class="site-tag"> <a href="/tag/caassandra/" style="font-size: 86%"> caassandra </a> </span> <span class="site-tag"> <a href="/tag/camel/" style="font-size: 82%"> camel </a> </span> <span class="site-tag"> <a href="/tag/cassandra/" style="font-size: 308%"> cassandra </a> </span> <span class="site-tag"> <a href="/tag/cdc/" style="font-size: 82%"> cdc </a> </span> <span class="site-tag"> <a href="/tag/channels/" style="font-size: 82%"> channels </a> </span> <span class="site-tag"> <a href="/tag/community/" style="font-size: 124%"> community </a> </span> <span class="site-tag"> <a href="/tag/community-stories/" style="font-size: 84%"> community stories </a> </span> <span class="site-tag"> <a href="/tag/connectors/" style="font-size: 82%"> connectors </a> </span> <span class="site-tag"> <a href="/tag/containers/" style="font-size: 82%"> containers </a> </span> <span class="site-tag"> <a href="/tag/cqrs/" style="font-size: 84%"> cqrs </a> </span> <span class="site-tag"> <a href="/tag/custom/" style="font-size: 82%"> custom </a> </span> <span class="site-tag"> <a href="/tag/datalake/" style="font-size: 82%"> datalake </a> </span> <span class="site-tag"> <a href="/tag/db2/" style="font-size: 292%"> db2 </a> </span> <span class="site-tag"> <a href="/tag/ddd/" style="font-size: 82%"> ddd </a> </span> <span class="site-tag"> <a href="/tag/debezium/" style="font-size: 108%"> debezium </a> </span> <span class="site-tag"> <a href="/tag/debezium-server/" style="font-size: 94%"> debezium server </a> </span> <span class="site-tag"> <a href="/tag/debezium-ui/" style="font-size: 90%"> debezium ui </a> </span> <span class="site-tag"> <a href="/tag/deduplication/" style="font-size: 82%"> deduplication </a> </span> <span class="site-tag"> <a href="/tag/discussion/" style="font-size: 114%"> discussion </a> </span> <span class="site-tag"> <a href="/tag/docker/" style="font-size: 188%"> docker </a> </span> <span class="site-tag"> <a href="/tag/elasticsearch/" style="font-size: 82%"> elasticsearch </a> </span> <span class="site-tag"> <a href="/tag/event-sourcing/" style="font-size: 82%"> event sourcing </a> </span> <span class="site-tag"> <a href="/tag/exactly-once-semantics/" style="font-size: 82%"> exactly once semantics </a> </span> <span class="site-tag"> <a href="/tag/example/" style="font-size: 88%"> example </a> </span> <span class="site-tag"> <a href="/tag/examples/" style="font-size: 118%"> examples </a> </span> <span class="site-tag"> <a href="/tag/features/" style="font-size: 94%"> features </a> </span> <span class="site-tag"> <a href="/tag/fedora/" style="font-size: 82%"> fedora </a> </span> <span class="site-tag"> <a href="/tag/flink/" style="font-size: 84%"> flink </a> </span> <span class="site-tag"> <a href="/tag/hiring/" style="font-size: 84%"> hiring </a> </span> <span class="site-tag"> <a href="/tag/ibmi/" style="font-size: 116%"> ibmi </a> </span> <span class="site-tag"> <a href="/tag/iceberg/" style="font-size: 82%"> iceberg </a> </span> <span class="site-tag"> <a href="/tag/images/" style="font-size: 82%"> images </a> </span> <span class="site-tag"> <a href="/tag/informix/" style="font-size: 126%"> informix </a> </span> <span class="site-tag"> <a href="/tag/integration/" style="font-size: 86%"> integration </a> </span> <span class="site-tag"> <a href="/tag/introduction/" style="font-size: 84%"> introduction </a> </span> <span class="site-tag"> <a href="/tag/jaeger/" style="font-size: 82%"> jaeger </a> </span> <span class="site-tag"> <a href="/tag/jdbc/" style="font-size: 128%"> jdbc </a> </span> <span class="site-tag"> <a href="/tag/json/" style="font-size: 82%"> json </a> </span> <span class="site-tag"> <a href="/tag/kafka/" style="font-size: 94%"> kafka </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 82%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 86%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kogito/" style="font-size: 82%"> kogito </a> </span> <span class="site-tag"> <a href="/tag/ksql/" style="font-size: 82%"> ksql </a> </span> <span class="site-tag"> <a href="/tag/kubernetes/" style="font-size: 86%"> kubernetes </a> </span> <span class="site-tag"> <a href="/tag/lakehouse/" style="font-size: 82%"> lakehouse </a> </span> <span class="site-tag"> <a href="/tag/machine-learning/" style="font-size: 86%"> machine learning </a> </span> <span class="site-tag"> <a href="/tag/mariadb/" style="font-size: 124%"> mariadb </a> </span> <span class="site-tag"> <a href="/tag/microservices/" style="font-size: 84%"> microservices </a> </span> <span class="site-tag"> <a href="/tag/mongo/" style="font-size: 86%"> mongo </a> </span> <span class="site-tag"> <a href="/tag/mongodb/" style="font-size: 310%"> mongodb </a> </span> <span class="site-tag"> <a href="/tag/mysql/" style="font-size: 446%"> mysql </a> </span> <span class="site-tag"> <a href="/tag/news/" style="font-size: 112%"> news </a> </span> <span class="site-tag"> <a href="/tag/newsletter/" style="font-size: 88%"> newsletter </a> </span> <span class="site-tag"> <a href="/tag/notifications/" style="font-size: 86%"> notifications </a> </span> <span class="site-tag"> <a href="/tag/online-learning/" style="font-size: 84%"> online learning </a> </span> <span class="site-tag"> <a href="/tag/operator/" style="font-size: 84%"> operator </a> </span> <span class="site-tag"> <a href="/tag/oracle/" style="font-size: 342%"> oracle </a> </span> <span class="site-tag"> <a href="/tag/outbox/" style="font-size: 280%"> outbox </a> </span> <span class="site-tag"> <a href="/tag/performance/" style="font-size: 82%"> performance </a> </span> <span class="site-tag"> <a href="/tag/postgres/" style="font-size: 416%"> postgres </a> </span> <span class="site-tag"> <a href="/tag/presentation/" style="font-size: 84%"> presentation </a> </span> <span class="site-tag"> <a href="/tag/production/" style="font-size: 82%"> production </a> </span> <span class="site-tag"> <a href="/tag/quarkus/" style="font-size: 92%"> quarkus </a> </span> <span class="site-tag"> <a href="/tag/questdb/" style="font-size: 82%"> questdb </a> </span> <span class="site-tag"> <a href="/tag/rds/" style="font-size: 84%"> rds </a> </span> <span class="site-tag"> <a href="/tag/releases/" style="font-size: 428%"> releases </a> </span> <span class="site-tag"> <a href="/tag/schema/" style="font-size: 82%"> schema </a> </span> <span class="site-tag"> <a href="/tag/scylla/" style="font-size: 82%"> scylla </a> </span> <span class="site-tag"> <a href="/tag/secrets/" style="font-size: 82%"> secrets </a> </span> <span class="site-tag"> <a href="/tag/sentry/" style="font-size: 82%"> sentry </a> </span> <span class="site-tag"> <a href="/tag/serialization/" style="font-size: 82%"> serialization </a> </span> <span class="site-tag"> <a href="/tag/signaling/" style="font-size: 86%"> signaling </a> </span> <span class="site-tag"> <a href="/tag/smt/" style="font-size: 84%"> smt </a> </span> <span class="site-tag"> <a href="/tag/snapshots/" style="font-size: 84%"> snapshots </a> </span> <span class="site-tag"> <a href="/tag/spanner/" style="font-size: 168%"> spanner </a> </span> <span class="site-tag"> <a href="/tag/spark/" style="font-size: 84%"> spark </a> </span> <span class="site-tag"> <a href="/tag/sql/" style="font-size: 84%"> sql </a> </span> <span class="site-tag"> <a href="/tag/sqlserver/" style="font-size: 356%"> sqlserver </a> </span> <span class="site-tag"> <a href="/tag/tensorflow/" style="font-size: 82%"> tensorflow </a> </span> <span class="site-tag"> <a href="/tag/testcontainers/" style="font-size: 88%"> testcontainers </a> </span> <span class="site-tag"> <a href="/tag/tests/" style="font-size: 82%"> tests </a> </span> <span class="site-tag"> <a href="/tag/time-series/" style="font-size: 82%"> time series </a> </span> <span class="site-tag"> <a href="/tag/timescaledb/" style="font-size: 82%"> timescaledb </a> </span> <span class="site-tag"> <a href="/tag/topics/" style="font-size: 82%"> topics </a> </span> <span class="site-tag"> <a href="/tag/tracing/" style="font-size: 82%"> tracing </a> </span> <span class="site-tag"> <a href="/tag/transactions/" style="font-size: 82%"> transactions </a> </span> <span class="site-tag"> <a href="/tag/ui/" style="font-size: 82%"> ui </a> </span> <span class="site-tag"> <a href="/tag/vagrant/" style="font-size: 82%"> vagrant </a> </span> <span class="site-tag"> <a href="/tag/vitess/" style="font-size: 272%"> vitess </a> </span> <span class="site-tag"> <a href="/tag/website/" style="font-size: 84%"> website </a> </span> </div> </div> </div> </div> </div> <div class="col-md-9"> <div class="post"> <div class="row" style="margin-left: 0; margin-right: 0; margin-bottom: 10px"> <div class="col-sm-12" style="padding-left: 0px"> <div style="display: table-cell; vertical-align: top"> <div style=" width: 72px; border: 1px solid #ccc; padding: 3px; display: inline-block; "> <img src="/assets/images/ccranfor.jpg" style="width: 64px;"> </div> </div> <div style="display: table-cell; vertical-align: top"> <div style="margin-left: 8px"> <span class="hidden-sm hidden-xs" style="font-size: 2.75rem; line-height: 1"> <a href="/blog/2024/07/01/debezium-2-7-final-released/">Debezium 2.7.0.Final Released</a> </span> <span class="hidden-md hidden-lg" style="font-size: 2rem; line-height: 1"> <a href="/blog/2024/07/01/debezium-2-7-final-released/">Debezium 2.7.0.Final Released</a> </span> <div class="byline" style="line-height: 1"> <em> July 1, 2024 by </em> <em> Chris Cranford </em> <div class="hidden-xs" style="margin-top: 5px"> <a class="label label-info hidden-sm hidden-xs" href="/tag/releases/">releases</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mongodb/">mongodb</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mysql/">mysql</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mariadb/">mariadb</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/postgres/">postgres</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/sqlserver/">sqlserver</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/cassandra/">cassandra</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/oracle/">oracle</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/db2/">db2</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/vitess/">vitess</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/outbox/">outbox</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/spanner/">spanner</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/jdbc/">jdbc</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/informix/">informix</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/ibmi/">ibmi</a> </div> </div> </div> </div> </div> </div> <div class="grid__item width-12-12"><div class="paragraph"> <p>As the team leaps into Q3, we&#8217;re happy to announce the fruits of our Q2 work, Debezium <strong>2.7.0.Final</strong> is now generally available. This release includes changes for <a href="https://issues.redhat.com/issues/?jql=project%20%3D%20DBZ%20and%20fixVersion%20%20in%20(2.7.0.Alpha1%2C%202.7.0.Alpha2%2C%202.7.0.Beta1%2C%202.7.0.CR1%2C%202.7.0.Final)">140 issues</a> with contributions from over <strong>51</strong> contributors. Let&#8217;s take a moment and review all the changes.</p> </div> <div class="paragraph"> <p></p> </div> <div class="sect1"> <h2 id="breaking-changes">Breaking changes</h2> <div class="sectionbody"> <div class="paragraph"> <p>The upgrade to Debezium <strong>2.7.0.Final</strong> includes a total of <strong>5</strong> unique breaking changes:</p> </div> <div class="dlist"> <dl> <dt class="hdlist1">Core</dt> <dd> <div class="ulist"> <ul> <li> <p>Debezium snapshot artifacts were originally deployed to <code>oss.sontatype.org</code>, the now legacy Sonatype infrastructure. This has changed and artifact snapshots are now found at <code>s01.oss.sonatype.org</code>, the new Sonatype infrastructure (<a href="https://issues.redhat.com/browse/DBZ-7641">DBZ-7641</a>).</p> </li> <li> <p>Under certain circumstances, JDBC queries were observed in a persistent hung state, such as database communication errors. A configurable timeout property called <code>query.timeout.ms</code> was introduced as a way to mitigate the problem for users who experienced this issue. This option defaults to <code>600000</code> milliseconds (600 seconds), but can be changed to a value of <code>0</code> to disable timeout handling (<a href="https://issues.redhat.com/browse/DBZ-7616">DBZ-7616</a>).</p> </li> </ul> </div> </dd> <dt class="hdlist1">Oracle</dt> <dd> <div class="ulist"> <ul> <li> <p>Tables that use <code>NUMERIC</code> data types with zero scale were ignored by the <code>decimal.handling.mode</code> when set to <code>double</code> or <code>string</code>. This has been fixed and such columns will now be correctly emitted according to the configured decimal handling mode. This can cause issues with upgrades for deployments using strict schema registry compatibility rules (<a href="https://issues.redhat.com/browse/DBZ-7882">DBZ-7882</a>).</p> </li> </ul> </div> </dd> <dt class="hdlist1">PostgreSQL</dt> <dd> <div class="ulist"> <ul> <li> <p>PostgreSQL 10 and 11 have been in end-of-life (EoL) mode for some time now. Support for these versions are now considered best-effort, meaning we no longer explicitly test Debezium against these database versions. Any regressions will not be proactively fixed by the core team; however, community contributions will continue to be accepted for regressions (<a href="https://issues.redhat.com/browse/DBZ-7128">DBZ-7128</a>).</p> </li> </ul> </div> </dd> <dt class="hdlist1">SQL Server</dt> <dd> <div class="ulist"> <ul> <li> <p>In older versions of Debezium, the SQL Server connector would process all transactions available during a poll iteration. This could lead to memory concerns with large traffic. The <code>max.iteration.transactions</code> configuration property already exists to solve this corner case for users, but it defaulted to <code>0</code>, meaning that the connector would process all transactions by default. This configuration&#8217;s default value has changed and is now <code>500</code> to provide more seamless integration for the default configuration use cases (<a href="https://issues.redhat.com/browse/DBZ-7750">DBZ-7750</a>).</p> </li> </ul> </div> </dd> </dl> </div> </div> </div> <div class="sect1"> <h2 id="new-features-and-improvements">New features and improvements</h2> <div class="sectionbody"> <div class="paragraph"> <p>The upgrade to Debezium <strong>2.7.0.Final</strong> introduces many new features and improvements in several components:</p> </div> <table class="tableblock frame-all grid-all stretch"> <colgroup> <col style="width: 20%;"> <col style="width: 20%;"> <col style="width: 20%;"> <col style="width: 20%;"> <col style="width: 20%;"> </colgroup> <tbody> <tr> <td class="tableblock halign-center valign-top"><p class="tableblock"><a href="#new-features-core">Core</a><br> <a href="#new-features-db2">Db2</a><br> <a href="#new-features-jdbc">JDBC</a></p></td> <td class="tableblock halign-center valign-top"><p class="tableblock"><a href="#new-features-mariadb">MariaDB</a><br> <a href="#new-features-mongodb">MongoDB</a><br> <a href="#new-features-mysql">MySQL</a></p></td> <td class="tableblock halign-center valign-top"><p class="tableblock"><a href="#new-features-oracle">Oracle</a><br> <a href="#new-features-postgres">PostgreSQL</a><br> <a href="#new-features-sqlserver">SQL Server</a></p></td> <td class="tableblock halign-center valign-top"><p class="tableblock"><a href="#new-features-cassandra">Cassandra</a><br> <a href="#new-features-vitess">Vitess</a></p></td> <td class="tableblock halign-center valign-top"><p class="tableblock"><a href="#new-features-server">Debezium Server</a><br> <a href="#new-features-operator">Kubernetes Operator</a></p></td> </tr> </tbody> </table> <div class="sect2"> <h3 id="new-features-core">Core</h3> <div class="sect3"> <h4 id="transaction_metadata_encoded_ordering">Transaction metadata encoded ordering</h4> <div class="paragraph"> <p>In some pipelines, ordering is critical for consuming applications. There are certain scenarios that can impact this aspect of your data pipeline, such as when Kafka re-partition occur. This leads to problems that can be error-prone trying to reconstruct the ordering after-the-fact.</p> </div> <div class="paragraph"> <p>Now when Transaction Metadata is enabled, these metadata events will also encode their transaction order, so that in the event that a Kafka re-partition or other scenarios occur that alter the ordering semantics, consumers can simply use the new encoded ordering field instead for deterministic ordering of transactions (<a href="https://issues.redhat.com/browse/DBZ-7698">DBZ-7698</a>).</p> </div> </div> <div class="sect3"> <h4 id="blocking_incremental_snapshot_improvements">Blocking incremental snapshot improvements</h4> <div class="paragraph"> <p>There are some use cases where incremental snapshot signals require escaping certain characters in the fully-qualified table name. This caused some problems with blocking snapshots because the process to resolve what tables to snapshot used a slightly different mechanism. In Debezium 2.7, we&#8217;ve unified this approach, and you can now use escaped table names with blocking snapshots where applicable (<a href="https://issues.redhat.com/browse/DBZ-7718">DBZ-7718</a>).</p> </div> </div> <div class="sect3"> <h4 id="optional_delay_between_snapshot_streaming">Optional delay between snapshot &amp; streaming</h4> <div class="paragraph"> <p>Debezium 2.7 ships with a new global configuration option, <code>streaming.delay.ms</code>. This new option causes the connector to perform a delay before it starts the streaming phase (<a href="https://issues.redhat.com/browse/DBZ-7902">DBZ-7902</a>).</p> </div> <div class="paragraph"> <p>For some deployment use cases, you may want to guarantee that at least one offset flush interval has happened before the streaming phase begins. In such use cases, uses should guarantee that both properties, <code>streaming.delay.ms</code> and <code>offset.flush.interval.ms</code> are aligned.</p> </div> <div class="paragraph"> <p>By default, Debezium will not perform a delay and immediately transitions to the streaming phase to remain consistent with prior version behavior.</p> </div> </div> <div class="sect3"> <h4 id="truncating_array_fields">Truncating array fields</h4> <div class="paragraph"> <p>The <code>column.truncate.to.<em>length</em>.chars</code> configuration property is improved, supporting a combination of string and now, array field types (<a href="https://issues.redhat.com/browse/DBZ-7925">DBZ-7925</a>).</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-db2">Db2</h3> <div class="sect3"> <h4 id="support_db2_on_zos">Support Db2 on z/OS</h4> <div class="paragraph"> <p>Debezium 2.7 introduces incubating support for using the Db2 connector on the z/OS platform. For the Db2 connector to work with z/OS, several configuration options are required to toggle the connector to work with the z/OS platform database (<a href="https://issues.redhat.com/browse/DBZ-4812">DBZ-4812</a>).</p> </div> <div class="listingblock"> <div class="title">New connector properties</div> <div class="content"> <pre class="CodeRay highlight"><code data-lang="json">{
  <span class="error">.</span><span class="error">.</span><span class="error">.</span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">db2.platform</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ZOS</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">cdc.control.schema</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ASNCDC</span><span class="delimiter">&quot;</span></span>,
  <span class="key"><span class="delimiter">&quot;</span><span class="content">cdc.change.tables.schema</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ASNCDC</span><span class="delimiter">&quot;</span></span>
}</code></pre> </div> </div> <div class="paragraph"> <p>The primary toggle to run in z/OS mode is done using the <code>db2.platform</code>, which defaults to <code>LUW</code> for running on Linux, Unix, and Windows. Setting this configuration option to <code>ZOS</code> enables z/OS.</p> </div> <div class="paragraph"> <p>In addition, we have also added the <code>cdc.control.schema</code> and <code>cdc.change.tables.schema</code> connector configuration properties. These were previously hardcoded as <code>ASNCDC</code>, and while this remains the default, if your installation uses different schemas, this is now possible.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>For existing Db2 connectors for Linux, Unix, and Windows, no configuration changes are required when upgrading. The <code>db2.platform</code> is only required for z/OS and the schema properties only if you put these objects in a different schema than <code>ASNCDC</code>.</p> </div> </td> </tr> </table> </div> </div> </div> <div class="sect2"> <h3 id="new-features-jdbc">JDBC</h3> <div class="sect3"> <h4 id="mariadb_dialect_support">MariaDB dialect support</h4> <div class="paragraph"> <p>While MariaDB and MySQL often share a lot of similar syntax, unfortunately there are corner cases where these two vary slightly that introduces incompatibilities. One such incompatibility was found with now the Debezium JDBC sink constructed <em>upsert</em> statements, which could not be executed when using a MariaDB target database.</p> </div> <div class="paragraph"> <p>Debezium 2.7 officially introduces MariaDB dialect support for the JDBC sink connector, enabling users to configure the JDBC sink to write changes from Kafka topics to a MariaDB target (<a href="https://issues.redhat.com/browse/DBZ-7874">DBZ-7874</a>). In general, no special configuration should be necessary as both Hibernate and Debezium should detect the target is MariaDB and use the correct dialects.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>If you find the dialect resolution does not resolve to MariaDB, you can enforce its use by setting the connector configuration <code>hibernate.dialect</code> with the fully qualified class name <code>org.hibernate.dialect.MariaDBDialect</code>.</p> </div> </td> </tr> </table> </div> </div> </div> <div class="sect2"> <h3 id="new-features-mariadb">MariaDB</h3> <div class="sect3"> <h4 id="new_mariadb_standalone_connector">New MariaDB standalone connector</h4> <div class="paragraph"> <p>Debezium 2.5 introduced official support for MariaDB as part of the existing MySQL connector. The next step in that evolution is here, with a new standalone connector implementation for MariaDB (<a href="https://issues.redhat.com/browse/DBZ-7693">DBZ-7693</a>).</p> </div> <div class="paragraph"> <p>There are few things worth noting here:</p> </div> <div class="ulist"> <ul> <li> <p>MariaDB and MySQL both have a common shared dependency on a new abstract connector called <code>debezium-connector-binlog</code>, which provides the common framework for both binlog-based connectors.</p> </li> <li> <p>Each standalone connector now specifically is tailored only to its target database, so MySQL users should use MySQL and MariaDB users should use MariaDB. As a result, the <code>connection.adapter</code> configuration option has been removed, and the <code>jdbc.protocol</code> configuration option is now only specific to certain MySQL use cases and not used by MariaDB.</p> </li> </ul> </div> <div class="paragraph"> <p>The documentation for this connector is still a work-in-progress and will be added in the future. For the moment, you can refer to the MySQL connector documentation for most things related to MariaDB.</p> </div> </div> <div class="sect3"> <h4 id="snapshot_row_count_estimates_can_be_disabled">Snapshot row count estimates can be disabled</h4> <div class="paragraph"> <p>In some circumstances, users may find that the query that generates the row count estimates for MySQL and MariaDB can have some performance impacts in some environments.</p> </div> <div class="paragraph"> <p>If you determine this query performs poorly, or the calculation is of no interest, it can be safely disabled by setting the log level for <code>io.debezium.connector.binlog.BinlogSnapshotChangeEventSource.RowEstimate</code> to <code>WARN</code> (<a href="https://issues.redhat.com/browse/DBZ-7640">DBZ-7640</a>).</p> </div> <div class="paragraph"> <p>If you are deploying on Kafka Connect, be sure to adjust the Kafka Connect log4j configuration. If you are deploying using Debezium Server, be sure to adjust the log configuration in <code>application.properties</code> based on the <a href="https://quarkus.io/guides/logging">Quarkus documentation</a>.</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-mongodb">MongoDB</h3> <div class="sect3"> <h4 id="support_predicate_conditions_for_mongodb_incremental_snapshots">Support predicate conditions for MongoDB incremental snapshots</h4> <div class="paragraph"> <p>The incremental snapshot process is an instrumental part in various recovery situations to collect whole or part of the data set from a source table or collection. Relational connectors have long supported the idea of supplying an <code>additional-conditions</code> value on the incremental snapshot signal to restrict the data set, providing for targeted resynchronization of specific rows of data.</p> </div> <div class="paragraph"> <p>We&#8217;re happy to announce that this is now possible with MongoDB (<a href="https://issues.redhat.com/browse/DBZ-7138">DBZ-7138</a>). Unlike relational databases, the <code>additional-conditions</code> should be supplied in JSON format. It will be applied to the specified collection using the <code>find</code> operation to obtain the subset list of documents that are to be incrementally snapshotted.</p> </div> </div> <div class="sect3"> <h4 id="extractnewdocumentstate_includes_document_id_for_mongodb_deletes">ExtractNewDocumentState includes document id for MongoDB deletes</h4> <div class="paragraph"> <p>In prior release of the MongoDB <code>ExtractNewDocumentState</code> single message transformation, a delete event did not provide the identifier as part of the payload. This reduced the meaningfulness of delete events as consumers were supplied with insufficient data to act on these events. This behavior has been improved, and the delete event now includes an <code>_id</code> attribute in the payload (<a href="https://issues.redhat.com/browse/DBZ-7695">DBZ-7695</a>).</p> </div> </div> <div class="sect3"> <h4 id="collection_scoped_change_streams">Collection-scoped change streams</h4> <div class="paragraph"> <p>In previous iterations of the Debezium MongoDB connector, change streams could be opened against the deployment and database scopes, which was not always ideal for restrictive permission environments. Debezium 2.7 introduces a new change stream mode where the connector can operate on a single collection scope, allowing for such granular permissive configurations (<a href="https://issues.redhat.com/browse/DBZ-7760">DBZ-7760</a>).</p> </div> <div class="paragraph"> <p>A new capture scope value has been added called <code>collection</code>, which can be set using <code>capture.scope</code>. This is useful if the connector is deployed to only capture changes for a single collection in MongoDB.</p> </div> <div class="paragraph"> <p>Please see the <a href="https://debezium.io/documentation/reference/2.7/connectors/mongodb.html#mongodb-property-capture-scope">documentation</a> about limitations of this new, incubating feature.</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-mysql">MySQL</h3> <div class="sect3"> <h4 id="snapshot_row_count_estimates_can_be_disabled_2">Snapshot row count estimates can be disabled</h4> <div class="paragraph"> <p>In some circumstances, users may find that the query that generates the row count estimates for MySQL and MariaDB can have some performance impacts in some environments.</p> </div> <div class="paragraph"> <p>If you determine this query performs poorly, or the calculation is of no interest, it can be safely disabled by setting the log level for <code>io.debezium.connector.binlog.BinlogSnapshotChangeEventSource.RowEstimate</code> to <code>WARN</code> (<a href="https://issues.redhat.com/browse/DBZ-7640">DBZ-7640</a>).</p> </div> <div class="paragraph"> <p>If you are deploying on Kafka Connect, be sure to adjust the Kafka Connect log4j configuration. If you are deploying using Debezium Server, be sure to adjust the log configuration in <code>application.properties</code> based on the <a href="https://quarkus.io/guides/logging">Quarkus documentation</a>.</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-oracle">Oracle</h3> <div class="sect3"> <h4 id="new_oracle_rawtostring_custom_converter">New Oracle "RawToString" custom converter</h4> <div class="paragraph"> <p>While Oracle recommends that users avoid using <code>RAW</code>-based columns, these columns are still widely used in standard Oracle tables for backward compatibility reasons. But there are also business use cases where it makes sense to continue to use <code>RAW</code> columns rather than other data types.</p> </div> <div class="paragraph"> <p>Debezium 2.7 introduces a new custom converter specifically for Oracle called <code>RawToStringConverter</code> (<a href="https://issues.redhat.com/browse/DBZ-7753">DBZ-7753</a>). This custom converter is designed to allow you to quickly convert the byte-array contents of the <code>RAW</code> column to a string-based field using a <code>STRING</code> schema type. This can be useful for situations where you use a <code>RAW</code> column to store character data that doesn&#8217;t require the collation overhead of <code>VARCHAR2</code>, but you still have the need for this field to be sent to consumers as string-based data.</p> </div> <div class="paragraph"> <p>To get started with this custom converter, please see the <a href="https://debezium.io/documentation/reference/2.7/connectors/oracle.html#_raw_to_string">documentation</a> for more details.</p> </div> </div> <div class="sect3"> <h4 id="improved_nls_character_set_support_for_oracle">Improved NLS character-set support for Oracle</h4> <div class="paragraph"> <p>When installing the Debezium 2.7 Oracle connector, you may notice a new dependency, <code>orai18n.jar</code>. This dependency is being automatically distributed to provide extended character-set support for certain dialects (<a href="https://issues.redhat.com/browse/DBZ-7761">DBZ-7761</a>).</p> </div> </div> <div class="sect3"> <h4 id="oracle_row_id_included_in_change_events">Oracle ROW_ID included in change events</h4> <div class="paragraph"> <p>While <code>ROW_ID</code> is not unique across all rows of a table for the table&#8217;s lifespan, it can be used in certain situations when the lifecycle of the table and rows are managed in a very strict way. At the community&#8217;s request, we&#8217;ve added a new <code>row_id</code> field to the Oracle connector&#8217;s change event source information block (<a href="https://issues.redhat.com/browse/DBZ-4332">DBZ-4332</a>). This new field will be populated with the <code>ROW_ID</code> value under the following conditions:</p> </div> <div class="ulist"> <ul> <li> <p>Only populated from streaming events for inserts, updates, and deletes.</p> </li> <li> <p>Snapshot evnets will not contain a <code>row_id</code> value.</p> </li> <li> <p>Only provided by the LogMiner and XStream streaming adapters, OpenLogReplicator is not supported.</p> </li> </ul> </div> <div class="paragraph"> <p>Any event that does not match the criteria will not include a <code>row_id</code> field as its marked as <em>optional</em>.</p> </div> </div> <div class="sect3"> <h4 id="oracle_flush_table_with_custom_schema_names">Oracle flush table with custom schema names</h4> <div class="paragraph"> <p>In prior versions of Debezium, the Oracle connector was strictly designed to create the LogMiner flush table in the default tablespace of the connector user account. This wasn&#8217;t always useful in situations where the user&#8217;s default tablespace may not be the ideal destination and the DBA would prefer that table to exist in a separate tablespace.</p> </div> <div class="paragraph"> <p>Previously, users would need to modify the user account or use a new user with the correct tablespace to have the table created in the right tablespace location. With Debezium 2.7, this is no longer required, and you can safely include the name of the target schema/tablespace in the configuration (<a href="https://issues.redhat.com/browse/DBZ-7819">DBZ-7819</a>).</p> </div> <div class="listingblock"> <div class="title">Example using a custom schema name</div> <div class="content"> <pre class="CodeRay highlight"><code>log.mining.flush.table.name=THE_OTHER_SCHEMA.LOG_MINING_FLUSH_TABLE</code></pre> </div> </div> <div class="paragraph"> <p>The schema name is optional and if not supplied, the connector continues to use the same legacy behavior of creating the flush table and checking for its existence in the user&#8217;s default tablespace.</p> </div> </div> <div class="sect3"> <h4 id="oracle_query_filter_with_large_numbers_of_tables">Oracle query filter with large numbers of tables</h4> <div class="paragraph"> <p>The Debezium Oracle connector can support thousands of tables in a single connector deployment with ease; however, you may have found you wanted to customize the query filter using the <code>IN</code> mode. This mode is used in situations where you may have a high volume of changes for other tables and you want to filter that dataset out at the database level before the changes are passed to Debezium for processing.</p> </div> <div class="paragraph"> <p>In earlier versions, users may have noticed that setting <code>log.mining.query.filter.mode</code> with a value of <code>in</code> and where your table include list contained more than 1000 elements generated a SQL error. Oracle does not permit more than 1000 elements within an in-clause; however, Debezium 2.7 addresses this limitation by using a disjunction between multiple buckets of 1000 item in-clause lists (<a href="https://issues.redhat.com/browse/DBZ-7847">DBZ-7847</a>).</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-postgres">PostgreSQL</h3> <div class="sect3"> <h4 id="postresql_arrays_with_the_jdbc_sink">PostreSQL Arrays with the JDBC sink</h4> <div class="paragraph"> <p>The JDBC sink connector supports the use of mapping source columns to Kafka ARRAY-based payload field types. With Debezium 2.7, you can now serialize ARRAY-based fields to a target PostgreSQL database, with no change in configuration. The new support should be completely transparent (<a href="https://issues.redhat.com/browse/DBZ-7752">DBZ-7752</a>).</p> </div> </div> <div class="sect3"> <h4 id="read_only_incremental_snapshots">Read-only incremental snapshots</h4> <div class="paragraph"> <p>An incremental snapshot is feature of Debezium to capture all or a subset of historical data from one or more tables in your source database using an ad-hoc signal to start the snapshot. This process normally requires writing to the signal database table to maintain open/close watermarks in the transaction log for deduplication with the change stream that overlaps with the incremental snapshot stream.</p> </div> <div class="paragraph"> <p>Debezium has supported read-only incremental snapshots with other database vendors such as MySQL and MariaDB; however, Debezium 2.7 introduces support for read-only incremental snapshots with PostgreSQL. If you would like information, please check out the <a href="https://github.com/debezium/debezium-design-documents/blob/main/DDD-8.md">design proposal</a>.</p> </div> <div class="paragraph"> <p>This process works by using the <code>pg_current_snapshot</code> function to obtain information about what transactions are currently active in the database, which is only available on PostgreSQL 13. This means that to utilize read-only incremental snapshots, you must be using PostgreSQL 13 or later.</p> </div> <div class="paragraph"> <p>In order to activate read-only incremental snapshots on PostgreSQL 13 or later, you simply need to add the <code>read.only</code> connector configuration property set to <code>true</code> in the connector configuration. The incremental snapshot implementation will choose to use the read-only implementation when this is set to <code>true</code>, similar to the same behavior for MySQL and MariaDB (<a href="https://issues.redhat.com/browse/DBZ-7917">DBZ-7917</a>).</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-sqlserver">SQL Server</h3> <div class="sect3"> <h4 id="heartbeat_action_query_now_supported">Heartbeat action query now supported</h4> <div class="paragraph"> <p>The <code>heartbeat.action.query</code> connector configuration property enables the connector to perform a write operation to the source database on an interval defined by <code>heartbeat.interval.ms</code>. The write operation is meant to produce a change event that is captured by the connector, and is sent to Kafka or the target system.</p> </div> <div class="paragraph"> <p>In an active database that is capturing changes regularly, you do not need to worry setting <code>heartbeat.action.query</code>, as the constant stream of changes is sufficient to keep the offsets synchronized with the read position in the transaction logs. However, if the connector is capturing changes from a source that has a higher volume of changes to non-captured tables than to captured tables, this can be useful to keep the read position in the offsets synchronized with the lower capture activity.</p> </div> <div class="paragraph"> <p>In Debezium 2.7, we&#8217;ve added support for this property for SQL Server (<a href="https://issues.redhat.com/browse/DBZ-7801">DBZ-7801</a>). For additional details, please see the SQL Server <a href="https://debezium.io/documentation/reference/2.7/connectors/sqlserver.html#sqlserver-property-heartbeat-action-query">documentation</a>.</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-cassandra">Cassandra</h3> <div class="sect3"> <h4 id="cassandra_performance_improvement">Cassandra performance improvement</h4> <div class="paragraph"> <p>The Cassandra connector also saw some changes in Debezium 2.7, specifically to performance optimizations. The implementation of the <code>KafkaRecordEmitter</code> relied on a thread-synchronization block that reduced the throughput. In addition, the implementation also performed some unnecessary flushing which also impacted performance. This code has been rewritten to improve both throughput and reduce the unnecessary flush calls (<a href="https://issues.redhat.com/browse/DBZ-7722">DBZ-7722</a>).</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-vitess">Vitess</h3> <div class="sect3"> <h4 id="improved_temporal_support_in_vitess">Improved temporal support in Vitess</h4> <div class="paragraph"> <p>Debezium relational connectors rely on a configuration option, <code>time.precision.mode</code>, to control how temporal values are added to change events. In some cases, you may want to use modes that align with Kafka types, using the <code>connect</code> mode. In other cases, you may prefer to avoid precision loss by using the default, <code>adaptive_milliseconds</code> mode.</p> </div> <div class="paragraph"> <p>The Debezium for Vitess connector has traditionally not followed this model, and instead has emitted temporal values as string-based types. While this helps avoid the loss of precision problem when using the <code>connect</code> mode, this adds unnecessary overhead on consumers to parse and manipulate these values.</p> </div> <div class="paragraph"> <p>In Debezium 2.7, Vitess aligns this behavior with other relational connectors, using the <code>time.precision.mode</code> to control how temporal values are sent (<a href="https://issues.redhat.com/browse/DBZ-7773">DBZ-7773</a>). By default, it will use the <code>adaptive_milliseconds</code> mode, but you can customize this to use <code>connect</code> mode if you prefer. The emission of string-based temporal values has been removed.</p> </div> </div> <div class="sect3"> <h4 id="support_heartbeat_events">Support heartbeat events</h4> <div class="paragraph"> <p>Debezium provides a mechanism to write to the database periodically to emit synchronizing events for offsets using the <code>heartbeat.action.query</code> connector configuration property. For Vitess, this is unnecessary since the Vitess/VStream provides this out of the box with the <a href="https://vitess.io/docs/17.0/reference/vreplication/vstream/#heartbeatinterval">HeartbeatInterval</a> flag.</p> </div> <div class="paragraph"> <p>Debezium 2.7 uses the <code>HeartbeatInterval</code> VStream flag, only requiring users to set the <code>heartbeat.interval.ms</code> in the connector configuration. As the heartbeat flag is observed in the VStream, a heartbeat event will be emitted based on that interval (<a href="https://issues.redhat.com/browse/DBZ-7962">DBZ-7962</a>)</p> </div> </div> </div> <div class="sect2"> <h3 id="new-features-server">Debezium Server</h3> <div class="sect3"> <h4 id="nats_authentication_with_jwtseed">NATS authentication with JWT/seed</h4> <div class="paragraph"> <p>The Debezium Server NATs streaming sink adapter was improved, supporting JWT/seed based authentication (<a href="https://issues.redhat.com/browse/DBZ-7829">DBZ-7829</a>). To get started using the JWT/seed-based authentication, supply the following necessary values in the configuration:</p> </div> <div class="listingblock"> <div class="title">JWT authentication example</div> <div class="content"> <pre class="CodeRay highlight"><code>debezium.sink.nats-jetstream.auth.jwt=&lt;your_jwt_token&gt;</code></pre> </div> </div> <div class="listingblock"> <div class="title">Seed authentication example</div> <div class="content"> <pre class="CodeRay highlight"><code>debezium.sink.nats-jetstream.auth.seed=&lt;your_nkey_seed&gt;</code></pre> </div> </div> <div class="paragraph"> <p>For this and more, please see the NATS documentation for details about JWT and NKey seed based authentication.</p> </div> </div> <div class="sect3"> <h4 id="nats_jetstream_sink_authentication_improvements">NATS JetStream sink authentication improvements</h4> <div class="paragraph"> <p>The Debezium Server NATS JetStream sink also includes improvements to support authentication and encryption in Debezium 2.7. Several new configuration properties are now supported to pass keystore details to the sink adapter (<a href="https://issues.redhat.com/browse/DBZ-7922">DBZ-7922</a>).</p> </div> <div class="listingblock"> <div class="title">New configuration properties</div> <div class="content"> <pre class="CodeRay highlight"><code data-lang="properties">...
debezium.sink.nats-jetstream.auth.tls.keystore=&lt;path-to-keystore-file&gt;
debezium.sink.nats-jetstream.auth.tls.keystore.password=secret-password
debezium.sink.nats-jetstream.auth.tls.password=&lt;tls-password&gt;</code></pre> </div> </div> <div class="paragraph"> <p>To get started using the new authentication and encryption features, simply include the above three configurations into your Debezium Server configuration with appropriate values.</p> </div> </div> <div class="sect3"> <h4 id="jmx_exporter_added">JMX Exporter added</h4> <div class="paragraph"> <p>The JMX Exporter agent has been added as part of the Debezium Server container image. This should enable users to easily fetch connector metrics while running Debezium Server out of the box (<a href="https://issues.redhat.com/browse/DBZ-7913">DBZ-7913</a>).</p> </div> <div class="paragraph"> <p>To enable the JMX Exporter, simply specify the <code>JMX_EXPORTER_PORT</code> environment variable when creating a container based on <code>debezium/debezium-server:2.7</code> or later, and making sure that the agent&#8217;s port is accessible to the outside world on the container.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>The JMX Exporter uses the configuration in <code>config/metrics.yml</code> by default. If this configuration is insufficient, you will need to explicitly mount a custom file with the desired configuration to override the container&#8217;s file.</p> </div> </td> </tr> </table> </div> </div> </div> <div class="sect2"> <h3 id="new-features-operator">Kubernetes Operator</h3> <div class="sect3"> <h4 id="install_debezium_operator_with_helm_chart">Install Debezium Operator with Helm Chart</h4> <div class="paragraph"> <p>To improve the deployment of the Debezium Operator, it can be installed with a helm chart at <a href="https://charts.debezium.io" class="bare">https://charts.debezium.io</a>. This avoids the overly complicated deployment model of installing the operator into separate namespaces, minimizing the complexities for managing multiple Debezium Server deployments on Kubernetes.</p> </div> </div> <div class="sect3"> <h4 id="enabling_jmx_exporter_with_debezium_operator">Enabling JMX Exporter with Debezium Operator</h4> <div class="paragraph"> <p>If you are deploying Debezium Server on Kubernetes using the Debezium Operator, the new JMX Exporter feature in Debezium Server can be enabled directly through the operator custom resource (<a href="https://issues.redhat.com/browse/DBZ-7914">DBZ-7914</a>). To get started using the exporter with the operator, new configuration operations were added:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="yml"><span class="key">runtime</span>:
  <span class="key">metrics</span>:
    <span class="key">jmxExporter</span>:
      <span class="key">enabled</span>: <span class="string"><span class="content">true</span></span>
      <span class="key">configFrom</span>:
        <span class="key">key1</span>: <span class="string"><span class="content">value1</span></span>
        <span class="key">key2</span>: <span class="string"><span class="content">value2</span></span></code></pre> </div> </div> <div class="paragraph"> <p>In the custom resource, the <code>jmxExporter.enabled</code> toggles the exporter on or off. Additionally, the metrics configuration can be supplied using key/value pairs in the <code>jmxExporter.configFrom</code> section.</p> </div> </div> <div class="sect3"> <h4 id="stopping_debezium_server_when_scaled_to_zero">Stopping Debezium Server when scaled to zero</h4> <div class="paragraph"> <p>Debezium Server is stopped when scaling the replicas to zero using the annotation, <code>debezium.io/stop=true</code> (<a href="https://issues.redhat.com/browse/DBZ-7953">DBZ-7953</a>).</p> </div> </div> </div> </div> </div> <div class="sect1"> <h2 id="other-changes">Other changes</h2> <div class="sectionbody"> <div class="paragraph"> <p>In total, <a href="https://issues.redhat.com/issues/?jql=project%20%3D%20DBZ%20and%20fixVersion%20%20in%20(2.7.0.Alpha1%2C%202.7.0.Alpha2%2C%202.7.0.Beta1%2C%202.7.0.CR1%2C%202.7.0.Final)">140 issues</a> were resolved in Debezium 2.7. The list of changes can also be found in our <a href="https://debezium.io/releases/2.7">release notes</a>. A big thank you to all the contributors from the community who worked diligently on this release: Ashwin Murali Krishnan, <a href="https://github.com/acristu">Alexandru Cristu</a>, <a href="https://github.com/samssh">Amirmohammad Sadat Shokouhi</a>, <a href="https://github.com/jchipmunk">Andrey Pustovetov</a>, <a href="https://github.com/adasari">Anil Dasari</a>, <a href="https://github.com/ani-sha">Anisha Mohanty</a>, <a href="https://github.com/ankurg03">Ankur Gupta</a>, <a href="https://github.com/aristofanisl">Aristofanis Lekkos</a>, <a href="https://github.com/bpaquet">Bertrand Paquet</a>, <a href="https://github.com/cjho0316">Choi Jang Ho</a>, <a href="https://github.com/Naros">Chris Cranford</a>, <a href="https://github.com/chrisrecalis">Chris Recalis</a>, <a href="https://github.com/chungeun-choi">Chungeun Choi</a>, <a href="https://github.com/calmera">Daan Gerits</a>, <a href="https://github.com/DLT1412">Duc Le Tu</a>, <a href="https://github.com/gaurav7261">Gaurav Miglani</a>, <a href="https://github.com/ilyasahsan123">Ilyas Ahsan</a>, <a href="https://github.com/ismailsimsek">Ismail Simsek</a>, <a href="https://github.com/jcechace">Jakub Cechacek</a>, <a href="https://github.com/novotnyJiri">Jiri Novotny</a>, <a href="https://github.com/jpechane">Jiri Pechanec</a>, <a href="https://github.com/joschi">Jochen Schalanda</a>, <a href="https://github.com/zeldanerd24">Kevin Rothenberger</a>, <a href="https://github.com/nrkljo">Lars M. Johansson</a>, <a href="https://github.com/methodmissing">Lourens NaudÃ©</a>, <a href="https://github.com/Maithem">Maithem</a>, <a href="https://github.com/mfvitale">Mario Fiore Vitale</a>, <a href="https://github.com/markbanierink">Mark Banierink</a>, <a href="https://github.com/MartinMedek">Martin Medek</a>, <a href="https://github.com/augi">Michal AugustÃ½n</a>, <a href="https://github.com/michal-k-gl">Michal Pioun</a>, <a href="https://github.com/obabec">Ondrej Babec</a>, <a href="https://github.com/ppiastucki-vgw">Piotr Piastucki</a>, <a href="https://github.com/PradeepNain">Pradeep Nain</a>, <a href="https://github.com/rajdangwal">Rajendra Dangwal</a>, <a href="https://github.com/roldanbob">Robert Roldan</a>, <a href="https://github.com/rmoff">Robin Moffatt</a>, <a href="https://github.com/rkudryashov">Roman Kudryashov</a>, <a href="https://github.com/sullis">Sean C. Sullivan</a>, <a href="https://github.com/selman-genc-alg">Selman GenÃ§</a>, <a href="https://github.com/joontube">Seongjoon Jeong</a>, Indra Shukla, <a href="https://github.com/SylvainMarty">Sylvain Marty</a>, <a href="https://github.com/twthorn">Thomas Thornton</a>, <a href="https://github.com/TomaszGaweda">Tomasz GawÄ™da</a>, <a href="https://github.com/ramanenka">Vadzim Ramanenka</a>, <a href="https://github.com/vjuranek">Vojtech Juranek</a>, <a href="https://github.com/vjuranek">VojtÄ›ch JurÃ¡nek</a>, <a href="https://github.com/einar-rt">einar-rt</a>, <a href="https://github.com/ismailsimsek">ismail simsek</a>, <a href="https://github.com/leoloel">leoloel</a>, and Mathijs van den Worm!</p> </div> </div> </div> <div class="sect1"> <h2 id="whats-next">What&#8217;s next &amp; Outlook</h2> <div class="sectionbody"> <div class="paragraph"> <p>With the release of Debezium 2.7, the team is now switching gears and heavily focusing on the next major milestone, <strong>Debezium 3.0</strong>. This next major release includes a variety of changes, including but not limited to:</p> </div> <div class="ulist"> <ul> <li> <p>Java 17 as baseline</p> </li> <li> <p>Kafka 3.1+ as baseline</p> </li> <li> <p>New off-heap Oracle cache implementations based on EhCache &amp; Hazelcast</p> </li> <li> <p>Exactly-once semantics support for other relational connectors</p> </li> <li> <p>Sink connector for MongoDB</p> </li> <li> <p>and more</p> </li> </ul> </div> <div class="paragraph"> <p>This list represents a quick glance view at just what&#8217;s at the top of our queue, and is subject to change. If you&#8217;d like to get involved in the conversation about Debezium 3.0 and the next evolution of the project, contact us on the <a href="https://groups.google.com/g/debezium">mailing list</a> or <a href="https://debezium.zulipchat.com/login/#narrow/stream/302529-users">Zulip chat</a>. As always, please review our <a href="https://debezium.io/roadmap">road map</a> for more details.</p> </div> <div class="paragraph"> <p>As summer is in full swing and holiday plans are starting for many, be safe. Until next time&#8230;&#8203;</p> </div> </div> </div></div> </div> <div class="well"> <div class="row"> <div class="col-md-8"> <h2>Chris Cranford</h2> <p> <span class="bio-size">Chris is a software engineer at Red Hat. He previously was a member of the Hibernate ORM team and now works on Debezium. He lives in North Carolina just a few hours from Red Hat towers.</span> </p> <p class="bio-size"> <a href="https://github.com/naros"> <i class="icon-github"></i> </a> &nbsp; <a href="https://www.linkedin.com/in/crancran"> <i class="icon-linkedin"></i> </a> &nbsp; </p> </div> <div class="col-md-4"> <img alt="" class="img-responsive pull-right portrait" src="/assets/images/ccranfor.jpg"/> </div> </div> </div> <ul class="pager pager-blog"> <li class="previous"> <a href="/blog/2024/06/06/debezium-2-7-beta1-released/" class="previous"> &laquo; Previous</a> </li> <li class="next"><a href="/blog/2024/07/08/async-embedded-engine/">Next &raquo; </a></li> </ul> <div class="row"> <div class="col-md-12"> <hr> <h2>About Debezium</h2> <p> Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>. </p> </div> </div> <div class="row"> <div class="col-md-12"> <h2>Get involved</h2> <p> We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://debezium.zulipchat.com/#narrow/stream/302529-users">chat with us on Zulip</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.redhat.com/projects/DBZ/issues/">log an issue</a>. </p> </div> </div> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://debezium.io/blog/2024/07/01/debezium-2-7-final-released/",this.page.identifier="https://debezium.io/blog/2024/07/01/debezium-2-7-final-released/"};!function(){var e=document,i=e.createElement("script");i.src="https://Debezium.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(i)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> <footer class="container"> <div> <div class="row mr-0 ml-0"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2024 Debezium Community <br/> <br/> <i class="icon-fire"></i> Mixed with <a href="https://getbootstrap.com/">Bootstrap</a>, baked by <a href="https://jekyllrb.com/">Jekyll</a>. <br/> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br/> <i class="icon-flag-alt"></i> Code released under <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br/> <i class="icon-file-alt"></i> <a href="https://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="https://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> <p>Rev: <a target="_blank" href="https://github.com/debezium/debezium.github.io/commit/a6ad8220b2375cd837a4e3816c001091ec17990f">a6ad822</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li><a href="/documentation/reference/stable/features.html" title="Features">Features</a></li> <li> <a href="/documentation/reference/stable/install.html" title="Install">Install</a> </li> <li> <a href="/documentation/reference/stable/architecture.html" title="Architecture">Architecture</a> </li> <li><a href="/documentation/faq/" title="FAQ">FAQ</a></li> <li> <a href="/community/contribute/" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li><a href="/blog" title="Blog">Blog</a></li> <li> <a href="https://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li><a href="https://github.com/debezium" title="GitHub">GitHub</a></li> <li><a href="https://debezium.zulipchat.com/#narrow/stream/302529-users" title="Chat">Chat</a></li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="https://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <a href="https://www.redhat.com/"> <img src="/assets/images/Logo-Red_Hat-Sponsored_By-B-Standard-RGB.svg"/> </a> </div> </div> </div> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76464546-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-76464546-1");</script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> <script type="text/javascript" src="/assets/javascript/vanilla-back-to-top.min.js"></script> <script type="text/javascript" src="/assets/javascript/highlight.min.js"></script> <script>addBackToTop({scrollDuration:400}),hljs.initHighlightingOnLoad();</script> </body> </html>