<!DOCTYPE html> <html> <head> <title>Debezium 2.7.1.Final Released</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta content="Debezium" property="og:site_name"> <meta content="Debezium 2.7.1.Final Released" property="og:title"> <meta content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png" property="og:image" name="image"> <meta property="og:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta property="og:url" content="https://debezium.io/blog/2024/08/08/debezium-2-7-1-final-released/"> <meta name="twitter:site" content="@debezium"> <meta name="twitter:title" content="Debezium 2.7.1.Final Released"> <meta name="twitter:creator" content="@ccranfor"> <meta name="twitter:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png"> <meta property="twitter:url" content="https://debezium.io/blog/2024/08/08/debezium-2-7-1-final-released/"> <link rel="alternate" type="application/rss+xml" title="Debezium Blog" href="/blog.atom"> <link rel="shortcut icon" type="image/png" href="/favicon.ico"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css"/> <link rel="stylesheet" href="/assets/css/custom.css"/> <link rel="stylesheet" href="/assets/css/highlight.min.css"/> <link rel="stylesheet" href="/assets/css/coderay.css"/> </head> <body class="post"> <div id="rhbar"> <a class="jbdevlogo" href="https://developers.redhat.com"></a> <a class="rhlogo" href="https://www.redhat.com/"></a> </div> <div id> <div class="container" id="content"> <nav class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed border-0" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"><img class="project-logo" src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 5px; margin-top: -5px;"></a> </div> <div class="collapse navbar-collapse collapsed" id="navigation"> <ul class="nav navbar-nav pull-right"> <li> <a href="/documentation/faq" class="">FAQ</a> </li> <li class="item"> <a href="/documentation/" class="">Documentation</a> </li> <li> <a href="/releases/" class="">Releases</a> </li> <li> <a href="/community/" class="">Community</a> </li> <li class="active"> <a href="/blog/" class="active">Blog</a> </li> </ul> </div> </div> </nav> <div class="row post-text-padding row-no-expand"> <div class="col-md-3"><div id="leftdocnav"> <div class="hidden-lg hidden-md hidden-sm"> <button class="navbar-toggle docssubmenu-toggle collapsed" data-target="#docssubmenu" data-toggle="collapse" style=" float: none; background-color: #656565; border-color: #656565; width: 100%; color: #fff; "> Navigation Menu </button> </div> <div class="collapse" id="docssubmenu"> <div class="doc-pills"> <ul class="nav nav-pills nav-stacked"> <li class="item"> <a href="/blog">Home</a> <div class="icon"><span class="icon-home"></span></div> </li> <li class="item"> <a href="/archives">Archive</a> <div class="icon"><span class="icon-arrow-down"></span></div> </li> <li class="item"> <a href="/blog.atom">Feed</a> <div class="icon"><span class="icon-rss"></span></div> </li> </ul> </div> <p></p> <div class="featured-posts"> <div id="#featured" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;">Featured Posts</div> <ul style="padding-inline-start: 22px;"> <li style="margin-bottom: 3px;"> <a href="/blog/2024/10/14/Detect-data-mutation-patterns-with-Debezium/" style="font-size: 95%;"> Detect data mutation patterns with Debezium </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2024/07/08/async-embedded-engine/" style="font-size: 95%;"> Debezium asynchronous engine </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2024/01/11/Debezium-and-TimescaleDB/" style="font-size: 95%;"> Debezium and TimescaleDB </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/12/20/JDBC-sink-connector-batch-support/" style="font-size: 95%;"> Streamlined Performance: Debezium JDBC connector batch support </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/10/19/Debezium-Operator-Takes-off-to-the-Clouds/" style="font-size: 95%;"> Debezium Operator Takes off to the Clouds </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/10/05/Debezium-JMX-signaling-and-notifications/" style="font-size: 95%;"> Debezium signaling and notifications - Part 3: JMX channel </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/09/23/flink-spark-online-learning/" style="font-size: 95%;"> Online machine learning with the data streams from the database </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/07/10/custom-http-signaling-notification/" style="font-size: 95%;"> Debezium signaling and notifications - Part 2: Customisation </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/06/27/Debezium-signaling-and-notifications/" style="font-size: 95%;"> Debezium signaling and notifications - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/05/02/tensorflow-mnist-classification/" style="font-size: 95%;"> Image classification with Debezium and TensorFlow </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/11/04/streaming-vitess-at-bolt/" style="font-size: 95%;"> Streaming Vitess at Bolt </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/02/10/event-sourcing-vs-cdc/" style="font-size: 95%;"> Distributed Data for Microservices — Event Sourcing vs. Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/10/01/audit-logs-with-change-data-capture-and-stream-processing/" style="font-size: 95%;"> Building Audit Logs with Change Data Capture and Stream Processing </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/07/12/streaming-cassandra-at-wepay-part-1/" style="font-size: 95%;"> Streaming Cassandra at WePay - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/" style="font-size: 95%;"> Reliable Microservices Data Exchange With the Outbox Pattern </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/12/05/automating-cache-invalidation-with-change-data-capture/" style="font-size: 95%;"> Automating Cache Invalidation With Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/09/20/materializing-aggregate-views-with-hibernate-and-debezium/" style="font-size: 95%;"> Materializing Aggregate Views With Hibernate and Debezium </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/07/19/advantages-of-log-based-change-data-capture/" style="font-size: 95%;"> Five Advantages of Log-Based Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/03/08/creating-ddd-aggregates-with-debezium-and-kafka-streams/" style="font-size: 95%;"> Creating DDD aggregates with Debezium and Kafka Streams </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/01/17/streaming-to-elasticsearch/" style="font-size: 95%;"> Streaming Data Changes from Your Database to Elasticsearch </a> </li> </ul> </div> <p></p> <p></p> <div class="cloud-tags"> <div id="tags" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;"> Tags </div> <div class="tag-cloud"> <span class="site-tag"> <a href="/tag/analytics/" style="font-size: 82%"> analytics </a> </span> <span class="site-tag"> <a href="/tag/announcement/" style="font-size: 82%"> announcement </a> </span> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 82%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 96%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apicurio/" style="font-size: 82%"> apicurio </a> </span> <span class="site-tag"> <a href="/tag/avro/" style="font-size: 84%"> avro </a> </span> <span class="site-tag"> <a href="/tag/aws/" style="font-size: 82%"> aws </a> </span> <span class="site-tag"> <a href="/tag/batch/" style="font-size: 82%"> batch </a> </span> <span class="site-tag"> <a href="/tag/caassandra/" style="font-size: 86%"> caassandra </a> </span> <span class="site-tag"> <a href="/tag/camel/" style="font-size: 82%"> camel </a> </span> <span class="site-tag"> <a href="/tag/cassandra/" style="font-size: 308%"> cassandra </a> </span> <span class="site-tag"> <a href="/tag/cdc/" style="font-size: 82%"> cdc </a> </span> <span class="site-tag"> <a href="/tag/channels/" style="font-size: 82%"> channels </a> </span> <span class="site-tag"> <a href="/tag/community/" style="font-size: 124%"> community </a> </span> <span class="site-tag"> <a href="/tag/community-stories/" style="font-size: 84%"> community stories </a> </span> <span class="site-tag"> <a href="/tag/connectors/" style="font-size: 82%"> connectors </a> </span> <span class="site-tag"> <a href="/tag/containers/" style="font-size: 82%"> containers </a> </span> <span class="site-tag"> <a href="/tag/cqrs/" style="font-size: 84%"> cqrs </a> </span> <span class="site-tag"> <a href="/tag/custom/" style="font-size: 82%"> custom </a> </span> <span class="site-tag"> <a href="/tag/datalake/" style="font-size: 82%"> datalake </a> </span> <span class="site-tag"> <a href="/tag/db2/" style="font-size: 292%"> db2 </a> </span> <span class="site-tag"> <a href="/tag/ddd/" style="font-size: 82%"> ddd </a> </span> <span class="site-tag"> <a href="/tag/debezium/" style="font-size: 110%"> debezium </a> </span> <span class="site-tag"> <a href="/tag/debezium-server/" style="font-size: 94%"> debezium server </a> </span> <span class="site-tag"> <a href="/tag/debezium-ui/" style="font-size: 90%"> debezium ui </a> </span> <span class="site-tag"> <a href="/tag/deduplication/" style="font-size: 82%"> deduplication </a> </span> <span class="site-tag"> <a href="/tag/discussion/" style="font-size: 114%"> discussion </a> </span> <span class="site-tag"> <a href="/tag/docker/" style="font-size: 188%"> docker </a> </span> <span class="site-tag"> <a href="/tag/elasticsearch/" style="font-size: 82%"> elasticsearch </a> </span> <span class="site-tag"> <a href="/tag/event-sourcing/" style="font-size: 82%"> event sourcing </a> </span> <span class="site-tag"> <a href="/tag/exactly-once-semantics/" style="font-size: 82%"> exactly once semantics </a> </span> <span class="site-tag"> <a href="/tag/example/" style="font-size: 88%"> example </a> </span> <span class="site-tag"> <a href="/tag/examples/" style="font-size: 118%"> examples </a> </span> <span class="site-tag"> <a href="/tag/features/" style="font-size: 96%"> features </a> </span> <span class="site-tag"> <a href="/tag/fedora/" style="font-size: 82%"> fedora </a> </span> <span class="site-tag"> <a href="/tag/flink/" style="font-size: 84%"> flink </a> </span> <span class="site-tag"> <a href="/tag/hiring/" style="font-size: 84%"> hiring </a> </span> <span class="site-tag"> <a href="/tag/ibmi/" style="font-size: 116%"> ibmi </a> </span> <span class="site-tag"> <a href="/tag/iceberg/" style="font-size: 82%"> iceberg </a> </span> <span class="site-tag"> <a href="/tag/images/" style="font-size: 82%"> images </a> </span> <span class="site-tag"> <a href="/tag/informix/" style="font-size: 126%"> informix </a> </span> <span class="site-tag"> <a href="/tag/integration/" style="font-size: 86%"> integration </a> </span> <span class="site-tag"> <a href="/tag/introduction/" style="font-size: 84%"> introduction </a> </span> <span class="site-tag"> <a href="/tag/jaeger/" style="font-size: 82%"> jaeger </a> </span> <span class="site-tag"> <a href="/tag/jdbc/" style="font-size: 128%"> jdbc </a> </span> <span class="site-tag"> <a href="/tag/json/" style="font-size: 82%"> json </a> </span> <span class="site-tag"> <a href="/tag/kafka/" style="font-size: 94%"> kafka </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 82%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 86%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kogito/" style="font-size: 82%"> kogito </a> </span> <span class="site-tag"> <a href="/tag/ksql/" style="font-size: 82%"> ksql </a> </span> <span class="site-tag"> <a href="/tag/kubernetes/" style="font-size: 86%"> kubernetes </a> </span> <span class="site-tag"> <a href="/tag/lakehouse/" style="font-size: 82%"> lakehouse </a> </span> <span class="site-tag"> <a href="/tag/machine-learning/" style="font-size: 86%"> machine learning </a> </span> <span class="site-tag"> <a href="/tag/mariadb/" style="font-size: 124%"> mariadb </a> </span> <span class="site-tag"> <a href="/tag/metrics/" style="font-size: 82%"> metrics </a> </span> <span class="site-tag"> <a href="/tag/microservices/" style="font-size: 84%"> microservices </a> </span> <span class="site-tag"> <a href="/tag/mongo/" style="font-size: 86%"> mongo </a> </span> <span class="site-tag"> <a href="/tag/mongodb/" style="font-size: 310%"> mongodb </a> </span> <span class="site-tag"> <a href="/tag/monitoring/" style="font-size: 82%"> monitoring </a> </span> <span class="site-tag"> <a href="/tag/mysql/" style="font-size: 446%"> mysql </a> </span> <span class="site-tag"> <a href="/tag/news/" style="font-size: 112%"> news </a> </span> <span class="site-tag"> <a href="/tag/newsletter/" style="font-size: 88%"> newsletter </a> </span> <span class="site-tag"> <a href="/tag/notifications/" style="font-size: 86%"> notifications </a> </span> <span class="site-tag"> <a href="/tag/online-learning/" style="font-size: 84%"> online learning </a> </span> <span class="site-tag"> <a href="/tag/operator/" style="font-size: 84%"> operator </a> </span> <span class="site-tag"> <a href="/tag/oracle/" style="font-size: 342%"> oracle </a> </span> <span class="site-tag"> <a href="/tag/outbox/" style="font-size: 280%"> outbox </a> </span> <span class="site-tag"> <a href="/tag/performance/" style="font-size: 82%"> performance </a> </span> <span class="site-tag"> <a href="/tag/postgres/" style="font-size: 416%"> postgres </a> </span> <span class="site-tag"> <a href="/tag/presentation/" style="font-size: 84%"> presentation </a> </span> <span class="site-tag"> <a href="/tag/production/" style="font-size: 82%"> production </a> </span> <span class="site-tag"> <a href="/tag/quarkus/" style="font-size: 92%"> quarkus </a> </span> <span class="site-tag"> <a href="/tag/questdb/" style="font-size: 82%"> questdb </a> </span> <span class="site-tag"> <a href="/tag/rds/" style="font-size: 84%"> rds </a> </span> <span class="site-tag"> <a href="/tag/releases/" style="font-size: 428%"> releases </a> </span> <span class="site-tag"> <a href="/tag/schema/" style="font-size: 82%"> schema </a> </span> <span class="site-tag"> <a href="/tag/scylla/" style="font-size: 82%"> scylla </a> </span> <span class="site-tag"> <a href="/tag/secrets/" style="font-size: 82%"> secrets </a> </span> <span class="site-tag"> <a href="/tag/sentry/" style="font-size: 82%"> sentry </a> </span> <span class="site-tag"> <a href="/tag/serialization/" style="font-size: 82%"> serialization </a> </span> <span class="site-tag"> <a href="/tag/signaling/" style="font-size: 86%"> signaling </a> </span> <span class="site-tag"> <a href="/tag/smt/" style="font-size: 84%"> smt </a> </span> <span class="site-tag"> <a href="/tag/snapshots/" style="font-size: 84%"> snapshots </a> </span> <span class="site-tag"> <a href="/tag/spanner/" style="font-size: 168%"> spanner </a> </span> <span class="site-tag"> <a href="/tag/spark/" style="font-size: 84%"> spark </a> </span> <span class="site-tag"> <a href="/tag/sql/" style="font-size: 84%"> sql </a> </span> <span class="site-tag"> <a href="/tag/sqlserver/" style="font-size: 356%"> sqlserver </a> </span> <span class="site-tag"> <a href="/tag/tensorflow/" style="font-size: 82%"> tensorflow </a> </span> <span class="site-tag"> <a href="/tag/testcontainers/" style="font-size: 88%"> testcontainers </a> </span> <span class="site-tag"> <a href="/tag/tests/" style="font-size: 82%"> tests </a> </span> <span class="site-tag"> <a href="/tag/time-series/" style="font-size: 82%"> time series </a> </span> <span class="site-tag"> <a href="/tag/timescaledb/" style="font-size: 82%"> timescaledb </a> </span> <span class="site-tag"> <a href="/tag/topics/" style="font-size: 82%"> topics </a> </span> <span class="site-tag"> <a href="/tag/tracing/" style="font-size: 82%"> tracing </a> </span> <span class="site-tag"> <a href="/tag/transactions/" style="font-size: 82%"> transactions </a> </span> <span class="site-tag"> <a href="/tag/ui/" style="font-size: 82%"> ui </a> </span> <span class="site-tag"> <a href="/tag/vagrant/" style="font-size: 82%"> vagrant </a> </span> <span class="site-tag"> <a href="/tag/vitess/" style="font-size: 272%"> vitess </a> </span> <span class="site-tag"> <a href="/tag/website/" style="font-size: 84%"> website </a> </span> </div> </div> </div> </div> </div> <div class="col-md-9"> <div class="post"> <div class="row" style="margin-left: 0; margin-right: 0; margin-bottom: 10px"> <div class="col-sm-12" style="padding-left: 0px"> <div style="display: table-cell; vertical-align: top"> <div style=" width: 72px; border: 1px solid #ccc; padding: 3px; display: inline-block; "> <img src="/assets/images/ccranfor.jpg" style="width: 64px;"> </div> </div> <div style="display: table-cell; vertical-align: top"> <div style="margin-left: 8px"> <span class="hidden-sm hidden-xs" style="font-size: 2.75rem; line-height: 1"> <a href="/blog/2024/08/08/debezium-2-7-1-final-released/">Debezium 2.7.1.Final Released</a> </span> <span class="hidden-md hidden-lg" style="font-size: 2rem; line-height: 1"> <a href="/blog/2024/08/08/debezium-2-7-1-final-released/">Debezium 2.7.1.Final Released</a> </span> <div class="byline" style="line-height: 1"> <em> August 8, 2024 by </em> <em> Chris Cranford </em> <div class="hidden-xs" style="margin-top: 5px"> <a class="label label-info hidden-sm hidden-xs" href="/tag/releases/">releases</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mongodb/">mongodb</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mysql/">mysql</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/mariadb/">mariadb</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/postgres/">postgres</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/sqlserver/">sqlserver</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/cassandra/">cassandra</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/oracle/">oracle</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/db2/">db2</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/vitess/">vitess</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/outbox/">outbox</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/spanner/">spanner</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/jdbc/">jdbc</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/informix/">informix</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/ibmi/">ibmi</a> </div> </div> </div> </div> </div> </div> <div class="grid__item width-12-12"><div class="paragraph"> <p>I am pleased to announce the first maintenance release of Debezium 2.7, <strong>2.7.1.Final</strong>. This maintenance release focuses on addressing a number of stability issues, including improvements to ad-hoc snapshots, closing of transformations in the embedded engine, improvements to the Oracle LogMiner implementation, Vitess epoch calculations, and more&#8230;&#8203;</p> </div> <div class="paragraph"> <p>Let&#8217;s dive into these changes&#8230;&#8203;</p> </div> <div class="paragraph"> <p></p> </div> <div class="sect1"> <h2 id="important-fixes">Fixes and stability improvements</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium 2.7.1.Final introduces several new bug fixes and stability improvements, lets take a look at a few of them.</p> </div> <div class="sect2"> <h3 id="mariadb_is_now_included_in_debezium_container_images">MariaDB is now included in Debezium container images</h3> <div class="paragraph"> <p>In Debezium 2.7.0.Final, we mistakenly missed including the new Debezium for MariaDB connector in the container images, which necessitated users to manually install the MariaDB connector. This has been fixed and Debezium 2.7.1.Final&#8217;s container images now include all connectors like they did previously (<a href="https://issues.redhat.com/browse/DBZ-8008">DBZ-8008</a>).</p> </div> </div> <div class="sect2"> <h3 id="support_for_mariadb_rename_table">Support for MariaDB <code>RENAME TABLE</code></h3> <div class="paragraph"> <p>In Debezium 2.7 with the separation of MariaDB and MySQL into their unique connectors, each also use a unique grammar to parse SQL statements. A regression was identified that the new MariaDB grammar did not support the SQL syntax for <code>RENAME TABLE</code> (<a href="https://issues.redhat.com/browse/DBZ-8066">DBZ-8066</a>). This has been fixed and is fully supported in both MySQL and MariaDB.</p> </div> </div> <div class="sect2"> <h3 id="jdbc_sink_partition_rebalance_fixed">JDBC sink partition rebalance fixed</h3> <div class="paragraph"> <p>In prior versions of the Debezium JDBC sink, users may have noticed several strange messages in their connector logs that may resemble the following output:</p> </div> <div class="exampleblock"> <div class="content"> <div class="paragraph"> <p>Ignoring invalid task provided offset topicXYZ-1 OffsetAndMetadata{offset=4966, leaderEpoch=null, metadata=''}&#8201;&#8212;&#8201;partition not assigned, assignment=[topicXYZ-1] (org.apache.kafka.connect.runtime.WorkerSinkTask:434)</p> </div> </div> </div> <div class="paragraph"> <p>Thanks to a user report (<a href="https://issues.redhat.com/browse/DBZ-7946">DBZ-7946</a>), it was identified that the JDBC sink connector was not properly handling the rebalance of partitions across multiple tasks. This regression has been fixed in <strong>2.7.1.Final</strong>, and when a partition rebalance occurs, the partition will be closed by the task that no longer will manage the partition; ergo, the above messages will no longer be written to the connector logs.</p> </div> </div> <div class="sect2"> <h3 id="ad_hoc_snapshot_improvements">Ad-hoc snapshot improvements</h3> <div class="paragraph"> <p>In Debezium 2.7, users may have noticed that if you picked the <code>insert_delete</code> watermark strategy for handling signal table entries, that the connector would eventually fail with a <code>StackOverflowError</code> (<a href="https://issues.redhat.com/browse/DBZ-8011">DBZ-8011</a>). With Debezium 2.7.1.Final or later, this regression has been fixed and users can once again use the <code>insert_delete</code> watermark strategy.</p> </div> <div class="paragraph"> <p>In addition, there was also a report where sending an ad-hoc snapshot signal that contained a regular expression that matches no database tables would cause the ad-hoc snapshot process to fail with an <code>"Unexpected result ."</code> error (<a href="https://issues.redhat.com/browse/DBZ-8050">DBZ-8050</a>). This has also been fixed so the ad-hoc snapshot will gracefully skip the signal as no matching tables were found.</p> </div> <div class="paragraph"> <p>Finally, it was also identified that ad-hoc blocking snapshots could lead to a <code>CommunicationsException</code> due to how the connection was being managed by the initial and blocking snapshot code paths (<a href="https://issues.redhat.com/browse/DBZ-8058">DBZ-8058</a>). This has been fixed in Debezium 2.7.1.Final by having the blocking snapshot validate and re-open the connection if required.</p> </div> </div> <div class="sect2"> <h3 id="embedded_engine_now_closes_transformations">Embedded engine now closes transformations</h3> <div class="paragraph"> <p>The new asynchronous embedded engine was recently released by the Debezium team and continues to improve across releases. As a part of our continuous improvements, it was identified that single message transforms did not have their <code>close()</code> method being called. This could easily lead to resource leaks depending on what the transformation does.</p> </div> <div class="paragraph"> <p>This release introduces a fix to automatically close transformations to avoid this problem (<a href="https://issues.redhat.com/browse/DBZ-8106">DBZ-8106</a>).</p> </div> </div> <div class="sect2"> <h3 id="oracle_connector_could_produce_a_nullpointerexception">Oracle connector could produce a NullPointerException</h3> <div class="paragraph"> <p>A change was added to the Debezium Oracle connector (<a href="https://issues.redhat.com/browse/DBZ-8055">DBZ-8055</a>) that to address several race concerns with Oracle LogMiner and capturing changes. Unfortunately, that change introduced a corner case where the connector would recalculate the upper mining range, and in such cases would lead to a <code>NullPointerException</code>.</p> </div> <div class="paragraph"> <p>A new fix (<a href="https://issues.redhat.com/browse/DBZ-8119">DBZ-8119</a>) was included in Debezium 2.7.1.Final to correct the problem. Oracle connector users are recommended to upgrade to 2.7.1.Final and to skip 2.7.0.Final to avoid this regression.</p> </div> </div> <div class="sect2"> <h3 id="vitess_epoch_calculations_fixed">Vitess epoch calculations fixed</h3> <div class="paragraph"> <p>It was identified that there were some corner cases where the transaction epoch value was being reset when a transaction ID was unavailable (<a href="https://issues.redhat.com/browse/DBZ-8087">DBZ-8087</a>). This is unexpected behavior as the transaction epoch should monotonically increase, and the resetting to zero broke that expectation. A fix has been added to avoid the reset and to restore the expected transaction epoch behavior.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="other-fixes">Other fixes</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p>Document new MariaDB connector <a href="https://issues.redhat.com/browse/DBZ-7786">DBZ-7786</a></p> </li> <li> <p>Clarify that Oracle connector does not read from physical standby <a href="https://issues.redhat.com/browse/DBZ-7895">DBZ-7895</a></p> </li> <li> <p>Issue with Hybrid mode and DDL change <a href="https://issues.redhat.com/browse/DBZ-7991">DBZ-7991</a></p> </li> <li> <p>Incorrect offset/history property mapping generated <a href="https://issues.redhat.com/browse/DBZ-8007">DBZ-8007</a></p> </li> <li> <p>Bump Infinispan to 14.0.29.Final <a href="https://issues.redhat.com/browse/DBZ-8010">DBZ-8010</a></p> </li> <li> <p>JDBC primary.key.fields cannot be empty when i set insert.mode to upsert and primary.key.mode record_value <a href="https://issues.redhat.com/browse/DBZ-8018">DBZ-8018</a></p> </li> <li> <p>Unable to acquire buffer lock, buffer queue is likely full <a href="https://issues.redhat.com/browse/DBZ-8022">DBZ-8022</a></p> </li> <li> <p>ORA-65090: operation only allowed in a container database when connecting to a non-CDB database <a href="https://issues.redhat.com/browse/DBZ-8023">DBZ-8023</a></p> </li> <li> <p>Add disclaimer that PostProcessors and CustomConverters are Debezium source connectors only <a href="https://issues.redhat.com/browse/DBZ-8031">DBZ-8031</a></p> </li> <li> <p>Added type to Prometheus JMX exporter <a href="https://issues.redhat.com/browse/DBZ-8036">DBZ-8036</a></p> </li> <li> <p>Add <code>kafka.producer</code> metrics to debezium-server jmx exporter config <a href="https://issues.redhat.com/browse/DBZ-8037">DBZ-8037</a></p> </li> <li> <p>Oracle connector inconsistency in redo log switches <a href="https://issues.redhat.com/browse/DBZ-8055">DBZ-8055</a></p> </li> <li> <p>Oracle histogram metrics are no longer printed in logs correctly <a href="https://issues.redhat.com/browse/DBZ-8068">DBZ-8068</a></p> </li> <li> <p>In hybrid log.mining.strategy reconstruction logs should be set to DEBUG <a href="https://issues.redhat.com/browse/DBZ-8070">DBZ-8070</a></p> </li> <li> <p>Support capturing BLOB column types during snapshot for MySQL/MariaDB <a href="https://issues.redhat.com/browse/DBZ-8076">DBZ-8076</a></p> </li> <li> <p>Conditionalize reference to the MySQL default value in description of <code>schema.history.internal.store.only.captured.databases.ddl</code> <a href="https://issues.redhat.com/browse/DBZ-8081">DBZ-8081</a></p> </li> <li> <p>After changing the column datatype from int to float the Debezium fails to round it and i get a null value for this field in the stream <a href="https://issues.redhat.com/browse/DBZ-8089">DBZ-8089</a></p> </li> <li> <p>MySQL and MariaDB keyword YES cannot be parsed as a column name <a href="https://issues.redhat.com/browse/DBZ-8092">DBZ-8092</a></p> </li> <li> <p>Update third-party LICENSE with LGPL forMariaDB Connector/J <a href="https://issues.redhat.com/browse/DBZ-8099">DBZ-8099</a></p> </li> <li> <p>NotificationIT tests seemingly seem to fail due to stepping on one another <a href="https://issues.redhat.com/browse/DBZ-8100">DBZ-8100</a></p> </li> <li> <p>ORA-26928 - Unable to communicate with XStream apply coordinator process should be retriable <a href="https://issues.redhat.com/browse/DBZ-8102">DBZ-8102</a></p> </li> <li> <p>Converters documentation uses incorrect examples <a href="https://issues.redhat.com/browse/DBZ-8104">DBZ-8104</a></p> </li> <li> <p>Remove reference to`additional condition` signal parameter from ad hoc snapshots doc <a href="https://issues.redhat.com/browse/DBZ-8107">DBZ-8107</a></p> </li> <li> <p>Don&#8217;t close connection after loading timescale metadata in TimescaleDb SMT <a href="https://issues.redhat.com/browse/DBZ-8109">DBZ-8109</a></p> </li> <li> <p>Primary Key Update/ Snapshot Race Condition <a href="https://issues.redhat.com/browse/DBZ-8113">DBZ-8113</a></p> </li> <li> <p>Docs: connect-log4j.properties instead log4j.properties <a href="https://issues.redhat.com/browse/DBZ-8117">DBZ-8117</a></p> </li> <li> <p>TimescaleDbDatabaseTest.shouldTransformCompressedChunks is failing <a href="https://issues.redhat.com/browse/DBZ-8123">DBZ-8123</a></p> </li> <li> <p>Update Oracle connector doc to describe options for restricting access permissions for the Debezium LogMiner user <a href="https://issues.redhat.com/browse/DBZ-8124">DBZ-8124</a></p> </li> </ul> </div> <div class="paragraph"> <p>In total there were <a href="https://issues.redhat.com/issues/?jql=project%20%3D%20DBZ%20and%20fixVersion%20%20in%20(2.7.1.Final)">37 issues</a> resolved in Debezium 2.7.1.Final. The list of changes can also be found in our <a href="https://debezium.io/releases/2.7">release notes</a>.</p> </div> <div class="paragraph"> <p>A big thank you to all the contributors from the community who worked diligently on this release: <a href="https://github.com/andreas-ibm">Andreas Martens</a>, <a href="https://github.com/jchipmunk">Andrey Pustovetov</a>, <a href="https://github.com/ani-sha">Anisha Mohanty</a>, <a href="https://github.com/bpaquet">Bertrand Paquet</a>, <a href="https://github.com/Naros">Chris Cranford</a>, <a href="https://github.com/cjmencias">Christian Jacob Mencias</a>, <a href="https://github.com/DLT1412">Duc Le Tu</a>, <a href="https://github.com/gaurav7261">Gaurav Miglani</a>, <a href="https://github.com/gunnarmorling">Gunnar Morling</a>, <a href="https://github.com/harveyyue">Harvey Yue</a>, <a href="https://github.com/HenkvanDyk">Henk van Dyk</a>, <a href="https://github.com/blcksrx">Hossein Torabi</a>, <a href="https://github.com/nicholas-fwang">Inki Hwang</a>, <a href="https://github.com/jcechace">Jakub Cechacek</a>, <a href="https://github.com/jpechane">Jiri Pechanec</a>, <a href="https://github.com/Naros">M. Gökhan Akgül</a>, <a href="https://github.com/mfvitale">Mario Fiore Vitale</a>, <a href="https://github.com/michal-k-gl">Michal Pioun</a>, <a href="https://github.com/mimaison">Mickael Maison</a>, <a href="https://github.com/nguymin4">Minh Son Nguyen</a>, <a href="https://github.com/obabec">Ondrej Babec</a>, <a href="https://github.com/missingcharacter">Ricardo Rosales</a>, <a href="https://github.com/roldanbob">Robert Roldan</a>, <a href="https://github.com/rkudryashov">Roman Kudryashov</a>, <a href="https://github.com/ryanvanhuuksloot">Ryan van Huuksloot</a>, <a href="https://github.com/joontube">Seongjoon Jeong</a>, <a href="https://github.com/twthorn">Thomas Thornton</a>, <a href="https://github.com/blcksrx">Hossein Torabi</a>, <a href="https://github.com/ramanenka">Vadzim Ramanenka</a>, <a href="https://github.com/vjuranek">Vojtech Juranek</a>, and <a href="https://github.com/j2gg0s">Yanjie Wang</a>!</p> </div> </div> </div></div> </div> <div class="well"> <div class="row"> <div class="col-md-8"> <h2>Chris Cranford</h2> <p> <span class="bio-size">Chris is a software engineer at Red Hat. He previously was a member of the Hibernate ORM team and now works on Debezium. He lives in North Carolina just a few hours from Red Hat towers.</span> </p> <p class="bio-size"> <a href="https://github.com/naros"> <i class="icon-github"></i> </a> &nbsp; <a href="https://www.linkedin.com/in/crancran"> <i class="icon-linkedin"></i> </a> &nbsp; </p> </div> <div class="col-md-4"> <img alt="" class="img-responsive pull-right portrait" src="/assets/images/ccranfor.jpg"/> </div> </div> </div> <ul class="pager pager-blog"> <li class="previous"> <a href="/blog/2024/08/05/Debezium-ui-update/" class="previous"> &laquo; Previous</a> </li> <li class="next"><a href="/blog/2024/08/26/debezium-3.0-beta1-released/">Next &raquo; </a></li> </ul> <div class="row"> <div class="col-md-12"> <hr> <h2>About Debezium</h2> <p> Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>. </p> </div> </div> <div class="row"> <div class="col-md-12"> <h2>Get involved</h2> <p> We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://debezium.zulipchat.com/#narrow/stream/302529-users">chat with us on Zulip</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.redhat.com/projects/DBZ/issues/">log an issue</a>. </p> </div> </div> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://debezium.io/blog/2024/08/08/debezium-2-7-1-final-released/",this.page.identifier="https://debezium.io/blog/2024/08/08/debezium-2-7-1-final-released/"};!function(){var e=document,i=e.createElement("script");i.src="https://Debezium.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(i)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> <footer class="container"> <div> <div class="row mr-0 ml-0"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2024 Debezium Community <br/> <br/> <i class="icon-fire"></i> Mixed with <a href="https://getbootstrap.com/">Bootstrap</a>, baked by <a href="https://jekyllrb.com/">Jekyll</a>. <br/> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br/> <i class="icon-flag-alt"></i> Code released under <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br/> <i class="icon-file-alt"></i> <a href="https://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="https://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> <p>Rev: <a target="_blank" href="https://github.com/debezium/debezium.github.io/commit/5c7ea4af87f241caf70b7ef24273affbd05e9244">5c7ea4a</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li><a href="/documentation/reference/stable/features.html" title="Features">Features</a></li> <li> <a href="/documentation/reference/stable/install.html" title="Install">Install</a> </li> <li> <a href="/documentation/reference/stable/architecture.html" title="Architecture">Architecture</a> </li> <li><a href="/documentation/faq/" title="FAQ">FAQ</a></li> <li> <a href="/community/contribute/" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li><a href="/blog" title="Blog">Blog</a></li> <li> <a href="https://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li><a href="https://github.com/debezium" title="GitHub">GitHub</a></li> <li><a href="https://debezium.zulipchat.com/#narrow/stream/302529-users" title="Chat">Chat</a></li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="https://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <a href="https://www.redhat.com/"> <img src="/assets/images/Logo-Red_Hat-Sponsored_By-B-Standard-RGB.svg"/> </a> </div> </div> </div> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76464546-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-76464546-1");</script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> <script type="text/javascript" src="/assets/javascript/vanilla-back-to-top.min.js"></script> <script type="text/javascript" src="/assets/javascript/highlight.min.js"></script> <script>addBackToTop({scrollDuration:400}),hljs.initHighlightingOnLoad();</script> </body> </html>