<!DOCTYPE html> <html lang="en"> <head> <title>Auto-creating Debezium Change Data Topics</title> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="" name="description"> <meta content="" name="author"> <link href="https://static.jboss.org/theme/css/bootstrap-community/3.2.0.2/bootstrap-community.min.css" media="screen" rel="stylesheet"> <!--[if lt IE 9]><script src="https://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--> <link href="https://static.jboss.org/example/images/favicon.ico" rel="shortcut icon"> <link href="https://static.jboss.org/example/images/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"> <link href="https://static.jboss.org/example/images/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"> <link href="https://static.jboss.org/example/images/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"> <link href="https://static.jboss.org/example/images/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"> <link href="/stylesheets/debezium.css" rel="stylesheet" type="text/css"> <style>
  @media (min-width: 980px) {
    .banner { background-image: url(https://static.jboss.org/example/images/debezium-banner-1180px.png); height: 110px;  }
  }
  @media (max-width: 979px) {
    .banner { background-image: url(https://static.jboss.org/example/images/debezium-logo.png); background-repeat:no-repeat; background-position: center bottom; height: 60px; }
  }
  @media (max-width: 650px) {
    .banner { width: 100%; margin: 0px auto; }
  }
  @media (max-width: 450px) {
    .banner { height: 90px; }
  }
</style> <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css" rel="stylesheet"> <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script> <script>
hljs.initHighlightingOnLoad();
</script> <script src="https://static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.min.js"></script> <style>
  /* adjusting the vertical spacing for when a stickynav is engaged */
  .breadcrumb-fixed > .active {
    color: #8c8f91;
  }
  .breadcrumb-fixed {
    margin: 70px 0 10px;
    padding: 8px 15px;
    margin-bottom: 20px;
    list-style: none;
    background-color: #f5f5f5;
    border-radius: 4px;
  }
  
  .breadcrumb-fixed > li {
    display: inline-block;
  }
</style> </head> <body> <div id="rhbar"> <a class="jbdevlogo" href="https://www.jboss.org/projects/about"></a> <a class="rhlogo" href="https://www.redhat.com/"></a> </div> <div id=""> <ul class="visuallyhidden" id="top"> <li> <a accesskey="n" href="#nav" title="Skip to navigation">Skip to navigation</a> </li> <li> <a accesskey="c" href="#page" title="Skip to content">Skip to content</a> </li> </ul> <div class="container" id="content"> <div class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed" data-target="#navbar-1" data-toggle="collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"> <img src="/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 5px; margin-top: -5px;"> </a> </div> <div class="collapse navbar-collapse" id="navbar-1"> <ul class="nav navbar-nav pull-right"> <li class=""><a href="/documentation/faq/">FAQ</a></li> <li class=""><a href="/documentation/">DOCUMENTATION</a></li> <li class=""><a href="/releases/">RELEASES</a></li> <li class=""><a href="/community/">COMMUNITY</a></li> <li class="active"><a href="/blog/">BLOG</a></li> </ul> </div> </div> </div> <div id="equalHeightsLayout"> <div class="row post-text-padding row-no-expand"> <div class="hidden-xs col-sm-3 no-right-padding" id="leftdocnav" style="padding-left: 15px; padding-right: 15px;"> <div class="doc-pills"> <ul class="nav nav-pills nav-stacked"> <li class="item"> <a href="/blog">Home</a> <div class="icon"> <span class="icon-home"></span> </div> </li> <li class="item"> <a href="/blog.atom">Feed</a> <div class="icon"> <span class="icon-rss"></span> </div> </li> </ul> </div> <p></p> <div class="featured-posts"> <div id="featured" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;"> Featured Posts </div> <ul style="padding-inline-start: 22px;"> <li style="margin-bottom: 3px;"> <a href="/blog/2020/02/10/event-sourcing-vs-cdc/" style="font-size: 95%;"> Distributed Data for Microservices — Event Sourcing vs. Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/10/01/audit-logs-with-change-data-capture-and-stream-processing/" style="font-size: 95%;"> Building Audit Logs with Change Data Capture and Stream Processing </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/07/12/streaming-cassandra-at-wepay-part-1/" style="font-size: 95%;"> Streaming Cassandra at WePay - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/" style="font-size: 95%;"> Reliable Microservices Data Exchange With the Outbox Pattern </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/12/05/automating-cache-invalidation-with-change-data-capture/" style="font-size: 95%;"> Automating Cache Invalidation With Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/09/20/materializing-aggregate-views-with-hibernate-and-debezium/" style="font-size: 95%;"> Materializing Aggregate Views With Hibernate and Debezium </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/07/19/advantages-of-log-based-change-data-capture/" style="font-size: 95%;"> Five Advantages of Log-Based Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/03/08/creating-ddd-aggregates-with-debezium-and-kafka-streams/" style="font-size: 95%;"> Creating DDD aggregates with Debezium and Kafka Streams </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/01/17/streaming-to-elasticsearch/" style="font-size: 95%;"> Streaming Data Changes from Your Database to Elasticsearch </a> </li> </ul> </div> <p></p> <div class="cloud-tags"> <div id="tags" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;"> Tags </div> <div class="tag-cloud"> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/apache-kafka/">apache-kafka</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/apicurio/">apicurio</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/avro/">avro</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/aws/">aws</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/camel/">camel</a> </span> <span class="tag tag-2"> <a href="https://debezium.io/blog/tags/cassandra/">cassandra</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/community/">community</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/cqrs/">cqrs</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/db2/">db2</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/debezium-server/">debezium-server</a> </span> <span class="tag tag-2"> <a href="https://debezium.io/blog/tags/discussion/">discussion</a> </span> <span class="tag tag-4"> <a href="https://debezium.io/blog/tags/docker/">docker</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/elasticsearch/">elasticsearch</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/event-sourcing/">event-sourcing</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/example/">example</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/examples/">examples</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/featured/">featured</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/fedora/">fedora</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/integration/">integration</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/introduction/">introduction</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/json/">json</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/kafka/">kafka</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/kafka-streams/">kafka-streams</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/kogito/">kogito</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/ksql/">ksql</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/kubernetes/">kubernetes</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/microservices/">microservices</a> </span> <span class="tag tag-4"> <a href="https://debezium.io/blog/tags/mongodb/">mongodb</a> </span> <span class="tag tag-6"> <a href="https://debezium.io/blog/tags/mysql/">mysql</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/news/">news</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/newsletter/">newsletter</a> </span> <span class="tag tag-3"> <a href="https://debezium.io/blog/tags/oracle/">oracle</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/outbox/">outbox</a> </span> <span class="tag tag-5"> <a href="https://debezium.io/blog/tags/postgres/">postgres</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/presentation/">presentation</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/production/">production</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/quarkus/">quarkus</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/rds/">rds</a> </span> <span class="tag tag-6"> <a href="https://debezium.io/blog/tags/releases/">releases</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/schema/">schema</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/secrets/">secrets</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/sentry/">sentry</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/serialization/">serialization</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/smt/">smt</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/sql/">sql</a> </span> <span class="tag tag-3"> <a href="https://debezium.io/blog/tags/sqlserver/">sqlserver</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/testcontainers/">testcontainers</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/topics/">topics</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/vagrant/">vagrant</a> </span> <span class="tag tag-0"> <a href="https://debezium.io/blog/tags/vitess/">vitess</a> </span> <span class="tag tag-1"> <a href="https://debezium.io/blog/tags/website/">website</a> </span> </div> </div> </div> <div class="col-xs-12 col-sm-9" id="maincol"> <div class="post"> <div class="row" style="margin-left: 0; margin-right: 0; margin-bottom: 10px;"> <div class="col-sm-12" style="padding-left: 0px;"> <div style="display: table-cell; vertical-align: top;"> <div style="width: 72px; border: 1px solid #ccc; padding: 3px; display: inline-block;"> <img src="/images/rkerner.jpg" style="width: 64px;"> </div> </div> <div style="display: table-cell; vertical-align: top;"> <div style="margin-left: 8px;"> <span class="hidden-sm hidden-xs" style="font-size: 2.75rem; line-height: 1;"> <a href="/blog/2020/09/15/debezium-auto-create-topics/">Auto-creating Debezium Change Data Topics</a> </span> <span class="hidden-md hidden-lg" style="font-size: 2rem; line-height: 1;"> <a href="/blog/2020/09/15/debezium-auto-create-topics/">Auto-creating Debezium Change Data Topics</a> </span> <div class="byline" style="line-height: 1;"> <em> September 15, 2020 by René Kerner </em> <div class="hidden-xs" style="margin-top: 5px;"> <a class="hidden-sm hidden-xs label label-info" href="/blog/tags/kafka/">kafka</a> <a class="hidden-sm hidden-xs label label-info" href="/blog/tags/topics/">topics</a> <a class="hidden-sm hidden-xs label label-info" href="/blog/tags/production/">production</a> <a class="hidden-sm hidden-xs label label-info" href="/blog/tags/news/">news</a> <a class="hidden-sm hidden-xs label label-info" href="/blog/tags/discussion/">discussion</a> </div> </div> </div> </div> </div> </div> <div class="row" style="margin-left: 0; margin-right: 0;"> <div id="preamble"> <div class="sectionbody"> <div class="imageblock centered-image"> <img src="/images/new_pipes.jpg" class="responsive-image" alt="Create new topics / pipes"> </div> <div class="paragraph"> <p>When you are working with Kafka Connect Distributed then you might have realized that once you start Kafka Connect there are already some internal Kafka Connect related topics created for you:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight nowrap"><code>$ kafka-topics.sh --bootstrap-server $HOSTNAME:9092 --list&#x000A;&#x000A;connect_configs&#x000A;connect_offsets&#x000A;connect_statuses</code></pre> </div> </div> <div class="paragraph"> <p>This is done automatically for you by Kafka Connect with a sane, customized default topic configuration that fits the needs of these internal topics.</p> </div> <div class="paragraph"> <p>When you start a Debezium connector the topics for the captured events are created by the Kafka broker based on a default, maybe customized, configuration in the broker if <code>auto.create.topics.enable = true</code> is enabled in the broker config:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight nowrap"><code>auto.create.topics.enable = true&#x000A;default.replication.factor = 1&#x000A;num.partitions = 1&#x000A;compression.type = producer&#x000A;log.cleanup.policy = delete&#x000A;log.retention.ms = 604800000  ## 7 days</code></pre> </div> </div> <div class="paragraph"> <p>But often, when you use Debezium and Kafka in a production environment you might choose to disable Kafka&#8217;s topic auto creation capability with <code>auto.create.topics.enable = false</code>, or you want the connector topics to be configured differently from the default. In this case you have to create topics for Debezium&#8217;s captured data sources upfront.<br> But there&#8217;s good news! Beginning with Kafka Connect version 2.6.0, this can be automated since <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-158%3A+Kafka+Connect+should+allow+source+connectors+to+set+topic-specific+settings+for+new+topics">KIP-158</a> is implemented to enable customizable topic creation with Kafka Connect.</p> </div> <div class="paragraph"> <p></p> </div> </div> </div> <div class="sect1"> <h2 id="kafka_connect"><a class="anchor" href="#kafka_connect"></a>Kafka Connect</h2> <div class="sectionbody"> <div class="paragraph"> <p>Kafka Connect since Kafka 2.6.0 comes with topic creation enabled:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight nowrap"><code>topic.creation.enable = true</code></pre> </div> </div> <div class="paragraph"> <p>If you don&#8217;t want to allow automatic topic creation by connectors you can set this value to <code>false</code> in the Kafka Connect config (<em>connect-distributed.properties</em> file or via environment variable <em>CONNECT_TOPIC_CREATION_ENABLE</em> when using <a href="https://hub.docker.com/r/debezium/connect">Debezium&#8217;s container image for Kafka Connect</a>).</p> </div> </div> </div> <div class="sect1"> <h2 id="updating_connector_configuration"><a class="anchor" href="#updating_connector_configuration"></a>Updating Connector Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>Kafka Connect topic creation works with groups. There&#8217;s always a <code>default</code> group which is used when there&#8217;s no other group defined that matches the topic.</p> </div> <div class="paragraph"> <p>Every group can specify a collection of topic configuration properties, and a regular expression list of topic names that config should apply to.</p> </div> <div class="paragraph"> <p>You can specify all <a href="https://kafka.apache.org/documentation/#topicconfigs"><strong>topic level configuration parameters</strong></a> to customize how the matched topics of the group will be created.</p> </div> <div class="paragraph"> <p>Let&#8217;s see how we can extend this Postgres config for the Kafka Connect topic creation:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight nowrap"><code>{&#x000A;    "name": "inventory-connector",&#x000A;    "config": {&#x000A;        "connector.class": "io.debezium.connector.postgresql.PostgresConnector",&#x000A;        "tasks.max": 1,&#x000A;        "database.hostname": "postgres",&#x000A;        "database.port": 5432,&#x000A;        "database.user": "postgres",&#x000A;        "database.password": "postgres",&#x000A;        "database.dbname" : "postgres",&#x000A;        "database.server.name": "dbserver1",&#x000A;        "schema.include.list": "inventory"&#x000A;    }&#x000A;}</code></pre> </div> </div> <div class="sect2"> <h3 id="default_config"><a class="anchor" href="#default_config"></a>Default Config</h3> <div class="paragraph"> <p>All topics not matching other <code>topic.creation</code> groups will apply the <code>default</code> group config.<br> As default we want <code>replication.factor = 3</code>, <code>partitions = 10</code>, the topic should be key compacted with <code>cleanup.policy = "compact"</code>, and all messages should be LZ4 compressed on harddisk with <code>compression.type = "lz4"</code>.<br> So we configure for the default group:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight nowrap"><code>{&#x000A;    "name": "inventory-connector",&#x000A;    "config": {&#x000A;        "connector.class": "io.debezium.connector.postgresql.PostgresConnector",&#x000A;        "tasks.max": 1,&#x000A;        "database.hostname": "postgres",&#x000A;        "database.port": 5432,&#x000A;        "database.user": "postgres",&#x000A;        "database.password": "postgres",&#x000A;        "database.dbname" : "postgres",&#x000A;        "database.server.name": "dbserver1",&#x000A;        "schema.include.list": "inventory",&#x000A;&#x000A;        "topic.creation.default.replication.factor": 3,&#x000A;        "topic.creation.default.partitions": 10,&#x000A;        "topic.creation.default.cleanup.policy": "compact",&#x000A;        "topic.creation.default.compression.type": "lz4"&#x000A;    }&#x000A;}</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="productlog_config"><a class="anchor" href="#productlog_config"></a>Productlog Config</h3> <div class="paragraph"> <p>In the databases <code>inventory</code> schema there are tables starting with <code>product</code> as table name.<br> As default the fully qualified table names are captured to the topic with the same name with Debezium, for example the table <code>products</code> in the <code>inventory</code> schema of <code>dbserver1</code> is captured to the topic <code>dbserver1.inventory.products</code>.</p> </div> <div class="paragraph"> <p>We want that all messages that go to a topic for table names starting with <code>product</code> are stored in a topic with a retention time of 3 months / 90 days with <code>cleanup.policy": "delete"</code> and <code>retention.ms = 7776000000</code>, <code>replication.factor = 1</code>, <code>partitions = 20</code>, and just use the compression format that&#8217;s used by the producer <code>compression.type": "producer"</code>.<br> You can leave out properties that match the cluster defaults, but be careful once you change the default config on your Kafka brokers the resulting topic config might differ!</p> </div> <div class="paragraph"> <p>First we need to register a <code>productlog</code> group using the <code>topic.creation.groups</code> property.<br> Then we can define what topic names should be included in that group and specify the configuration of our group like we did with the <code>default</code> group:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight nowrap"><code>{&#x000A;    "name": "inventory-connector",&#x000A;    "config": {&#x000A;        "connector.class": "io.debezium.connector.postgresql.PostgresConnector",&#x000A;        "tasks.max": 1,&#x000A;        "database.hostname": "postgres",&#x000A;        "database.port": 5432,&#x000A;        "database.user": "postgres",&#x000A;        "database.password": "postgres",&#x000A;        "database.dbname" : "postgres",&#x000A;        "database.server.name": "dbserver1",&#x000A;        "schema.include.list": "inventory",&#x000A;        "topic.creation.default.replication.factor": 3,&#x000A;        "topic.creation.default.partitions": 10,&#x000A;        "topic.creation.default.cleanup.policy": "compact",&#x000A;        "topic.creation.default.compression.type": "lz4",&#x000A;&#x000A;        "topic.creation.groups": "productlog",  <i class="conum" data-value="1"></i><b>(1)</b>&#x000A;&#x000A;        "topic.creation.productlog.include": "dbserver1\\.inventory\\.product.*",  <i class="conum" data-value="2"></i><b>(2)</b>&#x000A;        "topic.creation.productlog.replication.factor": 1,&#x000A;        "topic.creation.productlog.partitions": 20,&#x000A;        "topic.creation.productlog.cleanup.policy": "delete",&#x000A;        "topic.creation.productlog.retention.ms": 7776000000,&#x000A;        "topic.creation.productlog.compression.type": "producer"&#x000A;    }&#x000A;}</code></pre> </div> </div> <table class="tableblock frame-all grid-all stretch"> <caption class="title">Table 1. Connector Configuration for customized automatic topic creation</caption> <colgroup> <col style="width: 10%;"> <col style="width: 90%;"> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Item</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.groups</code> defines a comma-separated list of additional group names. Here we only define our <code>productlog</code> group.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The <code>topic.creation.productlog.include</code> field holds a comma-separated list of regular expressions that match the topic names where the <code>productlog</code> group config should be applied. The <code>productlog</code> group matches all topics starting with <code>dbserver1.inventory.product</code>.</p></td> </tr> </tbody> </table> </div> <div class="sect2"> <h3 id="exploring_the_results"><a class="anchor" href="#exploring_the_results"></a>Exploring the Results</h3> <div class="paragraph"> <p>When we now start our connector and use <code>kafka-topics.sh</code> to see how the topics were created, we can see that all worked as defined:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlight nowrap"><code>## the `dbserver1.inventory.products` topic has the config from the `productlog` group:&#x000A;$ kafka-topics.sh --bootstrap-server $HOSTNAME:9092 --describe --topic dbserver1.inventory.products&#x000A;&#x000A;Topic: dbserver1.inventory.products     PartitionCount: 20      ReplicationFactor: 1&#x000A;Configs: compression.type=producer,cleanup.policy=delete,retention.ms=7776000000,segment.bytes=1073741824&#x000A;&#x000A;## the `dbserver1.inventory.orders` topic has the config from the `default` group:&#x000A;$ kafka-topics.sh --bootstrap-server $HOSTNAME:9092 --describe --topic dbserver1.inventory.orders&#x000A;&#x000A;Topic: dbserver1.inventory.orders       PartitionCount: 10       ReplicationFactor: 3&#x000A;Configs: compression.type=lz4,cleanup.policy=compact,segment.bytes=1073741824,delete.retention.ms=2592000000</code></pre> </div> </div> </div> </div> </div> <div class="sect1"> <h2 id="conclusion"><a class="anchor" href="#conclusion"></a>Conclusion</h2> <div class="sectionbody"> <div class="paragraph"> <p>In many, especially in production environments we often don&#8217;t want topic auto creation to be enabled on the Kafka broker side, or we need a different configuration than the default topic config.<br> Prior Kafka 2.6 this was only possible when manually creating topics upfront or by some custom setup process, maybe during deployment.</p> </div> <div class="paragraph"> <p>Since Kafka 2.6 Kafka Connect comes with built-in topic creation for connector topics and this article shows how to use it with Debezium.</p> </div> <div class="paragraph"> <p>You can find an example <a href="https://github.com/debezium/debezium-examples/tree/master/topic-auto-create">here</a> in the Debezium examples repository on GitHub.</p> </div> </div> </div> <div class="sect1"> <h2 id="about_debezium"><a class="anchor" href="#about_debezium"></a>About Debezium</h2> <div class="sectionbody"> <div class="paragraph"> <p>Debezium is an open-source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="get_involved"><a class="anchor" href="#get_involved"></a>Get involved</h2> <div class="sectionbody"> <div class="paragraph"> <p>We hope you find Debezium interesting and useful and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://gitter.im/debezium/user">chat with us on Gitter</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open-source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve our existing connectors and add even more connectors. If you find problems or have an idea on how we can improve Debezium, please let us know or <a href="https://issues.redhat.com/projects/DBZ/issues/">log an issue</a>.</p> </div> </div> </div> </div> </div> <div class="well"> <div class="row"> <div class="col-md-8"> <h2>René Kerner</h2> <p> <span class="bio-size">René is a software engineer at Red Hat. Before he was working as software architect and engineer at trivago and as consultant at Codecentric. Now he's part of Debezium team. He lives in Mönchengladbach, Germany.</span> </p> <p class="bio-size"> <a href="https://twitter.com/rk3rn3r"> <i class="icon-twitter"></i> </a> &nbsp; <a href="https://github.com/rk3rn3r"> <i class="icon-github"></i> </a> &nbsp; </p> </div> <div class="col-md-4"> <img alt="" class="img-responsive pull-right portrait" src="/images/rkerner.jpg"> </div> </div> </div> <div class="comments"> <div id="disqus_thread"></div> <script type="text/javascript">
            var disqus_shortname = 'Debezium';
            var disqus_url = "https://debezium.io/blog/2020/09/15/debezium-auto-create-topics/";
            var disqus_developer = null;
            var disqus_identifier = null;
            (function() {
              var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
            })();
            </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=Debezium">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> </div> <footer class="container"> <div class="row"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2020 Debezium Community <br> <br> <i class="icon-fire"></i> Mixed with <a href="http://twitter.github.com/bootstrap">Bootstrap</a>, baked by <a href="http://awestruct.org">Awestruct</a>. <br> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br> <i class="icon-flag-alt"></i> Code released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br> <i class="icon-file-alt"></i> <a href="https://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="https://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li> <a href="/documentation/features" title="Features">Features</a> </li> <li> <a href="/documentation/install/stable/" title="Install">Install</a> </li> <li> <a href="/documentation/architecture/" title="Architecture">Architecture</a> </li> <li> <a href="/documentation/faq/" title="FAQ">FAQ</a> </li> <li> <a href="/community/contribute/" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li> <a href="/blog" title="Blog">Blog</a> </li> <li> <a href="http://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li> <a href="http://github.com/debezium" title="GitHub">GitHub</a> </li> <li> <a href="https://gitter.im/debezium/user" title="Chat">Chat</a> </li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="http://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <div id="logospacer"></div> <a href="https://www.redhat.com/"><img src="/images/Logo-Red_Hat-Sponsored_By-B-Standard-RGB.svg"></a> </div> </div> <span class="backToTop"> <a href="#top">back to top</a> </span> <script src="https://static.jboss.org/theme/js/libs/bootstrap-community/3.2.0.2/bootstrap-community.min.js"></script> <script type='text/javascript' language='JavaScript' src='https://www.redhat.com/j/elqNow/elqCfg.js'></script> <script type='text/javascript' language='JavaScript' src='https://www.redhat.com/j/elqNow/elqImg.js'></script> <div id="oTags"> <script type="text/javascript" src="//www.redhat.com/j/s_code.js"></script> <script type="text/javascript"><!--
  var coreUrl = encodeURI(document.URL.split("?")[0]).replace(/-/g," ");
  var urlSplit = coreUrl.toLowerCase().split(/\//);
  var urlLast = urlSplit[urlSplit.length-1];
  var pageNameString = "";
  var siteName = "";
  var minorSectionIndex = 3
  if (urlLast == "") {
      urlSplit.splice(-1,1);
  }
  if (urlLast.search(/\./) >= 0) {
      if (urlLast == "index.html") {
          urlSplit.splice(-1,1);
      }
      else {
          urlSplit[urlSplit.length-1] = urlLast.split(".").splice(0,1);
      }
  }
  siteName = urlSplit[2].split(".")[1];
  s.prop14 = s.eVar27 = siteName || "";
  s.prop15 = s.eVar28 = urlSplit[minorSectionIndex] || "";
  s.prop16 = s.eVar29 = urlSplit[minorSectionIndex+1] || "";
  pageNameString = urlSplit.splice(3).join(" | ");
  s.pageName = "jboss | community | " + siteName + " | " + pageNameString;
  s.server = "jboss";
  s.channel = "jboss | community";
  s.prop4 = s.eVar23 = encodeURI(document.URL);
  s.prop21 = s.eVar18 = coreUrl;
  s.prop2 = s.eVar22 = "en";
  s.prop3 = s.eVar19 = "us";
  //--></script> <script type="text/javascript" src="//www.redhat.com/j/rh_omni_footer.js"></script> <script language="JavaScript" type="text/javascript"><!--
  if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
  //--></script> <noscript><a href="http://www.omniture.com" title="Web Analytics"><img src="https://smtrcs.redhat.com/b/ss/redhatcom,redhatglobal/1/H.25.4--NS/0?[AQB]&cdp=3&[AQE]" height="1" width="1" border="0" alt=""/></a></noscript> </div> <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script> <script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10656779-1");
pageTracker._trackPageview();
} catch(err) {}</script> <script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-76464546-1', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);
ga('require', 'linkid', 'linkid.js');

</script> </div> </body> </html>