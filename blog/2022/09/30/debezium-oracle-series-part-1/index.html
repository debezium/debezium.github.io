<!DOCTYPE html> <html> <head> <title>Debezium for Oracle - Part 1: Installation and Setup</title> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <meta name="description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta content="Debezium" property="og:site_name"> <meta content="Debezium for Oracle - Part 1: Installation and Setup" property="og:title"> <meta content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png" property="og:image" name="image"> <meta property="og:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta property="og:url" content="https://debezium.io/blog/2022/09/30/debezium-oracle-series-part-1/"> <meta name="twitter:site" content="@debezium"> <meta name="twitter:title" content="Debezium for Oracle - Part 1: Installation and Setup"> <meta name="twitter:creator" content="@ccranfor"> <meta name="twitter:description" content="Debezium is an open source distributed platform for change data capture. Start it up, point it at your databases, and your apps can start responding to all of the inserts, updates, and deletes that other apps commit to your databases. Debezium is durable and fast, so your apps can respond quickly and never miss an event, even when things go wrong."> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="https://debezium.io/assets/images/color_black_debezium_type_1200px.png"> <meta property="twitter:url" content="https://debezium.io/blog/2022/09/30/debezium-oracle-series-part-1/"> <link rel="alternate" type="application/rss+xml" title="Debezium Blog" href="/blog.atom"> <link rel="shortcut icon" type="image/png" href="/favicon.ico"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css"/> <link rel="stylesheet" href="/assets/css/custom.css"/> <link rel="stylesheet" href="/assets/css/highlight.min.css"/> <link rel="stylesheet" href="/assets/css/coderay.css"/> </head> <body class="post"> <div id="rhbar"> <a class="jbdevlogo" href="https://developers.redhat.com"></a> <a class="rhlogo" href="https://www.redhat.com/"></a> </div> <div id> <div class="container" id="content"> <nav class="navbar navbar-inverse navbar-fix"> <div class="container-fluid"> <div class="navbar-header"> <button class="navbar-toggle collapsed border-0" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/"><img class="project-logo" src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 5px; margin-top: -5px;"></a> </div> <div class="collapse navbar-collapse collapsed" id="navigation"> <ul class="nav navbar-nav pull-right"> <li> <a href="/documentation/faq" class="">FAQ</a> </li> <li class="item"> <a href="/documentation/" class="">Documentation</a> </li> <li> <a href="/releases/" class="">Releases</a> </li> <li> <a href="/community/" class="">Community</a> </li> <li class="active"> <a href="/blog/" class="active">Blog</a> </li> </ul> </div> </div> </nav> <div class="row post-text-padding row-no-expand"> <div class="col-md-3"><div id="leftdocnav"> <div class="hidden-lg hidden-md hidden-sm"> <button class="navbar-toggle docssubmenu-toggle collapsed" data-target="#docssubmenu" data-toggle="collapse" style=" float: none; background-color: #656565; border-color: #656565; width: 100%; color: #fff; "> Navigation Menu </button> </div> <div class="collapse" id="docssubmenu"> <div class="doc-pills"> <ul class="nav nav-pills nav-stacked"> <li class="item"> <a href="/blog">Home</a> <div class="icon"><span class="icon-home"></span></div> </li> <li class="item"> <a href="/archives">Archive</a> <div class="icon"><span class="icon-arrow-down"></span></div> </li> <li class="item"> <a href="/blog.atom">Feed</a> <div class="icon"><span class="icon-rss"></span></div> </li> </ul> </div> <p></p> <div class="featured-posts"> <div id="#featured" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;">Featured Posts</div> <ul style="padding-inline-start: 22px;"> <li style="margin-bottom: 3px;"> <a href="/blog/2023/06/27/Debezium-signaling-and-notifications/" style="font-size: 95%;"> Debezium signaling and notifications - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2023/05/02/tensorflow-mnist-classification/" style="font-size: 95%;"> Image classification with Debezium and TensorFlow </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/11/04/streaming-vitess-at-bolt/" style="font-size: 95%;"> Streaming Vitess at Bolt </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2020/02/10/event-sourcing-vs-cdc/" style="font-size: 95%;"> Distributed Data for Microservices â€” Event Sourcing vs. Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/10/01/audit-logs-with-change-data-capture-and-stream-processing/" style="font-size: 95%;"> Building Audit Logs with Change Data Capture and Stream Processing </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/07/12/streaming-cassandra-at-wepay-part-1/" style="font-size: 95%;"> Streaming Cassandra at WePay - Part 1 </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/" style="font-size: 95%;"> Reliable Microservices Data Exchange With the Outbox Pattern </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/12/05/automating-cache-invalidation-with-change-data-capture/" style="font-size: 95%;"> Automating Cache Invalidation With Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/09/20/materializing-aggregate-views-with-hibernate-and-debezium/" style="font-size: 95%;"> Materializing Aggregate Views With Hibernate and Debezium </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/07/19/advantages-of-log-based-change-data-capture/" style="font-size: 95%;"> Five Advantages of Log-Based Change Data Capture </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/03/08/creating-ddd-aggregates-with-debezium-and-kafka-streams/" style="font-size: 95%;"> Creating DDD aggregates with Debezium and Kafka Streams </a> </li> <li style="margin-bottom: 3px;"> <a href="/blog/2018/01/17/streaming-to-elasticsearch/" style="font-size: 95%;"> Streaming Data Changes from Your Database to Elasticsearch </a> </li> </ul> </div> <p></p> <p></p> <div class="cloud-tags"> <div id="tags" style="margin-bottom: 4px; border-bottom: 1px solid #ccc; font-size: 115%; margin-left: 2px;"> Tags </div> <div class="tag-cloud"> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 82%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apache-kafka/" style="font-size: 92%"> apache kafka </a> </span> <span class="site-tag"> <a href="/tag/apicurio/" style="font-size: 82%"> apicurio </a> </span> <span class="site-tag"> <a href="/tag/avro/" style="font-size: 84%"> avro </a> </span> <span class="site-tag"> <a href="/tag/aws/" style="font-size: 82%"> aws </a> </span> <span class="site-tag"> <a href="/tag/caassandra/" style="font-size: 84%"> caassandra </a> </span> <span class="site-tag"> <a href="/tag/camel/" style="font-size: 82%"> camel </a> </span> <span class="site-tag"> <a href="/tag/cassandra/" style="font-size: 234%"> cassandra </a> </span> <span class="site-tag"> <a href="/tag/cdc/" style="font-size: 82%"> cdc </a> </span> <span class="site-tag"> <a href="/tag/community/" style="font-size: 122%"> community </a> </span> <span class="site-tag"> <a href="/tag/community-stories/" style="font-size: 84%"> community stories </a> </span> <span class="site-tag"> <a href="/tag/containers/" style="font-size: 82%"> containers </a> </span> <span class="site-tag"> <a href="/tag/cqrs/" style="font-size: 84%"> cqrs </a> </span> <span class="site-tag"> <a href="/tag/datalake/" style="font-size: 82%"> datalake </a> </span> <span class="site-tag"> <a href="/tag/db2/" style="font-size: 216%"> db2 </a> </span> <span class="site-tag"> <a href="/tag/ddd/" style="font-size: 82%"> ddd </a> </span> <span class="site-tag"> <a href="/tag/debezium/" style="font-size: 94%"> debezium </a> </span> <span class="site-tag"> <a href="/tag/debezium-server/" style="font-size: 90%"> debezium server </a> </span> <span class="site-tag"> <a href="/tag/debezium-ui/" style="font-size: 88%"> debezium ui </a> </span> <span class="site-tag"> <a href="/tag/deduplication/" style="font-size: 82%"> deduplication </a> </span> <span class="site-tag"> <a href="/tag/discussion/" style="font-size: 114%"> discussion </a> </span> <span class="site-tag"> <a href="/tag/docker/" style="font-size: 186%"> docker </a> </span> <span class="site-tag"> <a href="/tag/elasticsearch/" style="font-size: 82%"> elasticsearch </a> </span> <span class="site-tag"> <a href="/tag/event-sourcing/" style="font-size: 82%"> event sourcing </a> </span> <span class="site-tag"> <a href="/tag/exactly-once-semantics/" style="font-size: 82%"> exactly once semantics </a> </span> <span class="site-tag"> <a href="/tag/example/" style="font-size: 88%"> example </a> </span> <span class="site-tag"> <a href="/tag/examples/" style="font-size: 114%"> examples </a> </span> <span class="site-tag"> <a href="/tag/features/" style="font-size: 82%"> features </a> </span> <span class="site-tag"> <a href="/tag/fedora/" style="font-size: 82%"> fedora </a> </span> <span class="site-tag"> <a href="/tag/hiring/" style="font-size: 84%"> hiring </a> </span> <span class="site-tag"> <a href="/tag/iceberg/" style="font-size: 82%"> iceberg </a> </span> <span class="site-tag"> <a href="/tag/integration/" style="font-size: 84%"> integration </a> </span> <span class="site-tag"> <a href="/tag/introduction/" style="font-size: 84%"> introduction </a> </span> <span class="site-tag"> <a href="/tag/jaeger/" style="font-size: 82%"> jaeger </a> </span> <span class="site-tag"> <a href="/tag/json/" style="font-size: 82%"> json </a> </span> <span class="site-tag"> <a href="/tag/kafka/" style="font-size: 94%"> kafka </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 82%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kafka-streams/" style="font-size: 86%"> kafka streams </a> </span> <span class="site-tag"> <a href="/tag/kogito/" style="font-size: 82%"> kogito </a> </span> <span class="site-tag"> <a href="/tag/ksql/" style="font-size: 82%"> ksql </a> </span> <span class="site-tag"> <a href="/tag/kubernetes/" style="font-size: 82%"> kubernetes </a> </span> <span class="site-tag"> <a href="/tag/lakehouse/" style="font-size: 82%"> lakehouse </a> </span> <span class="site-tag"> <a href="/tag/machine-learning/" style="font-size: 82%"> machine learning </a> </span> <span class="site-tag"> <a href="/tag/microservices/" style="font-size: 84%"> microservices </a> </span> <span class="site-tag"> <a href="/tag/mongo/" style="font-size: 86%"> mongo </a> </span> <span class="site-tag"> <a href="/tag/mongodb/" style="font-size: 234%"> mongodb </a> </span> <span class="site-tag"> <a href="/tag/mysql/" style="font-size: 370%"> mysql </a> </span> <span class="site-tag"> <a href="/tag/news/" style="font-size: 112%"> news </a> </span> <span class="site-tag"> <a href="/tag/newsletter/" style="font-size: 88%"> newsletter </a> </span> <span class="site-tag"> <a href="/tag/notifications/" style="font-size: 82%"> notifications </a> </span> <span class="site-tag"> <a href="/tag/oracle/" style="font-size: 266%"> oracle </a> </span> <span class="site-tag"> <a href="/tag/outbox/" style="font-size: 204%"> outbox </a> </span> <span class="site-tag"> <a href="/tag/postgres/" style="font-size: 338%"> postgres </a> </span> <span class="site-tag"> <a href="/tag/presentation/" style="font-size: 84%"> presentation </a> </span> <span class="site-tag"> <a href="/tag/production/" style="font-size: 82%"> production </a> </span> <span class="site-tag"> <a href="/tag/quarkus/" style="font-size: 92%"> quarkus </a> </span> <span class="site-tag"> <a href="/tag/questdb/" style="font-size: 82%"> questdb </a> </span> <span class="site-tag"> <a href="/tag/rds/" style="font-size: 84%"> rds </a> </span> <span class="site-tag"> <a href="/tag/releases/" style="font-size: 352%"> releases </a> </span> <span class="site-tag"> <a href="/tag/schema/" style="font-size: 82%"> schema </a> </span> <span class="site-tag"> <a href="/tag/scylla/" style="font-size: 82%"> scylla </a> </span> <span class="site-tag"> <a href="/tag/secrets/" style="font-size: 82%"> secrets </a> </span> <span class="site-tag"> <a href="/tag/sentry/" style="font-size: 82%"> sentry </a> </span> <span class="site-tag"> <a href="/tag/serialization/" style="font-size: 82%"> serialization </a> </span> <span class="site-tag"> <a href="/tag/signaling/" style="font-size: 82%"> signaling </a> </span> <span class="site-tag"> <a href="/tag/smt/" style="font-size: 84%"> smt </a> </span> <span class="site-tag"> <a href="/tag/snapshots/" style="font-size: 84%"> snapshots </a> </span> <span class="site-tag"> <a href="/tag/spanner/" style="font-size: 92%"> spanner </a> </span> <span class="site-tag"> <a href="/tag/sql/" style="font-size: 84%"> sql </a> </span> <span class="site-tag"> <a href="/tag/sqlserver/" style="font-size: 280%"> sqlserver </a> </span> <span class="site-tag"> <a href="/tag/tensorflow/" style="font-size: 82%"> tensorflow </a> </span> <span class="site-tag"> <a href="/tag/testcontainers/" style="font-size: 88%"> testcontainers </a> </span> <span class="site-tag"> <a href="/tag/tests/" style="font-size: 82%"> tests </a> </span> <span class="site-tag"> <a href="/tag/time-series/" style="font-size: 82%"> time series </a> </span> <span class="site-tag"> <a href="/tag/topics/" style="font-size: 82%"> topics </a> </span> <span class="site-tag"> <a href="/tag/tracing/" style="font-size: 82%"> tracing </a> </span> <span class="site-tag"> <a href="/tag/transactions/" style="font-size: 82%"> transactions </a> </span> <span class="site-tag"> <a href="/tag/vagrant/" style="font-size: 82%"> vagrant </a> </span> <span class="site-tag"> <a href="/tag/vitess/" style="font-size: 196%"> vitess </a> </span> <span class="site-tag"> <a href="/tag/website/" style="font-size: 84%"> website </a> </span> </div> </div> </div> </div> </div> <div class="col-md-9"> <div class="post"> <div class="row" style="margin-left: 0; margin-right: 0; margin-bottom: 10px"> <div class="col-sm-12" style="padding-left: 0px"> <div style="display: table-cell; vertical-align: top"> <div style=" width: 72px; border: 1px solid #ccc; padding: 3px; display: inline-block; "> <img src="/assets/images/ccranfor.jpg" style="width: 64px;"> </div> </div> <div style="display: table-cell; vertical-align: top"> <div style="margin-left: 8px"> <span class="hidden-sm hidden-xs" style="font-size: 2.75rem; line-height: 1"> <a href="/blog/2022/09/30/debezium-oracle-series-part-1/">Debezium for Oracle - Part 1: Installation and Setup</a> </span> <span class="hidden-md hidden-lg" style="font-size: 2rem; line-height: 1"> <a href="/blog/2022/09/30/debezium-oracle-series-part-1/">Debezium for Oracle - Part 1: Installation and Setup</a> </span> <div class="byline" style="line-height: 1"> <em> September 30, 2022 by </em> <em> Chris Cranford </em> <div class="hidden-xs" style="margin-top: 5px"> <a class="label label-info hidden-sm hidden-xs" href="/tag/debezium/">debezium</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/oracle/">oracle</a> <a class="label label-info hidden-sm hidden-xs" href="/tag/examples/">examples</a> </div> </div> </div> </div> </div> </div> <div class="grid__item width-12-12"><div class="paragraph"> <p>This post is part of a 3-part series to explore using Debezium to ingest changes from an Oracle database using Oracle LogMiner. Throughout the series, we&#8217;ll examine all the steps to setting up a proof of concept (POC) deployment for Debezium for Oracle. We will discuss setup and configurations as well as the nuances of multi-tenancy. We will also dive into any known pitfalls and concerns you may need to know and how to debug specific problems. And finally, we&#8217;ll talk about performance and monitoring to maintain a healthy connector deployment.</p> </div> <div class="paragraph"> <p>Throughout this exercise, we hope that this will show you just how simple it is to deploy Debezium for Oracle. This installation and setup portion of the series may seem quite complicated, but many of these steps likely already exist in a pre-existing environment. We will dive into each step, explaining it is essential should you use a container image deployment.</p> </div> <div class="paragraph"> <p></p> </div> <div class="paragraph"> <p>So without any further delay, let&#8217;s dive right in!</p> </div> <div class="sect1"> <h2 id="what_is_oracle">What is Oracle?</h2> <div class="sectionbody"> <div class="paragraph"> <p>As ironic as the question may seem, some people may not know what an Oracle database is. An Oracle database is a relational database management system (RBDMS), a database that stores and provides access to data points that are often related. The database is developed and marketed by Oracle Corporation and is one of the most trusted and widely used relational database engines in the market, providing a scalable relational database architecture.</p> </div> <div class="paragraph"> <p>An Oracle database consists of a collection of schemas that represent a collection of logical structures of data or schema objects. A schema object can be anything from a trigger, view, table, data type, sequence, procedure, function, and others. Furthermore, Oracle 12 introduced a multi-tenant architecture, allowing a single database instance to function as a multi-tenant container database (CDB) that houses zero, one, or many customer-created pluggable databases (PDBs).</p> </div> <div class="paragraph"> <p>The goal, install an Oracle database, connect Debezium to Oracle, and convert ingested changes into change events stored in Apache Kafka.</p> </div> </div> </div> <div class="sect1"> <h2 id="install-oracle">Installing Oracle</h2> <div class="sectionbody"> <div class="paragraph"> <p>To get started, we will need a running Oracle database environment. One of the easiest ways to do this is to use <a href="https://www.docker.com">Docker</a> by deploying a container running the Oracle database. Oracle has published such containers in their <a href="https://container-registry.oracle.com/">container registry</a>, allowing anyone to run the database and test-drive it.the dat You can skip this section if you intend to ingest changes from an existing Oracle database.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>The Oracle container images are all pre-built using Oracle with multi-tenancy. This means we will follow the setups according to a multi-tenant architecture. Some minor adjustments may be needed if you&#8217;re using an installation that does not use multi-tenancy.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>For this exercise, we&#8217;re going to use <a href="https://container-registry.oracle.com/ords/f?p=113:4:11477241761337:::4:P4_REPOSITORY,AI_REPOSITORY,AI_REPOSITORY_NAME,P4_REPOSITORY_NAME,P4_EULA_ID,P4_BUSINESS_AREA_ID:9,9,Oracle%20Database%20Enterprise%20Edition,Oracle%20Database%20Enterprise%20Edition,1,0&amp;cs=318vPzAxLqFaC2tslO9ao27bihoUQ6MP-WvtaqYfx_ifILYwLl_2hLJU5hG8HeJv8G5w9JXbcv4i-DZD7zgTDtg">this container image</a>. Using <code>docker pull</code>, the image is pulled after authenticating with the Oracle container registry using the following command:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="shell">docker pull container-registry.oracle.com/database/enterprise:latest</code></pre> </div> </div> <div class="paragraph"> <p>To start the container, use the <code>docker run</code> command. Several environment variables, such as the database SID, pluggable database name, and password, are required since the database container image must first install the Oracle database.</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="shell">docker run -d \
  --name dbz_oracle21 \
  -p 1521:1521 \
  -e ORACLE_SID=ORCLCDB \
  -e ORACLE_PDB=ORCLPDB1 \
  -e ORACLE_PWD=oraclepw \
  container-registry.oracle.com/database/enterprise:latest</code></pre> </div> </div> <div class="paragraph"> <p>The <code>ORACLE_SID</code> refers to the system/service ID used to identify the database. Since we are using multi-tenancy, we will use the name <code>ORCLCDB</code> to represent the <em>container database</em>, or CDB. In Oracle&#8217;s multi-tenant architecture, the <code>ORACLE_PDB</code> refers to the system/service ID used to identify the <em>pluggable database</em>, or PDB. And finally, the <code>ORACLE_PWD</code> refers to the password used for the <code>SYS</code> and <code>SYSTEM</code> users, which we&#8217;ll use later.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>The container will persist data to database files on the container&#8217;s filesystem. The data will be lost when removing the container. To persist the data outside the container, please refer to the Oracle registry&#8217;s README to understand how to set a volume on the <code>docker run</code> command.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>We explicitly started the docker container as a daemon, a background process. If you wish to see what is happening within the container, you can use the command <code>docker logs -f dbz_oracle21</code> to tail the container&#8217;s database log.</p> </div> <div class="paragraph"> <p>For the next few minutes, the database will be configured and installed inside the container, which happens when a new container starts and no initial configuration and database exists. You will know whether the installation was successful by looking for a banner in the logs that would look similar to the following:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="shell">#########################
DATABASE IS READY TO USE!
#########################</code></pre> </div> </div> <div class="paragraph"> <p>At this point, the installation has concluded, and it&#8217;s safe to move on to the next section.</p> </div> </div> </div> <div class="sect1"> <h2 id="configuring_oracle">Configuring Oracle</h2> <div class="sectionbody"> <div class="paragraph"> <p>Several database configurations are necessary to ingest changes from an Oracle database. If you are using a pre-existing environment, you may be able to skip some of these steps.</p> </div> <div class="paragraph"> <p>The following configurations are necessary:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p><a href="#configure-oracle-archive-logs">Archive logs</a></p> </li> <li> <p><a href="#configure-oracle-redo-logs">Redo logs</a></p> </li> <li> <p><a href="#configure-oracle-logging">Supplemental logging</a></p> </li> <li> <p><a href="#configure-oracle-users">Users and tablespaces/schemas in CDB and PDB</a></p> </li> </ol> </div> <div class="sect2"> <h3 id="configure-oracle-archive-logs">Configure Oracle: Archive logs</h3> <div class="paragraph"> <p>Oracle saves filled groups of redo logs (the database transaction logs) to one or more offline destinations, collectively known as the archived redo log or the archive logs. Changes main in a primary database are replicated to logical or physical standby environments using archive logs.</p> </div> <div class="paragraph"> <p>A log switch happens when a redo log fills up and is archived. Debezium ingests changes across both redo and archive logs. Debezium requires access to the archive log to finish processing redo entries when the redo log is archived.</p> </div> <div class="paragraph"> <p>The Oracle container registry image used in the <a href="#install_oracle">Install Oracle</a> section does not have archive logging enabled. If you use another image or a pre-existing environment, you must check whether archive logging is enabled. To check the status, use the <code>SYS</code> user and the password defined during the installation for <code>ORACLE_PWD</code> to connect to the <code>ORCLCDB</code> database and execute the following query:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">SELECT LOG_MODE FROM V$DATABASE</code></pre> </div> </div> <div class="paragraph"> <p>If the column contains <code>ARCHIVELOG</code>, then archive logging is enabled. If the column contains the value <code>NOARCHIVELOG</code>, archive logging isn&#8217;t enabled, and further configuration is necessary.</p> </div> <div class="paragraph"> <p>When setting up the Oracle archive log, not only do we need to enable the logging feature, but we&#8217;ll also need to specify a location on the disk to store the logs. If you are using a pre-existing environment, you will need to consult with your database administrator for this. Most database servers store archive log files using special paths, and you will need to know if Oracle Automatic Storage Management (ASM) is used or what volume has adequate space on the database server.</p> </div> <div class="paragraph"> <p>Let&#8217;s open a terminal to the Oracle database container. We want to connect to the database container using SQL*Plus to use a client that allows easy unmounting and restarting of the database. So in a new terminal, execute:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="shell">docker exec -it dbz_oracle21 -e ORACLE_SID=ORCLCDB sqlplus sys as sysdba</code></pre> </div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>If you connect to an existing Oracle environment, you can also <code>ssh</code> to the database server&#8217;s shell to run SQL*Plus.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>The above command will start Oracle&#8217;s SQL*Plus, a command line Oracle SQL client. The client will ask for your password, which will be the same as the <code>ORACLE_PWD</code> environment variable or <code>oraclepw</code> if you&#8217;re using the Oracle registry container. Use your environment&#8217;s <code>SYS</code> user password when connecting to an existing Oracle environment.</p> </div> <div class="paragraph"> <p>We need to set two database parameters:</p> </div> <div class="dlist"> <dl> <dt class="hdlist1"><code>db_recovery_file_dest_size</code></dt> <dd> <p>The number of bytes available to store archive logs.</p> </dd> </dl> </div> <div class="admonitionblock warning"> <table> <tr> <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td> <td class="content"> <div class="paragraph"> <p>Suppose the size of the existing archive logs and the next log to be archived exceeds this configured value. In that case, the Oracle database archiver process will block. If all redo logs require archiving and the archiver process is blocked, the database prevents changes until the archiver process unblocks. Deleting older archive logs using the <code>RMAN</code> utility unblocks the archiver process, allowing any pending redo logs to be archived. So it&#8217;s generally a good idea to pick a decent size based on your database retention policy.</p> </div> </td> </tr> </table> </div> <div class="dlist"> <dl> <dt class="hdlist1"><code>db_recovery_file_dest</code></dt> <dd> <p>The location on the disk where the archive logs are stored.</p> </dd> </dl> </div> <div class="admonitionblock warning"> <table> <tr> <td class="icon"> <i class="fa icon-warning" title="Warning"></i> </td> <td class="content"> <div class="paragraph"> <p>This location must be readable and writable by the Oracle database user, often called the <code>oracle</code> user.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>To set these values, we&#8217;ll execute the following SQL commands inside the SQL*Plus terminal window where we&#8217;ve already connected to the database as the <code>SYS</code> user. Again, if you&#8217;re connecting to a pre-existing environment, please consult your database administrator before you proceed here.</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql"><span class="class">ALTER</span> SYSTEM <span class="class">SET</span> db_recovery_file_dest_size = <span class="integer">10</span>G;
<span class="class">ALTER</span> SYSTEM <span class="class">SET</span> db_recovery_file_dest = <span class="string"><span class="delimiter">'</span><span class="content">/opt/oracle/oradata/ORCLCDB</span><span class="delimiter">'</span></span> scope=spfile;
SHUTDOWN <span class="directive">IMMEDIATE</span>
STARTUP MOUNT
<span class="class">ALTER</span> <span class="type">DATABASE</span> ARCHIVELOG;
<span class="class">ALTER</span> <span class="type">DATABASE</span> OPEN;
ARCHIVE LOG LIST;</code></pre> </div> </div> <div class="paragraph"> <p>The above <code>ALTER</code> statements adjust the database parameters, specifying that the retention of archive logs is up to a maximum of 10GB and that <code>/opt/oracle/oradata/ORCLCDB</code> is where the logs are stored.</p> </div> <div class="paragraph"> <p>The final output from SQL*Plus should show the following:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="shell">SQL&gt; Database log mode             Archive Mode
Automatic archival                 Enabled
Archive destination                USE_DB_RECOVERY_FILE_DEST
Oldest online log sequence         1
Next log sequence to archive       3
Current log sequence               3</code></pre> </div> </div> <div class="paragraph"> <p>The configuration of the archive logs is complete, and when a database log switch occurs, the Oracle ARCH Process will convert the redo log to an archive log stored in the location specified on the disk.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>Oracle supports the notion of multiple archive log destinations, allowing the storage of a redo log at different file locations. Multiple storage locations are common when using Oracle DataGuard to transfer copies of the archive logs to a secondary server for disaster recovery or business intelligence. We will not cover how to configure this in this blog post, but it is worth noting that functionality exists and can be helpful.</p> </div> </td> </tr> </table> </div> </div> <div class="sect2"> <h3 id="configure-oracle-redo-logs">Configure Oracle: Redo logs</h3> <div class="paragraph"> <p>Oracle&#8217;s transaction log is known as a redo log. These logs are vital as they&#8217;re used in a database crash or media failure to recover to a checkpoint. Unfortunately, Oracle container images often use a redo log configuration that isn&#8217;t useful for Debezium.</p> </div> <div class="paragraph"> <p>There are two <a href="/documentation/reference/stable/connectors/oracle.html#oracle-property-log-mining-strategy">log mining strategies</a> for Debezium&#8217;s Oracle connector. The strategy controls how the connector interacts with Oracle LogMiner and how the connector ingests schema and table changes.</p> </div> <div class="dlist"> <dl> <dt class="hdlist1"><code>redo_log_catalog</code></dt> <dd> <p>The data dictionary will be written periodically to the redo logs, causing a higher generation of archive logs over time. This setting enables tracking DDL changes, so if a table&#8217;s schema changes, this will be the ideal strategy for that purpose.</p> </dd> <dt class="hdlist1"><code>online_catalog</code></dt> <dd> <p>The data dictionary will not be written periodically to the redo logs, leaving the generation of archive logs consistent with current behavior. Oracle LogMiner will mine changes substantially faster; however, this performance comes at the cost of <strong>not</strong> tracking DDL changes. If a table&#8217;s schema remains constant, this will be the ideal strategy for that purpose.</p> </dd> </dl> </div> <div class="paragraph"> <p>When using the <code>online_catalog</code> mode, you can safely skip this step entirely.</p> </div> <div class="paragraph"> <p>When using the <code>redo_log_catalog</code> mode (the default), the redo log size is critical to reducing the frequency of log switches. The LogMiner session restarts and the data dictionary is rebuilt in the redo logs when a log switch occurs. The dictionary is read back by LogMiner and used to track DDL changes when the session restarts, which can lead to a slight initial session delay while the dictionary tables are populated. Overall you gain better performance when the redo log is large enough to write the data dictionary to a single log file.</p> </div> <div class="paragraph"> <p>The Oracle container registry images come configured with a redo log size of <code>200MB</code>. This default size is too small when using the default mining strategy, so we will adjust this so that the logs use a size of <code>400MB</code>.</p> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>When working with Oracle installed without multi-tenancy, using <code>400MB</code> may still be slightly small since a host of base tables exist in the root database but do not exist in the pluggable databases when multi-tenancy is enabled. Please use <code>500MB</code> instead if you&#8217;re ingesting changes from an Oracle environment without multi-tenancy at a minimum.</p> </div> <div class="paragraph"> <p>Regardless of multi-tenancy, these values should be much more significant in your production environment. Your DBA will be able to use Oracle&#8217;s sizing guide to determine the best value based on the log switch frequency and load on the system.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>Before making any changes, it&#8217;s essential to examine the current state of your environment. In the same terminal where you enabled archive logging, execute the following SQL to determine the current log sizes.</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">SELECT GROUP#, BYTES/1024/1024 SIZE_MB, STATUS FROM V$LOG ORDER BY 1;</code></pre> </div> </div> <div class="paragraph"> <p>The Oracle container registry image will return the following output:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">    GROUP#    SIZE_MB STATUS
---------- ---------- ----------------
	 1	  200 INACTIVE
	 2	  200 INACTIVE
	 3	  200 CURRENT</code></pre> </div> </div> <div class="paragraph"> <p>This output tells us there are 3 log groups, and each group consumes <code>200MB</code> of space per log. Additionally, the status associated with each group is crucial as it represents the current state of that log.</p> </div> <div class="paragraph"> <p>The following describes the log statues in detail:</p> </div> <div class="dlist"> <dl> <dt class="hdlist1"><code>INACTIVE</code></dt> <dd> <p>This means Oracle has initialized the log and isn&#8217;t currently in use.</p> </dd> <dt class="hdlist1"><code>ACTIVE</code></dt> <dd> <p>This means Oracle has initialized the log and is currently in use. The redo log is required and in use in case of a failure so the database can safely recover.</p> </dd> <dt class="hdlist1"><code>CURRENT</code></dt> <dd> <p>This means Oracle is currently writing to this log. When working with Oracle Real Application Clusters (RAC), multiple logs can be marked as current, representing a log per cluster node.</p> </dd> <dt class="hdlist1"><code>UNUSED</code></dt> <dd> <p>This means Oracle has not initialized the log and isn&#8217;t in use.</p> </dd> </dl> </div> <div class="paragraph"> <p>Now, using the same terminal window, execute the following SQL to determine the filenames and locations of the redo logs.</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">SELECT GROUP#, MEMBER FROM V$LOGFILE ORDER BY 1, 2;</code></pre> </div> </div> <div class="paragraph"> <p>The Oracle container registry image will return the following output:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">    GROUP# MEMBER
---------- ---------------------------------------------------
	 1 /opt/oracle/oradata/ORCLCDB/redo01.log
	 2 /opt/oracle/oradata/ORCLCDB/redo02.log
	 3 /opt/oracle/oradata/ORCLCDB/redo03.log</code></pre> </div> </div> <div class="paragraph"> <p>We can glean from this that each log group consists of a single redo log. Oracle does support the notion of multiple logs per group, allowing for what is called multiplexing. You will generally only see this in a production environment and occasionally in a test environment, but it&#8217;s rare to see this in a development or container environment.</p> </div> <div class="paragraph"> <p>The goal is to adjust the <code>BYTES</code> column in the <code>V$LOG</code> table to have a value of <code>400MB</code>. Unfortunately, the only way to make this adjustment is to drop and re-create the log group, and this is only possible if the <code>STATUS</code> of the group is either <code>INACTIVE</code> or <code>UNUSED</code>. Since log group 1 was <code>INACTIVE</code> above, we&#8217;ll start with it, but you can safely perform this procedure on the log groups in any order.</p> </div> <div class="paragraph"> <p>In the terminal where SQL*Plus is running, execute the following:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">ALTER DATABASE CLEAR LOGFILE GROUP 1;
ALTER DATABASE DROP LOGFILE GROUP 1;
ALTER DATABASE ADD LOGFILE GROUP 1 ('/opt/oracle/oradata/ORCLCDB/redo01.log') size 400M REUSE;</code></pre> </div> </div> <div class="paragraph"> <p>This will drop and re-create the log group with the size of <code>400MB</code>. We will use the same log file name in the <code>MEMBER</code> column from the <code>VLOGFILE</code> table. If the database uses multiplexing, with multiple log files per log group, use a comma-delimited list of filenames to register each log file.</p> </div> <div class="paragraph"> <p>Continue the above procedure for all log groups, changing the log group and filenames accordingly until all <code>INACTIVE</code> or <code>UNUSED</code> groups have a size of <code>400MB</code>. Once all that remains to be changed are those that are <code>CURRENT</code>, you can issue a log switch on the database to advance the database to the next redo log using the following SQL:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">ALTER SYSTEM SWITCH LOGFILE;</code></pre> </div> </div> <div class="paragraph"> <p>If you recheck the size of the logs in the <code>V$LOG</code>, you&#8217;ll see the output looks like the following:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">SQL> SELECT GROUP#, BYTES/1024/1024 SIZE_MB, STATUS FROM V$LOG ORDER BY 1;

    GROUP#    SIZE_MB STATUS
---------- ---------- ----------------
	 1	  400 CURRENT
	 2	  400 UNUSED
	 3	  200 ACTIVE</code></pre> </div> </div> <div class="paragraph"> <p>We now need to wait for the database to eventually switch the status of log group 3 to <code>INACTIVE</code>. The switch could take several minutes, so be patient and recheck the size periodically. Once the status reaches <code>INACTIVE</code>, modify the final log group and filename using the same procedure.</p> </div> <div class="paragraph"> <p>One last check of the <code>V$LOG</code> table after the final log group, we&#8217;ll see everything looks in order:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">SQL> SELECT GROUP#, BYTES/1024/1024 SIZE_MB, STATUS FROM V$LOG ORDER BY 1;

    GROUP#    SIZE_MB STATUS
---------- ---------- ----------------
	 1	  400 CURRENT
	 2	  400 UNUSED
	 3	  400 UNUSED</code></pre> </div> </div> <div class="paragraph"> <p>At this point, we have modified all redo log sizes, reducing the frequency of log switches when Debezium executes the data dictionary build steps.</p> </div> </div> <div class="sect2"> <h3 id="configure-oracle-logging">Configure Oracle: Supplemental Logging</h3> <div class="paragraph"> <p>Oracle redo logs are used primarily for instance and media recovery because the data required for those operations gets recorded automatically. LogMiner cannot be used by default because Oracle does not provide any supplemental log data out of the box. Since Debezium relies on LogMiner, supplemental logging must be enabled at a minimum for Debezium to perform any change data capture for Oracle.</p> </div> <div class="paragraph"> <p>Two different strategies can be used to set supplemental logging:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>Database supplemental logging</p> </li> <li> <p>Table supplemental logging</p> </li> </ol> </div> <div class="paragraph"> <p>For Debezium to interface with LogMiner and work with chained rows and various storage arrangements, database supplemental logging must be enabled at a minimum level. To enable this level, execute the following SQL in the current SQL*Plus terminal:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql"><span class="class">ALTER</span> <span class="type">DATABASE</span> <span class="class">ADD</span> SUPPLEMENTAL LOG DATA;</code></pre> </div> </div> <div class="paragraph"> <p>We will cover table-based supplemental logging in a later section when we discuss configuring the connector.</p> </div> </div> <div class="sect2"> <h3 id="configure-oracle-users">Configure Oracle: User setup</h3> <div class="paragraph"> <p>For the Debezium connector to capture change events, it must establish a JDBC connection to the database and execute a series of LogMiner APIs. A user account will require specific permissions to access these LogMiner APIs and gather data from the captured tables.</p> </div> <div class="paragraph"> <p>When using multi-tenant architecture, as is found with the Oracle container registry image, there are effectively two databases that we will have to work with, <code>ORCLCDB</code> (the container or root database) and <code>ORCLPDB1</code> (the pluggable database). All captured tables will be created and maintained from within the PDB, but there will be moments when the connector will need to access the root database to read specific system tables.</p> </div> <div class="paragraph"> <p>Therefore in a multi-tenant architecture, we must first set up the two tablespaces that our user account will use. To create these tablespaces, execute the following SQL from within the SQL*Plus terminal:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">CONNECT sys/oraclepw<span class="variable">@ORCLCDB</span> <span class="keyword">as</span> sysdba;
<span class="class">CREATE</span> TABLESPACE logminer_tbs DATAFILE <span class="string"><span class="delimiter">'</span><span class="content">/opt/oracle/oradata/ORCLCDB/logminer_tbs.dbf</span><span class="delimiter">'</span></span>
  SIZE <span class="integer">25</span>M REUSE AUTOEXTEND <span class="keyword">ON</span> MAXSIZE UNLIMITED;

CONNECT sys/oraclepw<span class="variable">@ORCLPDB1</span> <span class="keyword">as</span> sysdba;
<span class="class">CREATE</span> TABLESPACE logminer_tbs DATAFILE <span class="string"><span class="delimiter">'</span><span class="content">/opt/oracle/oradata/ORCLCDB/ORCLPDB1/logminer_tbs.dbf</span><span class="delimiter">'</span></span>
  SIZE <span class="integer">25</span>M REUSE AUTOEXTEND <span class="keyword">ON</span> MAXSIZE UNLIMITED;</code></pre> </div> </div> <div class="admonitionblock note"> <table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>If the deployment is not on an Oracle database with multi-tenancy enabled, creating the second tablespace within the <code>ORCLPDB1</code> database is unnecessary. Additionally, ensure the path provided for the tablespace, credentials, and database SID are all correct for your installation. You may need to consult with your DBA to have the tablespace created correctly.</p> </div> </td> </tr> </table> </div> <div class="paragraph"> <p>Once the tablespaces exist, it is now time to create the user account itself. If you are using a multi-tenant environment, the user name must use the common-user prefix so that Oracle creates it in both the CDB root database and the PDB pluggable database; otherwise, the user name can be anything. Since we are working with a multi-tenant database installation with our container, we will create a user account called <code>c##dbzuser</code>.</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql">CONNECT sys/oraclepw<span class="variable">@ORCLCDB</span> <span class="keyword">as</span> sysdba;

<span class="class">CREATE</span> USER c<span class="comment">##dbzuser IDENTIFIED BY dbz DEFAULT TABLESPACE LOGMINER_TBS</span>
  QUOTA UNLIMITED <span class="keyword">ON</span> LOGMINER_TBS
  CONTAINER=<span class="keyword">ALL</span>;</code></pre> </div> </div> <div class="paragraph"> <p>The user account requires several permissions. At the time of this publication, the list of permissions included the following:</p> </div> <div class="listingblock"> <div class="content"> <pre class="CodeRay highlight"><code data-lang="sql"><span class="class">GRANT</span> <span class="class">CREATE</span> SESSION <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SET</span> CONTAINER <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$DATABASE <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> FLASHBACK <span class="keyword">ANY</span> <span class="type">TABLE</span> <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ANY</span> <span class="type">TABLE</span> <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> SELECT_CATALOG_ROLE <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> EXECUTE_CATALOG_ROLE <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ANY</span> <span class="type">TRANSACTION</span> <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ANY</span> DICTIONARY <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> LOGMINING <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>

<span class="class">GRANT</span> <span class="class">CREATE</span> <span class="type">TABLE</span> <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> LOCK <span class="keyword">ANY</span> <span class="type">TABLE</span> <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">CREATE</span> SEQUENCE <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>

<span class="class">GRANT</span> EXECUTE <span class="keyword">ON</span> DBMS_LOGMNR <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> EXECUTE <span class="keyword">ON</span> DBMS_LOGMNR_D <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>

<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$LOG <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$LOG_HISTORY <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$LOGMNR_LOGS <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$LOGMNR_CONTENTS <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$LOGMNR_PARAMETERS <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$LOGFILE <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$ARCHIVED_LOG <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$ARCHIVE_DEST_STATUS <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span>
<span class="class">GRANT</span> <span class="class">SELECT</span> <span class="keyword">ON</span> V_$TRANSACTION <span class="keyword">TO</span> c<span class="comment">##dbzuser CONTAINER=ALL;</span></code></pre> </div> </div> <div class="paragraph"> <p>You can refer to the latest <a href="/documentation/reference/stable/connectors/oracle.html#creating-users-for-the-connector">documentation</a> to review whether the required grants may have changed. We have created the connector user we will use in the configuration and given the user all the necessary database permissions.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="conclusion">Conclusion</h2> <div class="sectionbody"> <div class="paragraph"> <p>In this part of the series, we have covered what Oracle is and why it is so popular. We&#8217;ve also covered installing an Oracle database using a container and configuring the Oracle instance to allow Debezium to ingest changes. In the <a href="/blog/2022/10/06/debezium-oracle-series-part-2/">next part</a> of the series, we&#8217;ll dive into deploying the Debezium Oracle connector on Apache Kafka Connect.</p> </div> </div> </div></div> </div> <div class="well"> <div class="row"> <div class="col-md-8"> <h2>Chris Cranford</h2> <p> <span class="bio-size">Chris is a software engineer at Red Hat. He previously was a member of the Hibernate ORM team and now works on Debezium. He lives in North Carolina just a few hours from Red Hat towers.</span> </p> <p class="bio-size"> <a href="https://github.com/naros"> <i class="icon-github"></i> </a> &nbsp; <a href="https://www.linkedin.com/in/crancran"> <i class="icon-linkedin"></i> </a> &nbsp; </p> </div> <div class="col-md-4"> <img alt="" class="img-responsive pull-right portrait" src="/assets/images/ccranfor.jpg"/> </div> </div> </div> <ul class="pager pager-blog"> <li class="previous"> <a href="/blog/2022/09/26/debezium-1-9-6-final-released/" class="previous"> &laquo; Previous</a> </li> <li class="next"><a href="/blog/2022/10/06/debezium-oracle-series-part-2/">Next &raquo; </a></li> </ul> <div class="row"> <div class="col-md-12"> <hr> <h2>About Debezium</h2> <p> Debezium is an open source distributed platform that turns your existing databases into event streams, so applications can see and respond almost instantly to each committed row-level change in the databases. Debezium is built on top of <a href="http://kafka.apache.org/">Kafka</a> and provides <a href="http://kafka.apache.org/documentation.html#connect">Kafka Connect</a> compatible connectors that monitor specific database management systems. Debezium records the history of data changes in Kafka logs, so your application can be stopped and restarted at any time and can easily consume all of the events it missed while it was not running, ensuring that all events are processed correctly and completely. Debezium is <a href="/license/">open source</a> under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>. </p> </div> </div> <div class="row"> <div class="col-md-12"> <h2>Get involved</h2> <p> We hope you find Debezium interesting and useful, and want to give it a try. Follow us on Twitter <a href="https://twitter.com/debezium">@debezium</a>, <a href="https://debezium.zulipchat.com/#narrow/stream/302529-users">chat with us on Zulip</a>, or join our <a href="https://groups.google.com/forum/#!forum/debezium">mailing list</a> to talk with the community. All of the code is open source <a href="https://github.com/debezium/">on GitHub</a>, so build the code locally and help us improve ours existing connectors and add even more connectors. If you find problems or have ideas how we can improve Debezium, please let us know or <a href="https://issues.redhat.com/projects/DBZ/issues/">log an issue</a>. </p> </div> </div> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://debezium.io/blog/2022/09/30/debezium-oracle-series-part-1/",this.page.identifier="https://debezium.io/blog/2022/09/30/debezium-oracle-series-part-1/"};!function(){var e=document,t=e.createElement("script");t.src="https://Debezium.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </div> <footer class="container"> <div> <div class="row mr-0 ml-0"> <div class="col-md-5 col-md-offset-1"> <h4>Debezium</h4> <p> &#169; 2023 Debezium Community <br/> <br/> <i class="icon-fire"></i> Mixed with <a href="https://getbootstrap.com/">Bootstrap</a>, baked by <a href="https://jekyllrb.com/">Jekyll</a>. <br/> <i class="icon-flag"></i> Website and docs licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>. <br/> <i class="icon-flag-alt"></i> Code released under <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache License, v2.0</a>. <br/> <i class="icon-file-alt"></i> <a href="https://www.redhat.com/legal/legal_statement.html" title="Terms">Terms</a> | <a href="https://www.redhat.com/legal/privacy_statement.html" title="Privacy Policy">Privacy</a> </p> <p>Rev: <a target="_blank" href="https://github.com/debezium/debezium.github.io/commit/a927ae221eedd6d18f121f8a4635fad6020e5d5e">a927ae2</a> </p> </div> <div class="col-md-3"> <h4>Documentation</h4> <ul class="list-unstyled"> <li><a href="/documentation/reference/stable/features.html" title="Features">Features</a></li> <li> <a href="/documentation/reference/stable/install.html" title="Install">Install</a> </li> <li> <a href="/documentation/reference/stable/architecture.html" title="Architecture">Architecture</a> </li> <li><a href="/documentation/faq/" title="FAQ">FAQ</a></li> <li> <a href="/community/contribute/" title="Contribute">Contribute</a> </li> </ul> </div> <div class="col-md-3"> <h4>Connect</h4> <ul class="list-unstyled"> <li><a href="/blog" title="Blog">Blog</a></li> <li> <a href="https://twitter.com/debezium" title="Twitter">Twitter</a> </li> <li><a href="https://github.com/debezium" title="GitHub">GitHub</a></li> <li><a href="https://debezium.zulipchat.com/#narrow/stream/302529-users" title="Chat">Chat</a></li> <li> <a href="https://groups.google.com/forum/#!forum/debezium" title="Google Groups">Google Groups</a> </li> <li> <a href="https://stackoverflow.com/questions/tagged/debezium" title="StackOverflow">StackOverflow</a> </li> </ul> </div> </div> </div> </footer> <div class="container" id="companyfooter"> <div class="redhatlogo"> <a href="https://www.redhat.com/"> <img src="/assets/images/Logo-Red_Hat-Sponsored_By-B-Standard-RGB.svg"/> </a> </div> </div> </div> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76464546-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-76464546-1");</script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script> <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> <script type="text/javascript" src="/assets/javascript/vanilla-back-to-top.min.js"></script> <script type="text/javascript" src="/assets/javascript/highlight.min.js"></script> <script>addBackToTop({scrollDuration:400}),hljs.initHighlightingOnLoad();</script> </body> </html>