<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sending signals to a Debezium connector :: Debezium Documentation</title>
    <link rel="canonical" href="https://debezium.io/documentation/reference/stable/configuration/signalling.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium nightly Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="signalling.html">Sending Signals to Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="notification.html">Receive notifications from Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mariadb.html">MariaDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/vitess.html">Vitess</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/spanner.html">Spanner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/jdbc.html">JDBC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/informix.html">Informix</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-changes.html">Event Changes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-outbox-event-router.html">MongoDB Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/schema-change-event-filter.html">Schema Change Event Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/partition-routing.html">Partition Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/header-to-value.html">HeaderToValue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timezone-converter.html">Timezone Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timescaledb.html">TimescaleDB Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/decode-logical-decoding-message-content.html">Decode Logical Decoding Message Content</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/convert-cloudevent-to-saveable-form.html">Convert CloudEvents to Saveable Form</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Post Processors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/reselect-columns.html">Reselect Columns</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/tracing.html">OpenTelemetry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/kubernetes.html">Running on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">nightly</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="/documentation/reference/nightly/index.html">nightly</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.7/index.html">2.7</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.6/index.html">2.6</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.3/index.html">2.3</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.9/index.html">1.9</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../stable/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>Configuration</li>
    <li><a href="signalling.html">Sending Signals to Debezium</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">nightly</button>
        <div class="version-menu">
                <a class="version is-current" href="/documentation/reference/nightly/index.html">nightly</a>
                <a class="version" href="/documentation/reference/2.7/index.html">2.7</a>
                <a class="version" href="/documentation/reference/3.0/index.html">3.0</a>
                <a class="version" href="/documentation/reference/2.6/index.html">2.6</a>
                <a class="version" href="/documentation/reference/2.5/index.html">2.5</a>
                <a class="version" href="/documentation/reference/2.4/index.html">2.4</a>
                <a class="version" href="/documentation/reference/2.3/index.html">2.3</a>
                <a class="version" href="/documentation/reference/2.2/index.html">2.2</a>
                <a class="version" href="/documentation/reference/2.1/index.html">2.1</a>
                <a class="version" href="/documentation/reference/2.0/index.html">2.0</a>
                <a class="version" href="/documentation/reference/1.9/index.html">1.9</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/debezium/debezium/edit/main/documentation/modules/ROOT/pages/configuration/signalling.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
        
    <div class="version-banner version-banner-development">
    You are viewing documentation for an unreleased version of Debezium.
    <br/>
            If you want to view the latest stable version of this page, please go <a href=/documentation/reference/stable/index.html>here</a>.
            
</div>            <h1 class="page">Sending signals to a Debezium connector</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#debezium-signaling-overview">Overview</a></li>
<li><a href="#debezium-signaling-enabling-source-signaling-channel">Enabling source signaling channel</a>
<ul class="sectlevel2">
<li><a href="#debezium-signaling-data-collection-structure">Structure of a signaling data collection</a></li>
<li><a href="#debezium-signaling-creating-a-signal-data-collection">Creating a signaling data collection</a></li>
</ul>
</li>
<li><a href="#debezium-signaling-enabling-kafka-signaling-channel">Enabling Kafka signaling channel</a>
<ul class="sectlevel2">
<li><a href="#_message_format">Message format</a></li>
</ul>
</li>
<li><a href="#debezium-signaling-enabling-jmx-signaling-channel">Enabling a JMX signaling channel</a>
<ul class="sectlevel2">
<li><a href="#debezium-signaling-using-a-jmx-signaling-channel-to-sends-signals">Sending JMX signals</a></li>
</ul>
</li>
<li><a href="#debezium-custom-signaling-channel">Custom signaling channel</a>
<ul class="sectlevel2">
<li><a href="#debezium-signaling-enabling-custom-signaling-channel">Provide custom signaling channel</a></li>
<li><a href="#debezium-signaling-core-module-dependencies">Debezium core module dependencies</a></li>
<li><a href="#deploying-a-debezium-custom-signaling-channel">Deploying a custom signaling channel</a></li>
<li><a href="#configuring-connectors-to-use-a-custom-signaling-channel">Configuring connectors to use a custom signaling channel</a></li>
</ul>
</li>
<li><a href="#_signal_actions">Signal actions</a>
<ul class="sectlevel2">
<li><a href="#debezium-signaling-logging">Logging signals</a></li>
<li><a href="#debezium-signaling-ad-hoc-incremental-snapshots">Ad hoc snapshot signals</a></li>
<li><a href="#debezium-signaling-stop-ad-hoc-snapshots">Ad hoc snapshot stop signals</a></li>
<li><a href="#debezium-signaling-incremental-snapshots">Incremental snapshots</a></li>
<li><a href="#debezium-signaling-ad-hoc-blocking-snapshots">Blocking snapshot signals</a></li>
<li><a href="#debezium-signaling-custom-action">Defining a custom action</a></li>
<li><a href="#debezium-signaling-custom-action-core-module-dependencies">Debezium core module dependencies</a></li>
<li><a href="#deploying-a-debezium-custom-action">Deploying a custom action</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debezium-signaling-overview"><a class="anchor" href="#debezium-signaling-overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium signaling mechanism provides a way to modify the behavior of a connector, or to trigger a one-time action, such as initiating an <a href="#debezium-signaling-ad-hoc-incremental-snapshots">ad hoc snapshot</a> of a table.
To use signals to trigger a connector to perform a specified action, you can configure the connector to use one or more of the following channels:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">SourceSignalChannel</dt>
<dd>
<p>You can issue a SQL command to add a signal message to a specialized signaling data collection.
The signaling data collection, which you create on the source database, is designated exclusively for communicating with Debezium.</p>
</dd>
<dt class="hdlist1">KafkaSignalChannel</dt>
<dd>
<p>You submit signal messages to a configurable Kafka topic.</p>
</dd>
<dt class="hdlist1">JmxSignalChannel</dt>
<dd>
<p>You submit signals through the JMX <code>signal</code> operation.</p>
</dd>
<dt class="hdlist1">FileSignalChannel</dt>
<dd>
<p>You can use a file to send signals.</p>
</dd>
<dt class="hdlist1">Custom</dt>
<dd>
<p>You submit signals to a <a href="#debezium-custom-signaling-channel">custom channel</a> that you implement.
When Debezium detects that a new <a href="#debezium-signaling-example-of-a-logging-record">logging record</a> or <a href="#debezium-signaling-example-of-an-ad-hoc-blocking-snapshot-signal-record">ad hoc snapshot record</a> is added to the channel, it reads the signal, and initiates the requested operation.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Signaling is available for use with the following Debezium connectors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Db2</p>
</li>
<li>
<p>MongoDB</p>
</li>
<li>
<p>MySQL</p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p>SQL Server</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can specify which channel is enabled by setting the <code>signal.enabled.channels</code> configuration property. The property lists the names of the channels that are enabled. By default, Debezium provides the following channels: <code>source</code>  and <code>kafka</code>.
The <code>source</code> channel is enabled by default, because it is required for incremental snapshot signals.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debezium-signaling-enabling-source-signaling-channel"><a class="anchor" href="#debezium-signaling-enabling-source-signaling-channel"></a>Enabling source signaling channel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the Debezium source signaling channel is enabled.</p>
</div>
<div class="paragraph">
<p>You must explicitly configure signaling for each connector that you want to use it with.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>On the source database, create a signaling data collection table for sending signals to the connector.
For information about the required structure of the signaling data collection, see <a href="#debezium-signaling-data-collection-structure">Structure of a signaling data collection</a>.</p>
</li>
<li>
<p>For source databases such as Db2 or SQL Server that implement a native change data capture (CDC) mechanism, enable CDC for the signaling table.</p>
</li>
<li>
<p>Add the name of the signaling data collection to the Debezium connector configuration.<br>
  In the connector configuration, add the property <code>signal.data.collection</code>, and set its value to the fully-qualified name of the signaling data collection that you created in Step 1.<br>
<br>
For example, <code>signal.data.collection = inventory.debezium_signals</code>.<br>
<br>
The format for the fully-qualified name of the signaling collection depends on the connector.<br>
The following example shows the naming formats to use for each connector:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Db2</dt>
<dd>
<p><code><em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code></p>
</dd>
<dt class="hdlist1">MongoDB</dt>
<dd>
<p><code><em>&lt;databaseName&gt;</em>.<em>&lt;collectionName&gt;</em></code></p>
</dd>
<dt class="hdlist1">MySQL</dt>
<dd>
<p><code><em>&lt;databaseName&gt;</em>.<em>&lt;tableName&gt;</em></code></p>
</dd>
<dt class="hdlist1">Oracle</dt>
<dd>
<p><code><em>&lt;databaseName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code></p>
</dd>
<dt class="hdlist1">PostgreSQL</dt>
<dd>
<p><code><em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code></p>
</dd>
<dt class="hdlist1">SQL Server</dt>
<dd>
<p><code><em>&lt;databaseName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code><br>
<br>
For more information about setting the <code>signal.data.collection</code> property, see the table of configuration properties for your connector.</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="debezium-signaling-data-collection-structure"><a class="anchor" href="#debezium-signaling-data-collection-structure"></a>Structure of a signaling data collection</h3>
<div class="paragraph">
<p>A signaling data collection, or signaling table, stores signals that you send to a connector to trigger a specified operation.
The structure of the signaling table must conform to the following standard format.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Contains three fields (columns).</p>
</li>
<li>
<p>Fields are arranged in a specific order, as shown in <a href="#debezium-signaling-description-of-required-structure-of-a-signaling-data-collection">Table 1</a>.</p>
</li>
</ul>
</div>
<table id="debezium-signaling-description-of-required-structure-of-a-signaling-data-collection" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Required structure of a signaling data collection</caption>
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 81.8182%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code><br>
(required)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An arbitrary unique string that identifies a signal instance.<br>
You assign an <code>id</code> to each signal that you submit to the signaling table.<br>
Typically, the ID is a UUID string.<br>
You can use signal instances for logging, debugging, or de-duplication.<br>
When a signal triggers Debezium to perform an incremental snapshot, it generates a signal message with an arbitrary <code>id</code> string.
The <code>id</code> string that the generated message contains is unrelated to the <code>id</code> string in the submitted signal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code><br>
(required)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the type of signal to send.<br>
You can use some signal types with any connector for which signaling is available, while other signal types are available for specific connectors only.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data</code><br>
(optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies JSON-formatted parameters to pass to a signal action.<br>
Each signal type requires a specific set of data.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The field names in a data collection are arbitrary.
The preceding table provides suggested names.
If you use a different naming convention, ensure that the values in each field are consistent with the expected content.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="debezium-signaling-creating-a-signal-data-collection"><a class="anchor" href="#debezium-signaling-creating-a-signal-data-collection"></a>Creating a signaling data collection</h3>
<div class="paragraph">
<p>You create a signaling table by submitting a standard SQL DDL query to the source database.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have sufficient access privileges to create a table on the source database.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Submit a SQL query to the source database to create a table that is consistent with the <a href="#debezium-signaling-description-of-required-structure-of-a-signaling-data-collection">required structure</a>, as shown in the following example:<br>
<br>
<code>CREATE TABLE <em>&lt;tableName&gt;</em> (id VARCHAR(<em>&lt;varcharValue&gt;</em>) PRIMARY KEY, type VARCHAR(<em>&lt;varcharValue&gt;</em>) NOT NULL, data VARCHAR(<em>&lt;varcharValue&gt;</em>) NULL);</code><br></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The amount of space that you allocate to the <code>VARCHAR</code> parameter of the <code>id</code> variable must be sufficient to accommodate the size of the ID strings of signals sent to the signaling table.<br>
If the size of an ID exceeds the available space, the connector cannot process the signal.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows a <code>CREATE TABLE</code> command that creates a three-column <code>debezium_signal</code> table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE debezium_signal (id VARCHAR(42) PRIMARY KEY, type VARCHAR(32) NOT NULL, data VARCHAR(2048) NULL);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debezium-signaling-enabling-kafka-signaling-channel"><a class="anchor" href="#debezium-signaling-enabling-kafka-signaling-channel"></a>Enabling Kafka signaling channel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can enable the Kafka signaling channel by adding it to the <code>signal.enabled.channels</code> configuration property, and then adding the name of the topic that receives signals to the <code>signal.kafka.topic</code> property.
After you enable the signaling channel, a Kafka consumer is created to consume signals that are sent to the configured signal topic.</p>
</div>
<div class="ulist">
<div class="title">Additional configuration available for the consumer</div>
<ul>
<li>
<p><a href="../connectors/db2.html#debezium-db2-connector-kafka-signals-configuration-properties" class="xref page">Db2 connector Kafka signal configuration properties</a></p>
</li>
<li>
<p><a href="../connectors/mongodb.html#debezium-mongodb-connector-kafka-signals-configuration-properties" class="xref page">MongoDB connector Kafka signal configuration properties</a></p>
</li>
<li>
<p><a href="../connectors/mysql.html#debezium-mysql-connector-kafka-signals-configuration-properties" class="xref page">MySQL connector Kafka signal configuration properties</a></p>
</li>
<li>
<p><a href="../connectors/oracle.html#debezium-oracle-connector-kafka-signals-configuration-properties" class="xref page">Oracle connector Kafka signal configuration properties</a></p>
</li>
<li>
<p><a href="../connectors/postgresql.html#debezium-postgresql-connector-kafka-signals-configuration-properties" class="xref page">PostgreSQL connector Kafka signal configuration properties</a></p>
</li>
<li>
<p><a href="../connectors/sqlserver.html#debezium-sqlserver-connector-kafka-signals-configuration-properties" class="xref page">SQL Server connector Kafka signal configuration properties</a></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use Kafka signaling to trigger ad hoc incremental snapshots for most connectors, you must first <a href="#debezium-signaling-enabling-source-signaling-channel">enable a <code>source</code> signaling channel</a> in the connector configuration.
The source channel implements a watermarking mechanism to deduplicate events that might be captured by an incremental snapshot and then captured again after streaming resumes.
Enabling the source channel is not required when using a signaling channel to trigger an incremental snapshot of a read-only MySQL database that has <a href="../connectors/mysql.html#enable-mysql-gtids" class="xref page">GTIDs enabled</a>.
For more information, see <a href="../connectors/mysql.html#mysql-read-only-incremental-snapshots" class="xref page">MySQL read only incremental snapshot</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_message_format"><a class="anchor" href="#_message_format"></a>Message format</h3>
<div class="paragraph">
<p>The key of the Kafka message must match the value of the <code>topic.prefix</code> connector configuration option.</p>
</div>
<div class="paragraph">
<p>The value is a JSON object with <code>type</code> and <code>data</code> fields.</p>
</div>
<div class="paragraph">
<p>When the signal type is set to <code>execute-snapshot</code>, the <code>data</code> field must include the fields that are listed in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Execute snapshot data fields</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The type of the snapshot to run.
Currently Debezium supports the <code>incremental</code> and <code>blocking</code> types.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of comma-separated regular expressions that match the fully-qualified names of the data collections to include in the snapshot.<br>
Specify the names by using the same format as is required for the <code>signal.data.collection</code> configuration option.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>additional-conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional array that specifies a set of additional conditions that the connector evaluates to determine the subset of records to include in a snapshot.<br>
Each additional condition is an object that specifies the criteria for filtering the data that an ad hoc snapshot captures.
You can set the following properties for each additional condition:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>data-collection</code></dt>
<dd>
<p>The fully-qualified name of the {data-collection} that the filter applies to.
You can apply different filters to each {data-collection}.</p>
</dd>
<dt class="hdlist1"><code>filter</code></dt>
<dd>
<p>Specifies column values that must be present in a database record for the snapshot to include it, for example,  <code>"color='blue'"</code>.<br>
The snapshot process evaluates records in the {data-collection} against the <code>filter</code> value and captures only records that contain matching values.<br>
<br>
The specific values that you assign to the <code>filter</code> property depend on the type of ad hoc snapshot:</p>
<div class="ulist">
<ul>
<li>
<p>For incremental snapshots, you specify a search condition fragment, such as <code>"color='blue'"</code>, that the snapshot appends to the condition clause of a query.</p>
</li>
<li>
<p>For blocking snapshots, you specify a full <code>SELECT</code> statement, such as the one that you might set in the <code>snapshot.select.statement.overrides</code> property.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following example shows a typical <code>execute-snapshot</code> Kafka message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Key = `test_connector`

Value = `{"type":"execute-snapshot","data": {"data-collections": ["schema1.table1", "schema1.table2"], "type": "INCREMENTAL"}}`</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debezium-signaling-enabling-jmx-signaling-channel"><a class="anchor" href="#debezium-signaling-enabling-jmx-signaling-channel"></a>Enabling a JMX signaling channel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can enable the JMX signaling by adding <code>jmx</code> to the <code>signal.enabled.channels</code> property in the connector configuration, and then <a href="../operations/monitoring.html#monitoring-debezium" class="xref page">enabling the JMX MBean Server</a> to expose the signaling bean.</p>
</div>
<div class="sect2">
<h3 id="debezium-signaling-using-a-jmx-signaling-channel-to-sends-signals"><a class="anchor" href="#debezium-signaling-using-a-jmx-signaling-channel-to-sends-signals"></a>Sending JMX signals</h3>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Use your preferred JMX client (for example. JConsole or JDK Mission Control) to connect to the MBean server.</p>
</li>
<li>
<p>Search for the Mbean <code>debezium.<em>&lt;connector-type&gt;</em>.management.signals.<em>&lt;server&gt;</em></code>.
The Mbean exposes <code>signal</code> operations that accept the following input parameters:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">p0</dt>
<dd>
<p>The id of the signal.</p>
</dd>
<dt class="hdlist1">p1</dt>
<dd>
<p>The type of the signal, for example, <code>execute-snapshot</code>.</p>
</dd>
<dt class="hdlist1">p2</dt>
<dd>
<p>A JSON data field that contains additional information about the specified signal type.</p>
</dd>
</dl>
</div>
</li>
<li>
<p>Send an <code>execute-snapshot</code> signal by providing value for the input parameters.<br>
In the JSON data field, include the information that is listed in the following table:</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Execute snapshot data fields</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The type of the snapshot to run.
Currently Debezium supports the <code>incremental</code> and <code>blocking</code> types.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of comma-separated regular expressions that match the fully-qualified names of the tables to include in the snapshot.<br>
Specify the names by using the same format as is required for the <a href="#debezium-property-signal-data-collection">signal.data.collection</a> configuration option.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>additional-conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional array that specifies a set of additional conditions that the connector evaluates to determine the subset of records to include in a snapshot.<br>
Each additional condition is an object that specifies the criteria for filtering the data that an ad hoc snapshot captures.
You can set the following properties for each additional condition:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>data-collection</code></dt>
<dd>
<p>The fully-qualified name of the {data-collection} that the filter applies to.
You can apply different filters to each {data-collection}.</p>
</dd>
<dt class="hdlist1"><code>filter</code></dt>
<dd>
<p>Specifies column values that must be present in a database record for the snapshot to include it, for example,  <code>"color='blue'"</code>.<br>
The snapshot process evaluates records in the {data-collection} against the <code>filter</code> value and captures only records that contain matching values.<br>
<br>
The specific values that you assign to the <code>filter</code> property depend on the type of ad hoc snapshot:</p>
<div class="ulist">
<ul>
<li>
<p>For incremental snapshots, you specify a search condition fragment, such as <code>"color='blue'"</code>, that the snapshot appends to the condition clause of a query.</p>
</li>
<li>
<p>For blocking snapshots, you specify a full <code>SELECT</code> statement, such as the one that you might set in the <code>snapshot.select.statement.overrides</code> property.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div></div></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following image shows an example of how to use JConsole to send a signal:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/jmx-signal-operation.png" alt="Using JConsole to send an `execute-snapshot` signal">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="debezium-custom-signaling-channel"><a class="anchor" href="#debezium-custom-signaling-channel"></a>Custom signaling channel</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The signaling mechanism is designed to be extensible.
You can implement channels as needed to send signals to Debezium in a manner that works best in your environment.</p>
</div>
<div class="paragraph">
<p>Adding a signaling channel involves several steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#debezium-signaling-enabling-custom-signaling-channel">Create a Java project for the channel</a> to implement the channel, and <a href="#debezium-signaling-core-module-dependencies">add <code>Debezium Core</code> as a dependency</a>.</p>
</li>
<li>
<p><a href="#deploying-a-debezium-custom-signaling-channel">Deploy the custom signaling channel</a>.</p>
</li>
<li>
<p><a href="#configuring-connectors-to-use-a-custom-signaling-channel">Enable connectors to use the custom signaling channel by modifying the connector configuration</a>.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="debezium-signaling-enabling-custom-signaling-channel"><a class="anchor" href="#debezium-signaling-enabling-custom-signaling-channel"></a>Provide custom signaling channel</h3>
<div class="paragraph">
<p>Custom signaling channels are Java classes that implement the <code>io.debezium.pipeline.signal.channels.SignalChannelReader</code> service provider interface (SPI).
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface SignalChannelReader {

    String name(); <i class="conum" data-value="1"></i><b>(1)</b>

    void init(CommonConnectorConfig connectorConfig); <i class="conum" data-value="2"></i><b>(2)</b>

    List&lt;SignalRecord&gt; read(); <i class="conum" data-value="3"></i><b>(3)</b>

    void close(); <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the reader.
To enable Debezium to use the channel, specify this name in the connector&#8217;s <code>signal.enabled.channels</code> property.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Initializes specific configuration, variables, or connections that the channel requires.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Reads signal from the channel.
The <code>SignalProcessor</code> class calls this method to retrieve the signal to process.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Closes all allocated resources.
Debezium calls this methods when the connector is stopped.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="debezium-signaling-core-module-dependencies"><a class="anchor" href="#debezium-signaling-core-module-dependencies"></a>Debezium core module dependencies</h3>
<div class="paragraph">
<p>A custom signaling channel Java project has compile dependencies on the Debezium core module.
You must include these compile dependencies in your project&#8217;s <code>pom.xml</code> file, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.debezium&lt;/groupId&gt;
    &lt;artifactId&gt;debezium-core&lt;/artifactId&gt;
    &lt;version&gt;${version.debezium}&lt;/version&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>${version.debezium}</code> represents the version of the Debezium connector.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Declare your implementation in the <code>META-INF/services/io.debezium.pipeline.signal.channels.SignalChannelReader</code> file.</p>
</div>
</div>
<div class="sect2">
<h3 id="deploying-a-debezium-custom-signaling-channel"><a class="anchor" href="#deploying-a-debezium-custom-signaling-channel"></a>Deploying a custom signaling channel</h3>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a custom signaling channel Java program.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To use a custom signaling channel with a Debezium connector, export the Java project to a JAR file, and copy the file to the directory that contains the JAR file for each Debezium connector that you want to use it with.<br>
<br>
For example, in a typical deployment, the Debezium connector files are stored in subdirectories of a Kafka Connect directory (<code>/kafka/connect</code>), with each connector JAR in its own subdirectory (<code>/kafka/connect/debezium-connector-db2</code>, <code>/kafka/connect/debezium-connector-mysql</code>, and so forth).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To use a custom signaling channel with multiple connectors, you must place a copy of the custom signaling channel JAR file in the subdirectory for each connector.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring-connectors-to-use-a-custom-signaling-channel"><a class="anchor" href="#configuring-connectors-to-use-a-custom-signaling-channel"></a>Configuring connectors to use a custom signaling channel</h3>
<div class="paragraph">
<p>Add the name of the custom signaling channel to the <code>signal.enabled.channels</code> configuration property.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_signal_actions"><a class="anchor" href="#_signal_actions"></a>Signal actions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use signaling to initiate the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#debezium-signaling-logging">Add messages to the log</a>.</p>
</li>
<li>
<p><a href="#debezium-signaling-ad-hoc-incremental-snapshots">Trigger ad hoc incremental snapshots</a>.</p>
</li>
<li>
<p><a href="#debezium-signaling-stop-ad-hoc-snapshots">Stop execution of an ad hoc snapshot</a>.</p>
</li>
<li>
<p><a href="#debezium-signaling-pause-incremental-snapshots">Pause incremental snapshots</a>.</p>
</li>
<li>
<p><a href="#debezium-signaling-resume-incremental-snapshots">Resume incremental snapshots</a>.</p>
</li>
<li>
<p><a href="#debezium-signaling-ad-hoc-blocking-snapshots">Trigger ad hoc blocking snapshot</a>.</p>
</li>
<li>
<p><a href="#debezium-signaling-custom-action">Custom action</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some signals are not compatible with all connectors.</p>
</div>
<div class="sect2">
<h3 id="debezium-signaling-logging"><a class="anchor" href="#debezium-signaling-logging"></a>Logging signals</h3>
<div class="paragraph">
<p>You can request a connector to add an entry to the log by creating a signaling table entry with the <code>log</code> signal type.
After processing the signal, the connector prints the specified message to the log.
Optionally, you can configure the signal so that the resulting message includes the streaming coordinates.</p>
</div>
<table id="debezium-signaling-example-of-a-logging-record" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Example of a signaling record for adding a log message</caption>
<colgroup>
<col style="width: 5.2631%;">
<col style="width: 47.3684%;">
<col style="width: 47.3685%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>924e3ff8-2245-43ca-ba77-2af9af02fa07</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The action type of the signal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"message": "Signal message at offset {}"}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>message</code> parameter specifies the string to print to the log.<br>
If you add a placeholder (<code>{}</code>) to the message, it is replaced with streaming coordinates.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="debezium-signaling-ad-hoc-incremental-snapshots"><a class="anchor" href="#debezium-signaling-ad-hoc-incremental-snapshots"></a>Ad hoc snapshot signals</h3>
<div class="paragraph">
<p>You can request a connector to initiate an ad hoc snapshot by creating a signal with the <code>execute-snapshot</code> signal type.
After processing the signal, the connector runs the requested snapshot operation.</p>
</div>
<div class="paragraph">
<p>Unlike the initial snapshot that a connector runs after it first starts, an ad hoc snapshot occurs during runtime, after the connector has already begun to stream change events from a database.
You can initiate ad hoc snapshots at any time.</p>
</div>
<div class="paragraph">
<p>Ad hoc snapshots are available for the following Debezium connectors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Db2</p>
</li>
<li>
<p>MongoDB</p>
</li>
<li>
<p>MySQL</p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p>SQL Server</p>
</li>
</ul>
</div>
<table id="debezium-signaling-example-of-an-ad-hoc-signal-record" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Example of an ad hoc snapshot signal record</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d139b9b7-7777-4547-917d-e1775ea61d41</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>execute-snapshot</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"data-collections": ["public.MyFirstTable", "public.MySecondTable"]}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="debezium-signaling-example-of-an-ad-hoc-signal-message" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Example of an ad hoc snapshot signal message</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">test_connector</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"type":"execute-snapshot","data": {"data-collections": ["public.MyFirstTable"], "type": "INCREMENTAL", "additional-conditions":[{"data-collection": "public.MyFirstTable", "filter":"color='blue' AND brand='MyBrand'"}]}}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For more information about ad hoc snapshots, see the <em>Snapshots</em> topic in the documentation for your connector.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../connectors/db2.html#debezium-db2-incremental-snapshots" class="xref page">Db2 connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/mongodb.html#debezium-mongodb-incremental-snapshots" class="xref page">MongoDB connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/mysql.html#debezium-mysql-incremental-snapshots" class="xref page">MySQL connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/oracle.html#debezium-oracle-incremental-snapshots" class="xref page">Oracle connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/postgresql.html#debezium-postgresql-incremental-snapshots" class="xref page">PostgreSQL connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/sqlserver.html#debezium-sqlserver-incremental-snapshots" class="xref page">SQL Server connector incremental snapshots</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="debezium-signaling-stop-ad-hoc-snapshots"><a class="anchor" href="#debezium-signaling-stop-ad-hoc-snapshots"></a>Ad hoc snapshot stop signals</h3>
<div class="paragraph">
<p>You can request a connector to stop an in-progress ad hoc snapshot by creating a signal table entry with the <code>stop-snapshot</code> signal type.
After processing the signal, the connector will stop the current in-progress snapshot operation.</p>
</div>
<div class="paragraph">
<p>You can stop ad hoc snapshots for the following Debezium connectors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Db2</p>
</li>
<li>
<p>MongoDB</p>
</li>
<li>
<p>MySQL</p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p>SQL Server</p>
</li>
</ul>
</div>
<table id="debezium-signaling-example-of-a-stop-ad-hoc-signal-record" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Example of a stop ad hoc snapshot signal record</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d139b9b7-7777-4547-917d-e1775ea61d41</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stop-snapshot</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"type":"INCREMENTAL", "data-collections": ["public.MyFirstTable"]}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You must specify the <code>type</code> of the signal.
The <code>data-collections</code> field is optional.
Leave the <code>data-collections</code> field blank to request the connector to stop all activity in the current snapshot.
If you want the incremental snapshot to proceed, but you want to exclude specific collections from the snapshot, provide a comma-separated list of the names of the collections or regular expressions to exclude.
After the connector processes the signal, the incremental snapshot proceeds, but it excludes data from the collections that you specify.</p>
</div>
</div>
<div class="sect2">
<h3 id="debezium-signaling-incremental-snapshots"><a class="anchor" href="#debezium-signaling-incremental-snapshots"></a>Incremental snapshots</h3>
<div class="paragraph">
<p>Incremental snapshots are a specific type of ad hoc snapshot.
In an incremental snapshot, the connector captures the baseline state of the tables that you specify, similar to an initial snapshot.
However, unlike an initial snapshot, an incremental snapshot captures tables in chunks, rather than all at once.
The connector uses a watermarking method to track the progress of the snapshot.</p>
</div>
<div class="paragraph">
<p>By capturing the initial state of the specified tables in chunks rather than in a single monolithic operation, incremental snapshots provide the following advantages over the initial snapshot process:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>While the connector captures the baseline state of the specified tables, streaming of near real-time events from the transaction log continues uninterrupted.</p>
</li>
<li>
<p>If the incremental snapshot process is interrupted, it can be resumed from the point at which it stopped.</p>
</li>
<li>
<p>You can initiate an incremental snapshot at any time.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="debezium-signaling-pause-incremental-snapshots"><a class="anchor" href="#debezium-signaling-pause-incremental-snapshots"></a>Incremental snapshot pause signals</h4>
<div class="paragraph">
<p>You can request a connector to pause an in-progress incremental snapshot by creating a signal table entry with the <code>pause-snapshot</code> signal type.
After processing the signal, the connector will stop pause current in-progress snapshot operation.
Therefor it&#8217;s not possible to specify the data collection as the snapshot processing will be paused in position where it is in time of processing of the signal.</p>
</div>
<div class="paragraph">
<p>You can pause incremental snapshots for the following Debezium connectors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Db2</p>
</li>
<li>
<p>MongoDB</p>
</li>
<li>
<p>MySQL</p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p>SQL Server</p>
</li>
</ul>
</div>
<table id="debezium-signaling-example-of-a-pause-incremental-signal-record" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Example of a pause incremental snapshot signal record</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d139b9b7-7777-4547-917d-e1775ea61d41</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pause-snapshot</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You must specify the <code>type</code> of the signal.
The <code>data</code> field is ignored.</p>
</div>
</div>
<div class="sect3">
<h4 id="debezium-signaling-resume-incremental-snapshots"><a class="anchor" href="#debezium-signaling-resume-incremental-snapshots"></a>Incremental snapshot resume signals</h4>
<div class="paragraph">
<p>You can request a connector to resume a paused incremental snapshot by creating a signal table entry with the <code>resume-snapshot</code> signal type.
After processing the signal, the connector will resume previously paused snapshot operation.</p>
</div>
<div class="paragraph">
<p>You can resume incremental snapshots for the following Debezium connectors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Db2</p>
</li>
<li>
<p>MongoDB</p>
</li>
<li>
<p>MySQL</p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p>SQL Server</p>
</li>
</ul>
</div>
<table id="debezium-signaling-example-of-a-resume-incremental-signal-record" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Example of a resume incremental snapshot signal record</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d139b9b7-7777-4547-917d-e1775ea61d41</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resume-snapshot</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You must specify the <code>type</code> of the signal.
The <code>data</code> field is ignored.</p>
</div>
<div class="paragraph">
<p>For more information about incremental snapshots, see the <em>Snapshots</em> topic in the documentation for your connector.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../connectors/db2.html#debezium-db2-incremental-snapshots" class="xref page">Db2 connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/mongodb.html#debezium-mongodb-incremental-snapshots" class="xref page">MongoDB connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/mysql.html#debezium-mysql-incremental-snapshots" class="xref page">MySQL connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/oracle.html#debezium-oracle-incremental-snapshots" class="xref page">Oracle connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/postgresql.html#debezium-postgresql-incremental-snapshots" class="xref page">PostgreSQL connector incremental snapshots</a></p>
</li>
<li>
<p><a href="../connectors/sqlserver.html#debezium-sqlserver-incremental-snapshots" class="xref page">SQL Server connector incremental snapshots</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="debezium-signaling-ad-hoc-blocking-snapshots"><a class="anchor" href="#debezium-signaling-ad-hoc-blocking-snapshots"></a>Blocking snapshot signals</h3>
<div class="paragraph">
<p>You can request a connector to initiate an ad hoc blocking snapshot by creating a signal with the <code>execute-snapshot</code> signal type and <code>data.type</code> with value <code>blocking</code>.
After processing the signal, the connector runs the requested snapshot operation.</p>
</div>
<div class="paragraph">
<p>Unlike the initial snapshot that a connector runs after it first starts, an ad hoc blocking snapshot occurs during runtime, after the connector has stopped to stream change events from a database.
You can initiate ad hoc blocking snapshots at any time.</p>
</div>
<div class="paragraph">
<p>Blocking snapshots are available for the following Debezium connectors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Db2</p>
</li>
<li>
<p>MongoDB</p>
</li>
<li>
<p>MySQL</p>
</li>
<li>
<p>Oracle</p>
</li>
<li>
<p>PostgreSQL</p>
</li>
<li>
<p>SQL Server</p>
</li>
</ul>
</div>
<table id="debezium-signaling-example-of-an-ad-hoc-blocking-snapshot-signal-record" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Example of a blocking snapshot signal record</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d139b9b7-7777-4547-917d-e1775ea61d41</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>execute-snapshot</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  {"type": "blocking", "data-collections": ["schema1.table1", "schema1.table2"], "additional-conditions": [{"data-collection": "schema1.table1", "filter": "SELECT * FROM [schema1].[table1] WHERE column1 = 0 ORDER BY column2 DESC"}, {"data-collection": "schema1.table2", "filter": "SELECT * FROM [schema1].[table2] WHERE column2 &gt; 0"}]}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table id="debezium-signaling-example-of-an-ad-hoc-blocking-snapshot-signal-message" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Example of a blocking snapshot signal message</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">test_connector</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{"type":"execute-snapshot","data": {"type": "blocking"}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For more information about blocking snapshots, see the <em>Snapshots</em> topic in the documentation for your connector.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../connectors/db2.html#db2-blocking-snapshots" class="xref page">Db2 connector ad hoc blocking snapshots</a></p>
</li>
<li>
<p><a href="../connectors/mongodb.html#mongodb-blocking-snapshots" class="xref page">MongoDB connector ad hoc blocking snapshots</a></p>
</li>
<li>
<p><a href="../connectors/mysql.html#mysql-blocking-snapshots" class="xref page">MySQL connector ad hoc blocking snapshots</a></p>
</li>
<li>
<p><a href="../connectors/oracle.html#oracle-blocking-snapshots" class="xref page">Oracle connector ad hoc blocking snapshots</a></p>
</li>
<li>
<p><a href="../connectors/postgresql.html#postgresql-blocking-snapshots" class="xref page">PostgreSQL connector ad hoc blocking snapshots</a></p>
</li>
<li>
<p><a href="../connectors/sqlserver.html#sqlserver-blocking-snapshots" class="xref page">SQL Server connector ad hoc blocking snapshots</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="debezium-signaling-custom-action"><a class="anchor" href="#debezium-signaling-custom-action"></a>Defining a custom action</h3>
<div class="paragraph">
<p>Custom actions enable you to extend the Debezium signaling framework to trigger actions that are not available in the default implementation.
You can use a custom action with multiple connectors.</p>
</div>
<div class="paragraph">
<p>To define a custom signal action, you must define the following interface:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@FunctionalInterface
public interface SignalAction&lt;P extends Partition&gt; {

    /**
     * @param signalPayload the content of the signal
     * @return true if the signal was processed
     */
    boolean arrived(SignalPayload&lt;P&gt; signalPayload) throws InterruptedException;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>io.debezium.pipeline.signal.actions.SignalAction</code> exposes a single method with one parameter, which represents the message payloads sent through the signaling channel.</p>
</div>
<div class="paragraph">
<p>After you define a custom signaling action, use the following SPI interface to make the custom action available to the signaling mechanism:  <code>io.debezium.pipeline.signal.actions.SignalActionProvider</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface SignalActionProvider {

    /**
     * Create a map of signal action where the key is the name of the action.
     *
     * @param dispatcher the event dispatcher instance
     * @param connectorConfig the connector config
     * @return a concrete action
     */

    &lt;P extends Partition&gt; Map&lt;String, SignalAction&lt;P&gt;&gt; createActions(EventDispatcher&lt;P, ? extends DataCollectionId&gt; dispatcher, CommonConnectorConfig connectorConfig);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Your implementation must return a map of the signal action.
Set the map key to the name of the action.
The key is used as the <a href="#debezium-signaling-description-of-required-structure-of-a-signaling-data-collection"><code>type</code></a> of the signal.</p>
</div>
</div>
<div class="sect2">
<h3 id="debezium-signaling-custom-action-core-module-dependencies"><a class="anchor" href="#debezium-signaling-custom-action-core-module-dependencies"></a>Debezium core module dependencies</h3>
<div class="paragraph">
<p>A custom actions Java project has compile dependencies on the Debezium core module.
Include the following compile dependencies in your project&#8217;s <code>pom.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.debezium&lt;/groupId&gt;
    &lt;artifactId&gt;debezium-core&lt;/artifactId&gt;
    &lt;version&gt;${version.debezium}&lt;/version&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>${version.debezium}</code> represents the version of the Debezium connector.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Declare your provider implementation in the <code>META-INF/services/io.debezium.pipeline.signal.actions.SignalActionProvider</code> file.</p>
</div>
</div>
<div class="sect2">
<h3 id="deploying-a-debezium-custom-action"><a class="anchor" href="#deploying-a-debezium-custom-action"></a>Deploying a custom action</h3>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a custom actions Java program.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To use a custom action with a Debezium connector, export the Java project to a JAR file, and copy the file to the directory that contains the JAR file for each Debezium connector that you want to use it with.<br>
<br>
For example, in a typical deployment, the Debezium connector files are stored in subdirectories of a Kafka Connect directory (<code>/kafka/connect</code>), with each connector JAR in its own subdirectory (<code>/kafka/connect/debezium-connector-db2</code>, <code>/kafka/connect/debezium-connector-mysql</code>, and so forth).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To use a custom action with multiple connectors, you must place a copy of the custom signaling channel JAR file in the subdirectory for each connector.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2024 Debezium Community (Rev: <span class="truncated"><a href="https://github.com/debezium/debezium/commit/cc87257eec96c6030ed4db35807c16b6f1014191">cc87257e</a></span>)
            
        </div>
    </footer>
</main></div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../debezium-antora/js/site.js"></script>
<script async src="../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>