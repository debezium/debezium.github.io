<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Debezium connector for Informix :: Debezium Documentation</title>
    <link rel="canonical" href="https://debezium.io/documentation/reference/stable/connectors/informix.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium nightly Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/signalling.html">Sending Signals to Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/notification.html">Receive notifications from Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="vitess.html">Vitess</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="spanner.html">Spanner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jdbc.html">JDBC</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="informix.html">Informix</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-changes.html">Event Changes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-outbox-event-router.html">MongoDB Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/schema-change-event-filter.html">Schema Change Event Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/partition-routing.html">Partition Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/header-to-value.html">HeaderToValue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timezone-converter.html">Timezone Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timescaledb.html">TimescaleDB Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/convert-cloudevent-to-saveable-form.html">Convert CloudEvents to Saveable Form</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Post Processors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/reselect-columns.html">Reselect Columns</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/tracing.html">OpenTelemetry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/kubernetes.html">Running on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">nightly</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="/documentation/reference/nightly/index.html">nightly</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.6/index.html">2.6</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.3/index.html">2.3</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.9/index.html">1.9</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.8/index.html">1.8</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.7/index.html">1.7</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../stable/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>Connectors</li>
    <li><a href="informix.html">Informix</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">nightly</button>
        <div class="version-menu">
                <a class="version is-current" href="/documentation/reference/nightly/index.html">nightly</a>
                <a class="version" href="/documentation/reference/2.5/index.html">2.5</a>
                <a class="version" href="/documentation/reference/2.6/index.html">2.6</a>
                <a class="version is-missing" href="/documentation/reference/2.4/index.html">2.4</a>
                <a class="version is-missing" href="/documentation/reference/2.3/index.html">2.3</a>
                <a class="version is-missing" href="/documentation/reference/2.2/index.html">2.2</a>
                <a class="version is-missing" href="/documentation/reference/2.1/index.html">2.1</a>
                <a class="version is-missing" href="/documentation/reference/2.0/index.html">2.0</a>
                <a class="version is-missing" href="/documentation/reference/1.9/index.html">1.9</a>
                <a class="version is-missing" href="/documentation/reference/1.8/index.html">1.8</a>
                <a class="version is-missing" href="/documentation/reference/1.7/index.html">1.7</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/debezium/debezium/edit/main/documentation/modules/ROOT/pages/connectors/informix.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
        
    <div class="version-banner version-banner-development">
    You are viewing documentation for an unreleased version of Debezium.
    <br/>
            If you want to view the latest stable version of this page, please go <a href=/documentation/reference/stable/index.html>here</a>.
            
</div>            <h1 class="page">Debezium connector for Informix</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#informix-overview">Overview</a></li>
<li><a href="#how-the-informix-connector-works">How the connector works</a>
<ul class="sectlevel2">
<li><a href="#informix-snapshots">Snapshots</a></li>
<li><a href="#informix-ad-hoc-snapshots">Ad hoc snapshots</a></li>
<li><a href="#debezium-informix-incremental-snapshots">Incremental snapshots</a></li>
<li><a href="#how-debezium-informix-connectors-read-change-stream-records">Change stream records</a></li>
<li><a href="#informix-topic-names">Topic names</a></li>
<li><a href="#informix-schema-history-topic">Schema history topic</a></li>
<li><a href="#about-the-debezium-informix-connector-schema-change-topic">Schema change topic</a></li>
<li><a href="#informix-transaction-metadata">Transaction metadata</a></li>
</ul>
</li>
<li><a href="#informix-events">Data change events</a>
<ul class="sectlevel2">
<li><a href="#informix-change-event-keys">Change event keys</a></li>
<li><a href="#informix-change-event-values">Change event values</a></li>
<li><a href="#informix-create-events"><em>create</em> events</a></li>
<li><a href="#informix-update-events"><em>update</em> events</a></li>
<li><a href="#informix-delete-events"><em>delete</em> events</a></li>
</ul>
</li>
<li><a href="#informix-data-types">Data type mappings</a>
<ul class="sectlevel2">
<li><a href="#informix-basic-types">Basic types</a></li>
<li><a href="#informix-temporal-types">Temporal types</a></li>
<li><a href="#informix-timestamp-types">Timestamp types</a></li>
<li><a href="#informix-decimal-types">Decimal types</a></li>
</ul>
</li>
<li><a href="#setting-up-informix">Setting up Informix</a></li>
<li><a href="#informix-deploying-a-connector">Deployment</a>
<ul class="sectlevel2">
<li><a href="#informix-example-configuration">Informix connector configuration example</a></li>
<li><a href="#informix-adding-connector-configuration">Adding connector configuration</a></li>
<li><a href="#informix-connector-properties">Connector properties</a></li>
</ul>
</li>
<li><a href="#informix-monitoring">Monitoring</a>
<ul class="sectlevel2">
<li><a href="#informix-snapshot-metrics">Snapshot metrics</a></li>
<li><a href="#informix-streaming-metrics">Streaming metrics</a></li>
</ul>
</li>
<li><a href="#informix-schema-evolution">Schema evolution</a>
<ul class="sectlevel2">
<li><a href="#informix-offline-schema-update">Offline schema update</a></li>
</ul>
</li>
</ul>
</div>
<div class="paragraph">
<p>Debezium&#8217;s Informix connector can capture row-level changes in the tables of a Informix database.
For information about the Informix Database versions that are compatible with this connector, see the <a href="https://debezium.io/releases/">Debezium release overview</a>.</p>
</div>
<div class="paragraph">
<p>This connector is strongly inspired by the Debezium implementation of IBM Db2, but uses the Informix Change Streams API for Java to capture transactional data.
The Change Data Capture API captures data from databases that have full row logging enabled and captures transactions from the current logical log.
The API processes all transactions sequentially.</p>
</div>
<div class="paragraph">
<p>The first time that a Debezium Informix connector connects to an Informix database, the connector reads a consistent snapshot of the tables for which the connector is configured to capture changes.
By default, the connector captures changes from all non-system tables.
To customize snapshot behavior, you can set configuration properties to specify the tables to include or exclude in the snapshot.</p>
</div>
<div class="paragraph">
<p>After the snapshot completes, the connector begins to emit change events for updates that are committed to tables that are in capture mode.
By default, change events for a particular table go to a Kafka topic that has the same name as the table. Applications and services can then consume change event records from these topics.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The connector requires the use of the Informix Change Streams API for Java, which is packaged as part of the Informix JDBC installation and is available on Maven Central alongside the latest JDBC drivers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Informix connector has been tested with Informix for Linux.
It is expected that the connector would also work on other platforms such as Windows,
and we&#8217;d love to get your feedback if you can confirm this to be the case.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="informix-overview"><a class="anchor" href="#informix-overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium Informix connector is based on the <a href="https://www.ibm.com/docs/en/informix-servers/14.10?topic=api-change-data-capture">Informix Change Data Capture API</a> that enables Change Data Capture in Informix.</p>
</div>
<div class="paragraph">
<p>The database administrator must prepare the database and the database server for using the Change Data Capture API. See <a href="https://www.ibm.com/docs/en/informix-servers/14.10?topic=api-preparing-use-change-data-capture">Preparing to use the Change Data Capture API</a>.</p>
</div>
<div class="paragraph">
<p>After you place tables in capture mode, the connector can read change stream records for each table update and generate change events from them.
The connector emits a change event record for each row-level insert, update, and delete operation.
By default, change events records are sent to a Kafka topic that has the same name as the source table.
Optionally, you can customize the name of the target topic.
Client applications read the Kafka topics that correspond to the database tables of interest and can react to each row-level change event.</p>
</div>
<div class="paragraph">
<p>Typically, the database administrator puts a table into capture mode in the middle of the life of a table.
This means that the connector does not have the complete history of all changes that have been made to the table.
Therefore, when the Informix connector first connects to a particular Informix database, it starts by performing a <em>consistent snapshot</em> of each table that is in capture mode.
After the connector completes the snapshot, the connector streams change events from the point at which the snapshot was made.
In this way, the connector starts with a consistent view of the tables that are in capture mode, and does not drop any changes that were made while it was performing the snapshot.</p>
</div>
<div class="paragraph">
<p>Debezium connectors are tolerant of failures.
As the connector reads and produces change events, it records the log sequence number (LSN) of the change stream record.
The LSN is the position of the change event in the database log.
If the connector stops for any reason, including communication failures, network problems, or crashes, upon restarting it continues reading the change stream where it left off.
This behavior also applies to snapshots.
That is, if the snapshot was not complete when the connector stopped, after a restart, the connector begins a new snapshot.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-the-informix-connector-works"><a class="anchor" href="#how-the-informix-connector-works"></a>How the connector works</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To optimally configure and run a Debezium Informix connector, it is helpful to understand how the connector performs snapshots, streams change events, determines Kafka topic names, and handles schema changes.</p>
</div>
<div class="sect2">
<h3 id="informix-snapshots"><a class="anchor" href="#informix-snapshots"></a>Snapshots</h3>
<div class="paragraph">
<p>The Informix replication feature is not designed to store the complete history of database changes.
As a result, the Debezium Informix connector cannot retrieve the entire history of the database from the logs.
To enable the connector to establish a baseline for the current state of the database, the first time that the connector starts, it performs an initial <em>consistent snapshot</em> of the tables that are in capture mode.
For each change that the snapshot captures, the connector emits a <code>read</code> event to the Kafka topic for the captured table.</p>
</div>
<div class="paragraph">
<div class="title">Default workflow that the Debezium Informix connector uses to perform an initial snapshot</div>
<p>The following workflow lists the steps that Debezium takes to create a snapshot.
These steps describe the process for a snapshot when the <a href="#informix-property-snapshot-mode"><code>snapshot.mode</code></a> configuration property is set to its default value, which is <code>initial</code>.
You can customize the way that the connector creates snapshots by changing the value of the <code>snapshot.mode</code> property.
If you configure a different snapshot mode, the connector completes the snapshot by using a modified version of this workflow.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Establish a connection to the database.</p>
</li>
<li>
<p>Determine which tables are in capture mode and should be included in the snapshot.
By default, the connector captures the data for all non-system tables.
After the snapshot completes, the connector continues to stream data for the specified tables.
If you want the connector to capture data only from specific tables, you can configure the connector to capture the data for a subset of tables or table elements by setting properties such as <a href="#informix-property-table-include-list"><code>table.include.list</code></a> or <a href="#informix-property-table-exclude-list"><code>table.exclude.list</code></a>.</p>
</li>
<li>
<p>Obtain a lock on each of the tables in capture mode.
This lock ensures that no schema changes can occur in those tables until the snapshot completes.
The level of the lock is determined by the value of the <a href="#informix-property-snapshot-isolation-mode"><code>snapshot.isolation.mode</code></a> connector configuration property.</p>
</li>
<li>
<p>Read the highest (most recent) LSN position in the server&#8217;s transaction log.</p>
</li>
<li>
<p>Capture the schema of all tables or all tables that are designated for capture.
The connector persists schema information in its internal database schema history topic.
The schema history provides information about the structure that is in effect when a change event occurs.<br></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>By default, the connector captures the schema of every table in the database that is in capture mode, including tables that are not configured for capture.
If tables are not configured for capture, the initial snapshot captures only their structure; it does not capture any table data.</p>
</div>
<div class="paragraph">
<p>For more information about why snapshots persist schema information for tables that you did not include in the initial snapshot, see <a href="#understanding-why-initial-snapshots-capture-the-schema-history-for-all-tables">Understanding why initial snapshots capture the schema for all tables</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Release any locks obtained in Step 3.
Other database clients can now write to any previously locked tables.</p>
</li>
<li>
<p>At the LSN position read in Step 4, the connector scans the tables that are designated for capture.
During the scan, the connector completes the following tasks:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Confirms that the table was created before the snapshot began.
If the table was created after the snapshot began, the connector skips the table.
After the snapshot is complete, and the connector transitions to streaming, it emits change events for any tables that were created after the snapshot began.</p>
</li>
<li>
<p>Produces a <code>read</code> event for each row that is captured from a table.
All <code>read</code> events contain the same LSN position, which is the LSN position that was obtained in step 4.</p>
</li>
<li>
<p>Emits each <code>read</code> event to the Kafka topic for the source table.</p>
</li>
<li>
<p>Releases data table locks, if applicable.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Record the successful completion of the snapshot in the connector offsets.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The resulting initial snapshot captures the current state of each row in the captured tables.
From this baseline state, the connector captures subsequent changes as they occur.</p>
</div>
<div class="paragraph">
<p>After the snapshot process begins, if the process is interrupted due to connector failure, rebalancing, or other reasons, the process restarts after the connector restarts.</p>
</div>
<div class="paragraph">
<p>After the connector completes the initial snapshot, it continues streaming from the position that it read in Step 4 so that it does not miss any updates.</p>
</div>
<div class="paragraph">
<p>If the connector stops again for any reason, after it restarts, it resumes streaming changes from where it previously left off.</p>
</div>
<div class="sect3">
<h4 id="understanding-why-initial-snapshots-capture-the-schema-history-for-all-tables"><a class="anchor" href="#understanding-why-initial-snapshots-capture-the-schema-history-for-all-tables"></a>Understanding why initial snapshots capture the schema history for all tables</h4>
<div class="paragraph">
<p>The initial snapshot that a connector runs captures two types of information:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Table data</dt>
<dd>
<p>Information about <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> operations in tables that are named in the connector&#8217;s <a href="#informix-property-table-include-list"><code>table.include.list</code></a> property.</p>
</dd>
<dt class="hdlist1">Schema data</dt>
<dd>
<p>DDL statements that describe the structural changes that are applied to tables.
Schema data is persisted to both the internal schema history topic, and to the connector&#8217;s schema change topic, if one is configured.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>After you run an initial snapshot, you might notice that the snapshot captures schema information for tables that are not designated for capture.
By default, initial snapshots are designed to capture schema information for every table that is present in the database, not only from tables that are designated for capture.
Connectors require that the table&#8217;s schema is present in the schema history topic before they can capture a table.
By enabling the initial snapshot to capture schema data for tables that are not part of the original capture set, Debezium prepares the connector to readily capture event data from these tables should that later become necessary.
If the initial snapshot does not capture a table&#8217;s schema, you must add the schema to the history topic before the connector can capture data from the table.</p>
</div>
<div class="paragraph">
<p>In some cases, you might want to limit schema capture in the initial snapshot.
This can be useful when you want to reduce the time required to complete a snapshot.
Or when Debezium connects to the database instance through a user account that has access to multiple logical databases, but you want the connector to capture changes only from tables in a specific logic database.</p>
</div>
<div class="ulist">
<div class="title">Additional information</div>
<ul>
<li>
<p><a href="#informix-capturing-data-from-tables-not-captured-by-the-initial-snapshot">Capturing data from tables not captured by the initial snapshot (no schema change)</a></p>
</li>
<li>
<p><a href="#informix-capturing-data-from-new-tables-with-schema-changes">Capturing data from tables not captured by the initial snapshot (schema change)</a></p>
</li>
<li>
<p>Setting the <a href="#informix-property-database-history-store-only-captured-tables-ddl"><code>schema.history.internal.store.only.captured.tables.ddl</code></a> property to specify the tables from which to capture schema information.</p>
</li>
<li>
<p>Setting the <a href="#informix-property-database-history-store-only-captured-databases-ddl"><code>schema.history.internal.store.only.captured.databases.ddl</code></a> property to specify the logical databases from which to capture schema changes.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="informix-capturing-data-from-tables-not-captured-by-the-initial-snapshot"><a class="anchor" href="#informix-capturing-data-from-tables-not-captured-by-the-initial-snapshot"></a>Capturing data from tables not captured by the initial snapshot (no schema change)</h4>
<div class="paragraph">
<p>In some cases, you might want the connector to capture data from a table whose schema was not captured by the initial snapshot.
Depending on the connector configuration, the initial snapshot might capture the table schema only for specific tables in the database.
If the table schema is not present in the history topic, the connector fails to capture the table, and reports a missing schema error.</p>
</div>
<div class="paragraph">
<p>You might still be able to capture data from the table, but you must perform additional steps to add the table schema.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You want to capture data from a table with a schema that the connector did not capture during the initial snapshot.</p>
</li>
<li>
<p>No schema changes were applied to the table between the LSNs of the earliest and latest change table entry that the connector reads.
For information about capturing data from a new table that has undergone structural changes, see <a href="#informix-capturing-data-from-new-tables-with-schema-changes">Capturing data from tables not captured by the initial snapshot (schema change)</a>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Stop the connector.</p>
</li>
<li>
<p>Remove the internal database schema history topic that is specified by the <a href="#informix-property-database-history-kafka-topic"><code>schema.history.internal.kafka.topic property</code></a>.</p>
</li>
<li>
<p>Clear the offsets in the configured Kafka Connect <a href="https://kafka.apache.org/documentation/#connectconfigs_offset.storage.topic"><code>offset.storage.topic</code></a>.
For more information about how to remove offsets, see the <a href="https://debezium.io/documentation/faq/#how_to_remove_committed_offsets_for_a_connector">Debezium community FAQ</a>.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Removing offsets should be performed only by advanced users who have experience in manipulating internal Kafka Connect data.
This operation is potentially destructive, and should be performed only as a last resort.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Apply the following changes to the connector configuration:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>(Optional) Set the value of <a href="#informix-property-database-history-store-only-captured-tables-ddl"><code>schema.history.internal.captured.tables.ddl</code></a> to <code>false</code>.
This setting causes the snapshot to capture the schema for all tables, and guarantees that, in the future, the connector can reconstruct the schema history for all tables.<br></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Snapshots that capture the schema for all tables require more time to complete.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add the tables that you want the connector to capture to <a href="#informix-property-table-include-list"><code>table.include.list</code></a>.</p>
</li>
<li>
<p>Set the <a href="#informix-property-snapshot-mode"><code>snapshot.mode</code></a> to one of the following values:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>initial</code></dt>
<dd>
<p>When you restart the connector, it takes a full snapshot of the database that captures the table data and table structures.<br>
If you select this option, consider setting the value of the <a href="#informix-property-database-history-store-only-captured-tables-ddl"><code>schema.history.internal.captured.tables.ddl</code></a> property to <code>false</code> to enable the connector to capture the schema of all tables.</p>
</dd>
<dt class="hdlist1"><code>schema_only</code></dt>
<dd>
<p>When you restart the connector, it takes a snapshot that captures only the table schema.
Unlike a full data snapshot, this option does not capture any table data.
Use this option if you want to restart the connector more quickly than with a full snapshot.</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Restart the connector.
The connector completes the type of snapshot specified by the <code>snapshot.mode</code>.</p>
</li>
<li>
<p>(Optional) If the connector performed a <code>schema_only</code> snapshot, after the snapshot completes, initiate an <a href="#debezium-informix-incremental-snapshots">incremental snapshot</a> to capture data from the tables that you added.
The connector runs the snapshot while it continues to stream real-time changes from the tables.
Running an incremental snapshot captures the following data changes:</p>
<div class="ulist">
<ul>
<li>
<p>For tables that the connector previously captured, the incremental snapsot captures changes that occur while the connector was down, that is, in the interval between the time that the connector was stopped, and the current restart.</p>
</li>
<li>
<p>For newly added tables, the incremental snapshot captures all existing table rows.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="informix-capturing-data-from-new-tables-with-schema-changes"><a class="anchor" href="#informix-capturing-data-from-new-tables-with-schema-changes"></a>Capturing data from tables not captured by the initial snapshot (schema change)</h4>
<div class="paragraph">
<p>If a schema change is applied to a table, records that are committed before the schema change have different structures than those that were committed after the change.
When Debezium captures data from a table, it reads the schema history to ensure that it applies the correct schema to each event.
If the schema is not present in the schema history topic, the connector is unable to capture the table, and an error results.</p>
</div>
<div class="paragraph">
<p>If you want to capture data from a table that was not captured by the initial snapshot, and the schema of the table was modified, you must add the schema to the history topic, if it is not already available.
You can add the schema by running a new schema snapshot, or by running an initial snapshot for the table.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You want to capture data from a table with a schema that the connector did not capture during the initial snapshot.</p>
</li>
<li>
<p>A schema change was applied to the table so that the records to be captured do not have a uniform structure.</p>
</li>
</ul>
</div>
<div class="dlist">
<div class="title">Procedure</div>
<dl>
<dt class="hdlist1">Initial snapshot captured the schema for all tables (<code>store.only.captured.tables.ddl</code> was set to <code>false</code>)</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit the <a href="#informix-property-table-include-list"><code>table.include.list</code></a> property to specify the tables that you want to capture.</p>
</li>
<li>
<p>Restart the connector.</p>
</li>
<li>
<p>Initiate an <a href="#debezium-informix-incremental-snapshots">incremental snapshot</a> if you want to capture existing data from the newly added tables.</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1">Initial snapshot did not capture the schema for all tables (<code>store.only.captured.tables.ddl</code> was set to <code>true</code>)</dt>
<dd>
<p>If the initial snapshot did not save the schema of the table that you want to capture, complete one of the following procedures:</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Procedure 1: Schema snapshot, followed by incremental snapshot</dt>
<dd>
<p>In this procedure, the connector first performs a schema snapshot.
You can then initiate an incremental snapshot to enable the connector to synchronize data.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop the connector.</p>
</li>
<li>
<p>Remove the internal database schema history topic that is specified by the <a href="#informix-property-database-history-kafka-topic"><code>schema.history.internal.kafka.topic property</code></a>.</p>
</li>
<li>
<p>Clear the offsets in the configured Kafka Connect <a href="https://kafka.apache.org/documentation/#connectconfigs_offset.storage.topic"><code>offset.storage.topic</code></a>.
For more information about how to remove offsets, see the <a href="https://debezium.io/documentation/faq/#how_to_remove_committed_offsets_for_a_connector">Debezium community FAQ</a>.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Removing offsets should be performed only by advanced users who have experience in manipulating internal Kafka Connect data.
This operation is potentially destructive, and should be performed only as a last resort.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Set values for properties in the connector configuration as described in the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the value of the <a href="#informix-property-snapshot-mode"><code>snapshot.mode</code></a> property to <code>schema_only</code>.</p>
</li>
<li>
<p>Edit the <a href="#informix-property-table-include-list"><code>table.include.list</code></a> to add the tables that you want to capture.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Restart the connector.</p>
</li>
<li>
<p>Wait for Debezium to capture the schema of the new and existing tables.
Data changes that occurred any tables after the connector stopped are not captured.</p>
</li>
<li>
<p>To ensure that no data is lost, initiate an <a href="#debezium-informix-incremental-snapshots">incremental snapshot</a>.</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1">Procedure 2: Initial snapshot, followed by optional incremental snapshot</dt>
<dd>
<p>In this procedure the connector performs a full initial snapshot of the database.
As with any initial snapshot, in a database with many large tables, running an initial snapshot can be a time-consuming operation.
After the snapshot completes, you can optionally trigger an incremental snapshot to capture any changes that occur while the connector is off-line.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stop the connector.</p>
</li>
<li>
<p>Remove the internal database schema history topic that is specified by the <a href="#informix-property-database-history-kafka-topic"><code>schema.history.internal.kafka.topic property</code></a>.</p>
</li>
<li>
<p>Clear the offsets in the configured Kafka Connect <a href="https://kafka.apache.org/documentation/#connectconfigs_offset.storage.topic"><code>offset.storage.topic</code></a>.
For more information about how to remove offsets, see the <a href="https://debezium.io/documentation/faq/#how_to_remove_committed_offsets_for_a_connector">Debezium community FAQ</a>.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Removing offsets should be performed only by advanced users who have experience in manipulating internal Kafka Connect data.
This operation is potentially destructive, and should be performed only as a last resort.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Edit the <a href="#informix-property-table-include-list"><code>table.include.list</code></a> to add the tables that you want to capture.</p>
</li>
<li>
<p>Set values for properties in the connector configuration as described in the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Set the value of the <a href="#informix-property-snapshot-mode"><code>snapshot.mode</code></a> property to <code>initial</code>.</p>
</li>
<li>
<p>(Optional) Set <a href="#informix-property-database-history-store-only-captured-tables-ddl"><code>schema.history.internal.store.only.captured.tables.ddl</code></a> to <code>false</code>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Restart the connector.
The connector takes a full database snapshot.
After the snapshot completes, the connector transitions to streaming.</p>
</li>
<li>
<p>(Optional) To capture any data that changed while the connector was off-line, initiate an <a href="#debezium-informix-incremental-snapshots">incremental snapshot</a>.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect2">
<h3 id="informix-ad-hoc-snapshots"><a class="anchor" href="#informix-ad-hoc-snapshots"></a>Ad hoc snapshots</h3>
<div class="paragraph">
<p>By default, a connector runs an initial snapshot operation only after it starts for the first time.
Following this initial snapshot, under normal circumstances, the connector does not repeat the snapshot process.
Any future change event data that the connector captures comes in through the streaming process only.</p>
</div>
<div class="paragraph">
<p>However, in some situations the data that the connector obtained during the initial snapshot might become stale, lost, or incomplete.
To provide a mechanism for recapturing table data, Debezium includes an option to perform ad hoc snapshots.
You might want to perform an ad hoc snapshot after any of the following changes occur in your Debezium environment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The connector configuration is modified to capture a different set of tables.</p>
</li>
<li>
<p>Kafka topics are deleted and must be rebuilt.</p>
</li>
<li>
<p>Data corruption occurs due to a configuration error or some other problem.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can re-run a snapshot for a table for which you previously captured a snapshot by initiating a so-called <em>ad-hoc snapshot</em>.
Ad hoc snapshots require the use of <a href="../configuration/signalling.html#sending-signals-to-a-debezium-connector" class="xref page">signaling tables</a>.
You initiate an ad hoc snapshot by sending a signal request to the Debezium signaling table.</p>
</div>
<div class="paragraph">
<p>When you initiate an ad hoc snapshot of an existing table, the connector appends content to the topic that already exists for the table.
If a previously existing topic was removed, Debezium can create a topic automatically if <a href="../configuration/topic-auto-create-config.html#customizing-debezium-automatically-created-topics" class="xref page">automatic topic creation</a> is enabled.</p>
</div>
<div class="paragraph">
<p>Ad hoc snapshot signals specify the tables to include in the snapshot.
The snapshot can capture the entire contents of the database, or capture only a subset of the tables in the database.
Also, the snapshot can capture a subset of the contents of the table(s) in the database.</p>
</div>
<div class="paragraph">
<p>You specify the tables to capture by sending an <code>execute-snapshot</code> message to the signaling table.
Set the type of the <code>execute-snapshot</code> signal to <code>incremental</code> or <code>blocking</code>, and provide the names of the tables to include in the snapshot, as described in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Example of an ad hoc <code>execute-snapshot</code> signal record</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the type of snapshot that you want to run.<br>
Currently, you can request <code>incremental</code> or <code>blocking</code> snapshots.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array that contains regular expressions matching the fully-qualified names of the table to be snapshotted.<br>
The format of the names is the same as for the <code>signal.data.collection</code> configuration option.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="line-through">additional-condition</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional string, which specifies a condition based on the column(s) of the table(s), to capture a
subset of the contents of the table(s).<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This property is deprecated.
To specify criteria for defining the subset of data that you want the snapshot to capture, use the <code>additional-conditions</code> parameter.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>additional-conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional array that specifies a set of additional conditions that the connector evaluates to determine the subset of records to include in a snapshot.<br>
Each additional condition is an object that specifies the criteria for filtering the data that an ad hoc snapshot captures.
You can set the following parameters for each additional condition:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>data-collection</code></dt>
<dd>
<p>The fully-qualified name of the table that the filter applies to.
You can apply different filters to each table.</p>
</dd>
<dt class="hdlist1"><code>filter</code></dt>
<dd>
<p>Specifies column values that must be present in a database record for the snapshot to include it, for example,  <code>"color='blue'"</code>.<br>
<br>
The values that you assign to the <code>filter</code> parameter are the same types of values that you might specify in the <code>WHERE</code> clause of <code>SELECT</code> statements when you set the <code>snapshot.select.statement.overrides</code> property for a blocking snapshot.
In earlier Debezium releases, an explicit <code>filter</code> parameter was not defined for snapshot signals; instead, filter criteria were implied by the values that were specified for the now deprecated  <code>additional-condition</code> parameter.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>surrogate-key</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional string that specifies the column name that the connector uses as the primary key of a table during the snapshot process.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Triggering an ad hoc incremental snapshot</div>
<p>You initiate an ad hoc incremental snapshot by adding an entry with the <code>execute-snapshot</code> signal type to the signaling table.
After the connector processes the message, it begins the snapshot operation.
The snapshot process reads the first and last primary key values and uses those values as the start and end point for each table.
Based on the number of entries in the table, and the configured chunk size, Debezium divides the table into chunks, and proceeds to snapshot each chunk, in succession, one at a time.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="#debezium-informix-incremental-snapshots">Incremental snapshots</a>.</p>
</div>
<div class="paragraph">
<div class="title">Triggering an ad hoc blocking snapshot</div>
<p>You initiate an ad hoc blocking snapshot by adding an entry with the <code>execute-snapshot</code> signal type to the signaling table.
After the connector processes the message, it begins the snapshot operation.
The connector temporarily stops streaming, and then initiates a snapshot of the specified table, following the same process that it uses during an initial snapshot.
After the snapshot completes, the connector resumes streaming.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="#informix-blocking-snapshots">Blocking snapshots</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="debezium-informix-incremental-snapshots"><a class="anchor" href="#debezium-informix-incremental-snapshots"></a>Incremental snapshots</h3>
<div class="paragraph">
<p>To provide flexibility in managing snapshots, Debezium includes a supplementary snapshot mechanism, known as <em>incremental snapshotting</em>.
Incremental snapshots rely on the Debezium mechanism for <a href="../configuration/signalling.html#sending-signals-to-a-debezium-connector" class="xref page">sending signals to a Debezium connector</a>.
Incremental snapshots are based on the <a href="https://github.com/debezium/debezium-design-documents/blob/main/DDD-3.md">DDD-3</a> design document.</p>
</div>
<div class="paragraph">
<p>In an incremental snapshot, instead of capturing the full state of a database all at once, as in an initial snapshot, Debezium captures each table in phases, in a series of configurable chunks.
You can specify the tables that you want the snapshot to capture and the <a href="#informix-property-incremental-snapshot-chunk-size">size of each chunk</a>.
The chunk size determines the number of rows that the snapshot collects during each fetch operation on the database.
The default chunk size for incremental snapshots is 1024 rows.</p>
</div>
<div class="paragraph">
<p>As an incremental snapshot proceeds, Debezium uses watermarks to track its progress, maintaining a record of each table row that it captures.
This phased approach to capturing data provides the following advantages over the standard initial snapshot process:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You can run incremental snapshots in parallel with streamed data capture, instead of postponing streaming until the snapshot completes.
The connector continues to capture near real-time events from the change log throughout the snapshot process, and neither operation blocks the other.</p>
</li>
<li>
<p>If the progress of an incremental snapshot is interrupted, you can resume it without losing any data.
After the process resumes, the snapshot begins at the point where it stopped, rather than recapturing the table from the beginning.</p>
</li>
<li>
<p>You can run an incremental snapshot on demand at any time, and repeat the process as needed to adapt to database updates.
For example, you might re-run a snapshot after you modify the connector configuration to add a table to its <a href="#informix-property-table-include-list"><code>table.include.list</code></a> property.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Incremental snapshot process</div>
<p>When you run an incremental snapshot, Debezium sorts each table by primary key and then splits the table into chunks based on the <a href="#informix-property-incremental-snapshot-chunk-size">configured chunk size</a>.
Working chunk by chunk, it then captures each table row in a chunk.
For each row that it captures, the snapshot emits a <code>READ</code> event.
That event represents the value of the row when the snapshot for the chunk began.</p>
</div>
<div class="paragraph">
<p>As a snapshot proceeds, its likely that other processes continue to access the database, potentially modifying table records.
To reflect such changes, <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code> operations are committed to the transaction log as per usual.
Similarly, the ongoing Debezium streaming process continues to detect these change events and emits corresponding change event records to Kafka.</p>
</div>
<div class="paragraph">
<div class="title">How Debezium resolves collisions among records with the same primary key</div>
<p>In some cases, the <code>UPDATE</code> or <code>DELETE</code> events that the streaming process emits are received out of sequence.
That is, the streaming process might emit an event that modifies a table row before the snapshot captures the chunk that contains the <code>READ</code> event for that row.
When the snapshot eventually emits the corresponding <code>READ</code> event for the row, its value is already superseded.
To ensure that incremental snapshot events that arrive out of sequence are processed in the correct logical order, Debezium employs a buffering scheme for resolving collisions.
Only after collisions between the snapshot events and the streamed events are resolved does Debezium emit an event record to Kafka.</p>
</div>
<div class="paragraph">
<div class="title">Snapshot window</div>
<p>To assist in resolving collisions between late-arriving <code>READ</code> events and streamed events that modify the same table row, Debezium employs a so-called <em>snapshot window</em>.
The snapshot windows demarcates the interval during which an incremental snapshot captures data for a specified table chunk.
Before the snapshot window for a chunk opens, Debezium follows its usual behavior and emits events from the transaction log directly downstream to the target Kafka topic.
But from the moment that the snapshot for a particular chunk opens, until it closes, Debezium performs a de-duplication step to resolve collisions between events that have the same primary key..</p>
</div>
<div class="paragraph">
<p>For each data collection, the Debezium emits two types of events, and stores the records for them both in a single destination Kafka topic.
The snapshot records that it  captures directly from a table are emitted as <code>READ</code> operations.
Meanwhile, as users continue to update records in the data collection, and the transaction log is updated to reflect each commit, Debezium emits <code>UPDATE</code> or <code>DELETE</code> operations for each change.</p>
</div>
<div class="paragraph">
<p>As the snapshot window opens, and Debezium begins processing a snapshot chunk, it delivers snapshot records to a memory buffer.
During the snapshot windows, the primary keys of the <code>READ</code> events in the buffer are compared to the primary keys of the incoming streamed events.
If no match is found, the streamed event record is sent directly to Kafka.
If Debezium detects a match, it discards the buffered <code>READ</code> event, and writes the streamed record to the destination topic, because the streamed event logically supersede the static snapshot event.
After the snapshot window for the chunk closes, the buffer contains only <code>READ</code> events for which no related transaction log events exist.
Debezium emits these remaining <code>READ</code> events to the table&#8217;s Kafka topic.</p>
</div>
<div class="paragraph">
<p>The connector repeats the process for each snapshot chunk.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Debezium connector for Informix does not support schema changes while an incremental snapshot is running.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="informix-triggering-an-incremental-snapshot"><a class="anchor" href="#informix-triggering-an-incremental-snapshot"></a>Triggering an incremental snapshot</h4>
<div class="paragraph">
<p>Currently, the only way to initiate an incremental snapshot is to send an <a href="../configuration/signalling.html#debezium-signaling-ad-hoc-snapshots" class="xref page">ad hoc snapshot signal</a> to the signaling table on the source database.</p>
</div>
<div class="paragraph">
<p>You submit a signal to the signaling table as SQL <code>INSERT</code> queries.</p>
</div>
<div class="paragraph">
<p>After Debezium detects the change in the signaling table, it reads the signal, and runs the requested snapshot operation.</p>
</div>
<div class="paragraph">
<p>The query that you submit specifies the tables to include in the snapshot, and, optionally, specifies the type of snapshot operation.
Currently supports the <code>incremental</code> and <code>blocking</code> types.</p>
</div>
<div class="paragraph">
<p>To specify the tables to include in the snapshot, provide a <code>data-collections</code> array that lists the tables or an array of regular expressions used to match tables, for example,<br></p>
</div>
<div class="paragraph">
<p><code>{"data-collections": ["public.MyFirstTable", "public.MySecondTable"]}</code><br></p>
</div>
<div class="paragraph">
<p>The <code>data-collections</code> array for an incremental snapshot signal has no default value.
If the <code>data-collections</code> array is empty, Debezium detects that no action is required and does not perform a snapshot.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the name of a table that you want to include in a snapshot contains a dot (<code>.</code>) in the name of the database, schema, or table, to add the table to the <code>data-collections</code> array, you must escape each part of the name in double quotes.<br>
<br>
For example, to include a table that exists in the <code><strong>public</strong></code> schema and that has the name <code><strong>My.Table</strong></code>, use the following format: <code><strong>"public"."My.Table"</strong></code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="../configuration/signalling.html#debezium-signaling-enabling-source-signaling-channel" class="xref page">Signaling is enabled</a>.<br></p>
<div class="ulist">
<ul>
<li>
<p>A signaling data collection exists on the source database.</p>
</li>
<li>
<p>The signaling data collection is specified in the <a href="#informix-property-signal-data-collection"><code>signal.data.collection</code></a> property.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Using a source signaling channel to trigger an incremental snapshot</div>
<ol class="arabic">
<li>
<p>Send a SQL query to add the ad hoc incremental snapshot request to the signaling table:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO <em>&lt;signalTable&gt;</em> (id, type, data) VALUES (<em>'&lt;id&gt;'</em>, <em>'&lt;snapshotType&gt;'</em>, '{"data-collections": ["<em>&lt;tableName&gt;</em>","<em>&lt;tableName&gt;</em>"],"type":"<em>&lt;snapshotType&gt;</em>","additional-conditions":[{"data-collection": "<em>&lt;tableName&gt;</em>", "filter": "<em>&lt;additional-condition&gt;</em>"}]}');</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO myschema.debezium_signal (id, type, data) <i class="conum" data-value="1"></i><b>(1)</b>
values ('ad-hoc-1',   <i class="conum" data-value="2"></i><b>(2)</b>
    'execute-snapshot',  <i class="conum" data-value="3"></i><b>(3)</b>
    '{"data-collections": ["schema1.table1", "schema2.table2"], <i class="conum" data-value="4"></i><b>(4)</b>
    "type":"incremental", <i class="conum" data-value="5"></i><b>(5)</b>
    "additional-conditions":[{"data-collection": "schema1.table1" ,"filter":"color=\'blue\'"}]}'); <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="paragraph">
<p>The values of the <code>id</code>,<code>type</code>, and <code>data</code> parameters in the command correspond to the <a href="../configuration/signalling.html#debezium-signaling-description-of-required-structure-of-a-signaling-data-collection" class="xref page">fields of the signaling table</a>.</p>
</div>
<div class="paragraph">
<p>The following table describes the parameters in the example:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Descriptions of fields in a SQL command for sending an incremental snapshot signal to the signaling table</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 22.2222%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>myschema.debezium_signal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the fully-qualified name of the signaling table on the source database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ad-hoc-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>id</code> parameter specifies an arbitrary string that is assigned as the <code>id</code> identifier for the signal request.<br>
Use this string to identify logging messages to entries in the signaling table.
Debezium does not use this string.
Rather, during the snapshot, Debezium generates its own <code>id</code> string as a watermarking signal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>execute-snapshot</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>type</code> parameter specifies the operation that the signal is intended to trigger.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A required component of the <code>data</code> field of a signal that specifies an array of table names or regular expressions to match table names to include in the snapshot.<br>
The array lists regular expressions which match tables by their fully-qualified names, using the same format as you use to specify the name of the connector&#8217;s signaling table in the <a href="#informix-property-signal-data-collection"><code>signal.data.collection</code></a> configuration property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional <code>type</code> component of the <code>data</code> field of a signal that specifies the type of snapshot operation to run.<br>
Currently supports the <code>incremental</code> and <code>blocking</code> types.<br>
If you do not specify a value, the connector runs an incremental snapshot.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>additional-conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional array that specifies a set of additional conditions that the connector evaluates to determine the subset of records to include in a snapshot.<br>
Each additional condition is an object with <code>data-collection</code> and <code>filter</code> properties.
You can specify different filters for each data collection.<br>
* The <code>data-collection</code> property is the fully-qualified name of the data collection for which the filter will be applied.
For more information about the <code>additional-conditions</code> parameter, see <a href="#informix-incremental-snapshots-additional-conditions">Ad hoc incremental snapshots with <code>additional-conditions</code></a>.</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
<div id="informix-incremental-snapshots-additional-conditions" class="paragraph">
<div class="title">Ad hoc incremental snapshots with <code>additional-conditions</code></div>
<p>If you want a snapshot to include only a subset of the content in a table, you can modify the signal request by appending an <code>additional-conditions</code> parameter to the snapshot signal.</p>
</div>
<div class="paragraph">
<p>The SQL query for a typical snapshot takes the following form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT * FROM <em>&lt;tableName&gt;</em> ....</code></pre>
</div>
</div>
<div class="paragraph">
<p>By adding an <code>additional-conditions</code> parameter, you append a <code>WHERE</code> condition to the SQL query, as in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT * FROM <em>&lt;data-collection&gt;</em> WHERE <em>&lt;filter&gt;</em> ....</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example shows a SQL query to send an ad hoc incremental snapshot request with an additional condition to the signaling table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO <em>&lt;signalTable&gt;</em> (id, type, data) VALUES (<em>'&lt;id&gt;'</em>, <em>'&lt;snapshotType&gt;'</em>, '{"data-collections": ["<em>&lt;tableName&gt;</em>","<em>&lt;tableName&gt;</em>"],"type":"<em>&lt;snapshotType&gt;</em>","additional-conditions":[{"data-collection": "<em>&lt;tableName&gt;</em>", "filter": "<em>&lt;additional-condition&gt;</em>"}]}');</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, suppose you have a <code>products</code> table that contains the following columns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>id</code> (primary key)</p>
</li>
<li>
<p><code>color</code></p>
</li>
<li>
<p><code>quantity</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want an incremental snapshot of the <code>products</code> table to include only the data items where <code>color=blue</code>, you can use the following SQL statement to trigger the snapshot:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO myschema.debezium_signal (id, type, data) VALUES('ad-hoc-1', 'execute-snapshot', '{"data-collections": ["schema1.products"],"type":"incremental", "additional-conditions":[{"data-collection": "schema1.products", "filter": "color=blue"}]}');</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>additional-conditions</code> parameter also enables you to pass conditions that are based on more than one column.
For example, using the <code>products</code> table from the previous example, you can submit a query that triggers an incremental snapshot that includes the data of only those items for which <code>color=blue</code> and <code>quantity&gt;10</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO myschema.debezium_signal (id, type, data) VALUES('ad-hoc-1', 'execute-snapshot', '{"data-collections": ["schema1.products"],"type":"incremental", "additional-conditions":[{"data-collection": "schema1.products", "filter": "color=blue AND quantity&gt;10"}]}');</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example, shows the JSON for an incremental snapshot event that is captured by a connector.</p>
</div>
<div class="listingblock">
<div class="title">Example: Incremental snapshot event message</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "before":null,
    "after": {
        "pk":"1",
        "value":"New data"
    },
    "source": {
        ...
        "snapshot":"incremental" <i class="conum" data-value="1"></i><b>(1)</b>
    },
    "op":"r", <i class="conum" data-value="2"></i><b>(2)</b>
    "ts_ms":"1620393591654",
    "ts_us":"1620393591654547",
    "ts_ns":"1620393591654547920",
    "transaction":null
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>snapshot</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the type of snapshot operation to run.<br>
Currently, the only valid options are <code>blocking</code> and <code>incremental</code>.<br>
Specifying a <code>type</code> value in the SQL query that you submit to the signaling table is optional.<br>
If you do not specify a value, the connector runs an incremental snapshot.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>op</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the event type.<br>
The value for snapshot events is <code>r</code>, signifying a <code>READ</code> operation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="informix-triggering-an-incremental-snapshot-kafka"><a class="anchor" href="#informix-triggering-an-incremental-snapshot-kafka"></a>Using the Kafka signaling channel to trigger an incremental snapshot</h4>
<div class="paragraph">
<p>You can send a message to the <a href="../configuration/signalling.html#debezium-signaling-enabling-kafka-signaling-channel" class="xref page">configured Kafka topic</a> to request the connector to run an ad hoc incremental snapshot.</p>
</div>
<div class="paragraph">
<p>The key of the Kafka message must match the value of the <code>topic.prefix</code> connector configuration option.</p>
</div>
<div class="paragraph">
<p>The value of the message is a JSON object with <code>type</code> and <code>data</code> fields.</p>
</div>
<div class="paragraph">
<p>The signal type is <code>execute-snapshot</code>, and the <code>data</code> field must have the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Execute snapshot data fields</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The type of the snapshot to be executed.
Currently Debezium supports the <code>incremental</code> and <code>blocking</code> types.<br>
See the next section for more details.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An array of comma-separated regular expressions that match the fully-qualified names of tables to include in the snapshot.<br>
Specify the names by using the same format as is required for the <a href="#informix-property-signal-data-collection">signal.data.collection</a> configuration option.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><span class="line-through">additional-condition</span></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional string that specifies a condition that the connector evaluates to designate a subset of records to include in a snapshot.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This property is deprecated and should be replaced by the <code>additional-conditions</code> property.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>additional-conditions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional array of additional conditions that specifies criteria that the connector evaluates to designate a subset of records to include in a snapshot.<br>
Each additional condition is an object that specifies the criteria for filtering the data that an ad hoc snapshot captures.
You can set the following parameters for each additional condition:
<code>data-collection</code>:: The fully-qualified name of the table that the filter applies to.
You can apply different filters to each table.
<code>filter</code>:: Specifies column values that must be present in a database record for the snapshot to include it, for example,  <code>"color='blue'"</code>.<br>
<br>
The values that you assign to the <code>filter</code> parameter are the same types of values that you might specify in the <code>WHERE</code> clause of <code>SELECT</code> statements when you set the <code>snapshot.select.statement.overrides</code> property for a blocking snapshot.
In earlier Debezium releases, an explicit <code>filter</code> parameter was not defined for snapshot signals; instead, filter criteria were implied by the values that were specified for the now deprecated <code>additional-condition</code> parameter.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>An example of the execute-snapshot Kafka message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Key = `test_connector`

Value = `{"type":"execute-snapshot","data": {"data-collections": ["schema1.table1", "schema1.table2"], "type": "INCREMENTAL"}}`</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Ad hoc incremental snapshots with additional-conditions</div>
<p>Debezium uses the <code>additional-conditions</code> field to select a subset of a table&#8217;s content.</p>
</div>
<div class="paragraph">
<p>Typically, when Debezium runs a snapshot, it runs a SQL query such as:</p>
</div>
<div class="paragraph">
<p><code>SELECT * FROM <em>&lt;tableName&gt;</em> &#8230;&#8203;.</code></p>
</div>
<div class="paragraph">
<p>When the snapshot request includes an <code>additional-conditions</code> property, the <code>data-collection</code> and <code>filter</code> parameters of the  property are appended to the SQL query, for example:</p>
</div>
<div class="paragraph">
<p><code>SELECT * FROM <em>&lt;data-collection&gt;</em> WHERE <em>&lt;filter&gt;</em> &#8230;&#8203;.</code></p>
</div>
<div class="paragraph">
<p>For example, given a <code>products</code> table with the columns <code>id</code> (primary key), <code>color</code>, and <code>brand</code>, if you want a snapshot to include only content for which <code>color='blue'</code>, when you request the snapshot, you could add the <code>additional-conditions</code> property to filter the content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Key = `test_connector`

Value = `{"type":"execute-snapshot","data": {"data-collections": ["schema1.products"], "type": "INCREMENTAL", "additional-conditions": [{"data-collection": "schema1.products" ,"filter":"color='blue'"}]}}`</pre>
</div>
</div>
<div class="paragraph">
<p>You can use the <code>additional-conditions</code> property to pass conditions based on multiple columns.
For example, using the same <code>products</code> table as in the previous example, if you want a snapshot to include only the content from the <code>products</code> table for which <code>color='blue'</code>, and <code>brand='MyBrand'</code>, you could send the following request:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Key = `test_connector`

Value = `{"type":"execute-snapshot","data": {"data-collections": ["schema1.products"], "type": "INCREMENTAL", "additional-conditions": [{"data-collection": "schema1.products" ,"filter":"color='blue' AND brand='MyBrand'"}]}}`</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="informix-stopping-an-incremental-snapshot"><a class="anchor" href="#informix-stopping-an-incremental-snapshot"></a>Stopping an incremental snapshot</h4>
<div class="paragraph">
<p>You can also stop an incremental snapshot by sending a signal to the table on the source database.
You submit a stop snapshot signal to the table by sending a SQL <code>INSERT</code> query.</p>
</div>
<div class="paragraph">
<p>After Debezium detects the change in the signaling table, it reads the signal, and stops the incremental snapshot operation if it&#8217;s in progress.</p>
</div>
<div class="paragraph">
<p>The query that you submit specifies the snapshot operation of <code>incremental</code>, and, optionally, the tables of the current running snapshot to be removed.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="../configuration/signalling.html#debezium-signaling-enabling-source-signaling-channel" class="xref page">Signaling is enabled</a>.<br></p>
<div class="ulist">
<ul>
<li>
<p>A signaling data collection exists on the source database.</p>
</li>
<li>
<p>The signaling data collection is specified in the <a href="#informix-property-signal-data-collection"><code>signal.data.collection</code></a> property.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Using a source signaling channel to stop an incremental snapshot</div>
<ol class="arabic">
<li>
<p>Send a SQL query to stop the ad hoc incremental snapshot to the signaling table:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO <em>&lt;signalTable&gt;</em> (id, type, data) values (<em>'&lt;id&gt;'</em>, 'stop-snapshot', '{"data-collections": ["<em>&lt;tableName&gt;</em>","<em>&lt;tableName&gt;</em>"],"type":"incremental"}');</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO myschema.debezium_signal (id, type, data) <i class="conum" data-value="1"></i><b>(1)</b>
values ('ad-hoc-1',   <i class="conum" data-value="2"></i><b>(2)</b>
    'stop-snapshot',  <i class="conum" data-value="3"></i><b>(3)</b>
    '{"data-collections": ["schema1.table1", "schema2.table2"], <i class="conum" data-value="4"></i><b>(4)</b>
    "type":"incremental"}'); <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="paragraph">
<p>The values of the <code>id</code>, <code>type</code>, and <code>data</code> parameters in the signal command correspond to the <a href="../configuration/signalling.html#debezium-signaling-description-of-required-structure-of-a-signaling-data-collection" class="xref page">fields of the signaling table</a>.</p>
</div>
<div class="paragraph">
<p>The following table describes the parameters in the example:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Descriptions of fields in a SQL command for sending a stop incremental snapshot signal to the signaling table</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 22.2222%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>myschema.debezium_signal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the fully-qualified name of the signaling table on the source database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ad-hoc-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>id</code> parameter specifies an arbitrary string that is assigned as the <code>id</code> identifier for the signal request.<br>
Use this string to identify logging messages to entries in the signaling table.
Debezium does not use this string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stop-snapshot</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies <code>type</code> parameter specifies the operation that the signal is intended to trigger.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional component of the <code>data</code> field of a signal that specifies an array of table names or regular expressions to match table names to remove from the snapshot.<br>
The array lists regular expressions which match tables by their fully-qualified names, using the same format as you use to specify the name of the connector&#8217;s signaling table in the <a href="#informix-property-signal-data-collection"><code>signal.data.collection</code></a> configuration property.
If this component of the <code>data</code> field is omitted, the signal stops the entire incremental snapshot that is in progress.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A required component of the <code>data</code> field of a signal that specifies the type of snapshot operation that is to be stopped.<br>
Currently, the only valid option is <code>incremental</code>.<br>
If you do not specify a <code>type</code> value, the signal fails to stop the incremental snapshot.</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="informix-stopping-an-incremental-snapshot-kafka"><a class="anchor" href="#informix-stopping-an-incremental-snapshot-kafka"></a>Using the Kafka signaling channel to stop an incremental snapshot</h4>
<div class="paragraph">
<p>You can send a signal message to the <a href="../configuration/signalling.html#debezium-signaling-enabling-kafka-signaling-channel" class="xref page">configured Kafka signaling topic</a> to stop an ad hoc incremental snapshot.</p>
</div>
<div class="paragraph">
<p>The key of the Kafka message must match the value of the <code>topic.prefix</code> connector configuration option.</p>
</div>
<div class="paragraph">
<p>The value of the message is a JSON object with <code>type</code> and <code>data</code> fields.</p>
</div>
<div class="paragraph">
<p>The signal type is <code>stop-snapshot</code>, and the <code>data</code> field must have the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Execute snapshot data fields</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>incremental</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the snapshot to be executed.
Currently Debezium supports only the <code>incremental</code> type. <br>
See the next section for more details.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data-collections</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>N/A</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional array of comma-separated regular expressions that match the fully-qualified names of the tables to include in the snapshot.<br>
Specify the names by using the same format as is required for the <a href="#informix-property-signal-data-collection">signal.data.collection</a> configuration option.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following example shows a typical <code>stop-snapshot</code> Kafka message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Key = `test_connector`

Value = `{"type":"stop-snapshot","data": {"data-collections": ["schema1.table1", "schema1.table2"], "type": "INCREMENTAL"}}`</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="informix-blocking-snapshots"><a class="anchor" href="#informix-blocking-snapshots"></a>Blocking snapshots</h4>
<div class="paragraph">
<p>To provide more flexibility in managing snapshots, Debezium includes a supplementary ad hoc snapshot mechanism, known as a <em>blocking snapshot</em>.
Blocking snapshots rely on the Debezium mechanism for <a href="../configuration/signalling.html#sending-signals-to-a-debezium-connector" class="xref page">sending signals to a Debezium connector</a>.</p>
</div>
<div class="paragraph">
<p>A blocking snapshot behaves just like an <em>initial snapshot</em>, except that you can trigger it at run time.</p>
</div>
<div class="paragraph">
<p>You might want to run a blocking snapshot rather than use the standard initial snapshot process in the following situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You add a new table and you want to complete the snapshot while the connector is running.</p>
</li>
<li>
<p>You add a large table, and you want the snapshot to complete in less time than is possible with an incremental snapshot.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Blocking snapshot process</div>
<p>When you run a blocking snapshot, Debezium stops streaming, and then initiates a snapshot of the specified table, following the same process that it uses during an initial snapshot.
After the snapshot completes, the streaming is resumed.</p>
</div>
<div class="paragraph">
<div class="title">Configure snapshot</div>
<p>You can set the following properties in the <code>data</code> component of a signal:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>data-collections: to specify which tables must be snapshot</p>
</li>
<li>
<p>additional-conditions: You can specify different filters for different table.<br></p>
<div class="ulist">
<ul>
<li>
<p>The <code>data-collection</code> property is the fully-qualified name of the table for which the filter will be applied.</p>
</li>
<li>
<p>The <code>filter</code> property will have the same value used in the  <code>snapshot.select.statement.overrides</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">  {"type": "blocking", "data-collections": ["schema1.table1", "schema1.table2"], "additional-conditions": [{"data-collection": "schema1.table1", "filter": "SELECT * FROM [schema1].[table1] WHERE column1 = 0 ORDER BY column2 DESC"}, {"data-collection": "schema1.table2", "filter": "SELECT * FROM [schema1].[table2] WHERE column2 &gt; 0"}]}</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Possible duplicates</div>
<p>A delay might exist between the time that you send the signal to trigger the snapshot, and the time when streaming stops and the snapshot starts.
As a result of this delay, after the snapshot completes, the connector might emit some event records that duplicate records captured by the snapshot.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="how-debezium-informix-connectors-read-change-stream-records"><a class="anchor" href="#how-debezium-informix-connectors-read-change-stream-records"></a>Change stream records</h3>
<div class="paragraph">
<p>After a complete snapshot, when a Debezium Informix connector starts for the first time, the connector starts consuming change stream records for the source tables that are in capture mode.
The connector does the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Reads available change records from the current LSN.</p>
</li>
<li>
<p>Groups records by transaction Id and orders them according to the change LSN for each record.</p>
</li>
<li>
<p>Processes records as transactions are committed.</p>
</li>
<li>
<p>Passes begin, commit and change LSNs as offsets to Kafka Connect.</p>
</li>
<li>
<p>Stores the highest commit LSN and the lowest, uncommitted begin LSN that the connector passed to Kafka Connect.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After a restart, the connector resumes emitting change events from the offset (begin, commit and change LSNs) where it left off. It does so by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Reading change records that were created between the last stored, lowest uncommitted begin LSN and the current LSN.</p>
</li>
<li>
<p>Grouping records by transaction Id and ordering them according to the change LSN for each event.</p>
</li>
<li>
<p>Discarding already processed transactions (commit LSN lower than last stored commit LSN).</p>
</li>
<li>
<p>Discarding already processed records of the last incompletely processed transaction, if any (change LSN lower than last stored change LSN and commit LSN equal to last stored commit LSN).</p>
</li>
<li>
<p>Processes the remaining records of any incompletely processed transaction.</p>
</li>
<li>
<p>Continues processing records as transactions are committed.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="informix-topic-names"><a class="anchor" href="#informix-topic-names"></a>Topic names</h3>
<div class="paragraph">
<p>By default, the Informix connector writes change events for all of the <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> operations that occur in a table to a single Apache Kafka topic that is specific to that table.
The connector uses the following convention to name change event topics:</p>
</div>
<div class="paragraph">
<p><em>topicPrefix</em>.<em>schemaName</em>.<em>tableName</em></p>
</div>
<div class="paragraph">
<p>The following list provides definitions for the components of the default name:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>topicPrefix</em></dt>
<dd>
<p>The topic prefix as specified by the <a href="#informix-property-topic-prefix"><code>topic.prefix</code></a> connector configuration property.</p>
</dd>
<dt class="hdlist1"><em>schemaName</em></dt>
<dd>
<p>The name of the schema in which the operation occurred.</p>
</dd>
<dt class="hdlist1"><em>tableName</em></dt>
<dd>
<p>The name of the table in which the operation occurred.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For example, consider an Informix installation with a <code>mydatabase</code> database that contains the following tables in the <code>myschema</code> schema:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>products</code></p>
</li>
<li>
<p><code>products_on_hand</code></p>
</li>
<li>
<p><code>customers</code></p>
</li>
<li>
<p><code>orders</code></p>
<div class="literalblock">
<div class="content">
<pre>The connector would emit events to the following Kafka topics:</pre>
</div>
</div>
</li>
<li>
<p><code>mydatabase.myschema.products</code></p>
</li>
<li>
<p><code>mydatabase.myschema.products_on_hand</code></p>
</li>
<li>
<p><code>mydatabase.myschema.customers</code></p>
</li>
<li>
<p><code>mydatabase.myschema.orders</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The connector applies similar naming conventions to label its internal database schema history topics, <a href="#about-the-debezium-informix-connector-schema-change-topic">schema change topics</a>, and <a href="#informix-transaction-metadata">transaction metadata topics</a>.</p>
</div>
<div class="paragraph">
<p>If the default topic names do not meet your requirements, you can configure custom topic names.
To configure custom topic names, you specify regular expressions in the logical topic routing SMT.
For more information about using the logical topic routing SMT to customize topic naming, see <a href="../transformations/topic-routing.html#topic-routing" class="xref page">Topic routing</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="informix-schema-history-topic"><a class="anchor" href="#informix-schema-history-topic"></a>Schema history topic</h3>
<div class="paragraph">
<p>When a database client queries a database, the client uses the databases current schema.
However, the database schema can be changed at any time, which means that the connector must be able to identify what the schema was at the time that each insert, update, or delete operation was recorded.
Also, a connector cannot necessarily apply the current schema to every event.
If an event is relatively old, it&#8217;s possible that it was recorded before the current schema was applied.</p>
</div>
<div class="paragraph">
<p>To ensure correct processing of events that occur after a schema change, the Debezium Informix connector stores a snapshot of the new schema based on the structures of the Informix change data tables, which mirror the structures of their associated data tables.
The connector stores the table schema information, together with the LSN of operations the result in schema changes, in the database schema history Kafka topic.
The connector uses the stored schema representation to produce change events that correctly mirror the structure of tables at the time of each insert, update, or delete operation.</p>
</div>
<div class="paragraph">
<p>When the connector restarts after either a crash or a graceful stop, it resumes reading entries in the Informix change data tables from the last position that it read.
Based on the schema information that the connector reads from the database schema history topic, the connector applies the table structures that existed at the position where the connector restarts.</p>
</div>
<div class="paragraph">
<p>If you update the schema of an Informix table that is in capture mode, it&#8217;s important that you also update the schema of the corresponding change table.
You must be a Informix database administrator with elevated privileges to update database schema.
For more information about how to update Informix database schema in Debezium environments, see <a href="#informix-schema-evolution">Schema history evolution</a>.</p>
</div>
<div class="paragraph">
<p>The database schema history topic is for internal connector use only.
Optionally, the connector can also <a href="#about-the-debezium-informix-connector-schema-change-topic">emit schema change events to a different topic that is intended for consumer applications</a>.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#informix-topic-names">Default names for topics</a> that receive Debezium event records.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="about-the-debezium-informix-connector-schema-change-topic"><a class="anchor" href="#about-the-debezium-informix-connector-schema-change-topic"></a>Schema change topic</h3>
<div class="paragraph">
<p>You can configure a Debezium Informix connector to produce schema change events that describe schema changes that are applied to tables in the database.</p>
</div>
<div class="paragraph">
<p>Debezium emits a message to the schema change topic after the following operations occur in the source database:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You enable Debezium to capture changes from a new table.</p>
</li>
<li>
<p>You disable capture for a table from which Debezium previously captured changes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The connector writes schema change events to a Kafka schema change topic that has the name <code><em>&lt;topicPrefix&gt;</em></code> where <code><em>&lt;topicPrefix&gt;</em></code> is the topic prefix that is specified in the <a href="#informix-property-topic-prefix"><code>topic.prefix</code></a> connector configuration property.</p>
</div>
<div class="paragraph">
<p>The schema for the schema change event has the following elements:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>name</code></dt>
<dd>
<p>The name of the schema change event message.</p>
</dd>
<dt class="hdlist1"><code>type</code></dt>
<dd>
<p>The type of the change event message.</p>
</dd>
<dt class="hdlist1"><code>version</code></dt>
<dd>
<p>The version of the schema. The version is an integer that is incremented each time the schema is changed.</p>
</dd>
<dt class="hdlist1"><code>fields</code></dt>
<dd>
<p>The fields that are included in the change event message.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Example: Schema of the Informix connector schema change topic</div>
<p>The following example shows a typical schema in JSON format.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": {
    "type": "struct",
    "fields": [
      {
        "type": "string",
        "optional": false,
        "field": "databaseName"
      }
    ],
    "optional": false,
    "name": "io.debezium.connector.informix.SchemaChangeKey",
    "version": 1
  },
  "payload": {
    "databaseName": "inventory"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Messages that the connector sends to the schema change topic contain a payload that includes the following elements:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>databaseName</code></dt>
<dd>
<p>The name of the database to which the statements are applied.
The value of <code>databaseName</code> serves as the message key.</p>
</dd>
<dt class="hdlist1"><code>pos</code></dt>
<dd>
<p>The position in the transaction log where the statements appear.</p>
</dd>
<dt class="hdlist1"><code>tableChanges</code></dt>
<dd>
<p>A structured representation of the entire table schema after the schema change.
The <code>tableChanges</code> field contains an array that includes entries for each column of the table.
Because the structured representation presents data in JSON or Avro format, consumers can easily read messages without first processing them through a DDL parser.</p>
</dd>
</dl>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For a table that is in capture mode, the connector not only stores the history of schema changes in the schema change topic, but also in an internal database schema history topic.
The internal database schema history topic is for connector use only and it is not intended for direct use by consuming applications.
Ensure that applications that require notifications about schema changes consume that information only from the schema change topic.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Never partition the database schema history topic.
For the database schema history topic to function correctly, it must maintain a consistent, global order of the event records that the connector emits to it.</p>
</div>
<div class="paragraph">
<p>To ensure that the topic is not split among partitions, set the partition count for the topic by using one of the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you create the database schema history topic manually, specify a partition count of <code>1</code>.</p>
</li>
<li>
<p>If you use the Apache Kafka broker to create the database schema history topic automatically, the topic is created, set the value of the <a href="https://kafka.apache.org/documentation/#brokerconfigs_num.partitions">Kafka <code>num.partitions</code></a> configuration option to <code>1</code>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The format of messages that a connector emits to its schema change topic is in an incubating state and can change without notice.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Example: Message emitted to the Informix connector schema change topic</div>
<p>The following example shows a message in the schema change topic.
The message contains a logical representation of the table schema.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": {
  ...
  },
  "payload": {
    "source": {
      "version": "2.6.0.Beta1",
      "connector": "informix",
      "name": "informix",
      "ts_ms": 1588252618953,
      "snapshot": "true",
      "db": "testdb",
      "schema": "informix",
      "table": "customers",
      "commit_lsn": "0",
      "change_lsn": "0",
      "txId": null,
      "begin_lsn": "0"
    },
    "ts_ms": 1588252618953, <i class="conum" data-value="1"></i><b>(1)</b>
    "databaseName": "testdb", <i class="conum" data-value="2"></i><b>(2)</b>
    "schemaName": "informix",
    "ddl": null, <i class="conum" data-value="3"></i><b>(3)</b>
    "tableChanges": [ <i class="conum" data-value="4"></i><b>(4)</b>
      {
        "type": "CREATE", <i class="conum" data-value="5"></i><b>(5)</b>
        "id": "\"testdb\".\"informix\".\"customers\"", <i class="conum" data-value="6"></i><b>(6)</b>
        "table": { <i class="conum" data-value="7"></i><b>(7)</b>
          "defaultCharsetName": null,
          "primaryKeyColumnNames": [ <i class="conum" data-value="8"></i><b>(8)</b>
            "id"
          ],
          "columns": [ <i class="conum" data-value="9"></i><b>(9)</b>
            {
              "name": "id",
              "jdbcType": 4,
              "nativeType": null,
              "typeName": "int identity",
              "typeExpression": "int identity",
              "charsetName": null,
              "length": 10,
              "scale": 0,
              "position": 1,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            },
            {
              "name": "first_name",
              "jdbcType": 12,
              "nativeType": null,
              "typeName": "varchar",
              "typeExpression": "varchar",
              "charsetName": null,
              "length": 255,
              "scale": null,
              "position": 2,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            },
            {
              "name": "last_name",
              "jdbcType": 12,
              "nativeType": null,
              "typeName": "varchar",
              "typeExpression": "varchar",
              "charsetName": null,
              "length": 255,
              "scale": null,
              "position": 3,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            },
            {
              "name": "email",
              "jdbcType": 12,
              "nativeType": null,
              "typeName": "varchar",
              "typeExpression": "varchar",
              "charsetName": null,
              "length": 255,
              "scale": null,
              "position": 4,
              "optional": false,
              "autoIncremented": false,
              "generated": false
            }
          ],
          "attributes": [ <i class="conum" data-value="10"></i><b>(10)</b>
            {
              "customAttribute": "attributeValue"
            }
          ]
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Descriptions of fields in messages emitted to the schema change topic</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ts_ms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional field that displays the time at which the connector processed the event.
The time is based on the system clock in the JVM running the Kafka Connect task.</p>
<p class="tableblock">In the source object, <code>ts_ms</code> indicates the time that the change was made in the database.
To determine the time lag between when a change occurs at the source database and when Debezium processes the change, compare the values for <code>payload.source.ts_ms</code> and <code>payload.ts_ms</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>databaseName</code><br>
<code>schemaName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the database and the schema that contain the change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ddl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always <code>null</code> for the Informix connector.
For other connectors, this field contains the DDL responsible for the schema change.
This DDL is not available to Informix connectors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tableChanges</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of one or more items that contain the schema changes generated by a DDL command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Describes the type of change.
The field contains one of the following values:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>CREATE</code>
</td>
<td class="hdlist2">
<p>A table was created.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>ALTER</code>
</td>
<td class="hdlist2">
<p>A table was modified.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>DROP</code>
</td>
<td class="hdlist2">
<p>A table was deleted.</p>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full identifier of the table that was created, altered, or dropped.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents table metadata after the applied change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>primaryKeyColumnNames</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of columns that comprise the table&#8217;s primary key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>columns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata for each column in the changed table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attributes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom attribute metadata for each table change.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In messages that the connector sends to the schema change topic, the message key is the name of the database that contains the schema change.
In the following example, the <code>payload</code> field contains the key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": {
    "type": "struct",
    "fields": [
      {
        "type": "string",
        "optional": false,
        "field": "databaseName"
      }
    ],
    "optional": false,
    "name": "io.debezium.connector.informix.SchemaChangeKey",
    "version": 1
  },
  "payload": {
    "databaseName": "testdb"
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="informix-transaction-metadata"><a class="anchor" href="#informix-transaction-metadata"></a>Transaction metadata</h3>
<div class="paragraph">
<p>Debezium can generate events that represent transaction boundaries and that enrich change event messages.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Limits on when Debezium receives transaction metadata</div>
<div class="paragraph">
<p>Debezium registers and receives metadata only for transactions that occur after you deploy the connector.
Metadata for transactions that occur before you deploy the connector is not available.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Debezium generates transaction boundary events for the <code>BEGIN</code> and <code>END</code> delimiters in every transaction.
Transaction boundary events contain the following fields:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>status</code></dt>
<dd>
<p><code>BEGIN</code> or <code>END</code>.</p>
</dd>
<dt class="hdlist1"><code>id</code></dt>
<dd>
<p>String representation of the unique transaction identifier composed of Informix transaction ID itself and LSN of given operation separated by colon, i.e. the format is <code>txID:LSN</code>.</p>
</dd>
<dt class="hdlist1"><code>ts_ms</code></dt>
<dd>
<p>The time of a transaction boundary event (<code>BEGIN</code> or <code>END</code> event) at the data source.
If the data source does not provide Debezium with the event time, then the field instead represents the time at which Debezium processes the event.</p>
</dd>
<dt class="hdlist1"><code>event_count</code> (for <code>END</code> events)</dt>
<dd>
<p>Total number of events emmitted by the transaction.</p>
</dd>
<dt class="hdlist1"><code>data_collections</code> (for <code>END</code> events)</dt>
<dd>
<p>An array of pairs of <code>data_collection</code> and <code>event_count</code> elements that indicates the number of events that the connector emits for changes that originate from a data collection.</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "status": "BEGIN",
  "id": "571:53195829",
  "ts_ms": 1486500577125,
  "event_count": null,
  "data_collections": null
}

{
  "status": "END",
  "id": "571:53195832",
  "ts_ms": 1486500577691,
  "event_count": 2,
  "data_collections": [
    {
      "data_collection": "testdb.informix.tablea",
      "event_count": 1
    },
    {
      "data_collection": "testdb.informix.tableb",
      "event_count": 1
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, the connector emits transaction events to the <a href="#informix-property-topic-prefix"><code><em>&lt;topic.prefix&gt;</em></code></a><code>.transaction</code> topic.
You can override the default setting by changing the value of the <a href="#informix-property-topic-transaction"><code>topic.transaction</code></a> property.</p>
</div>
<div class="paragraph">
<div class="title">Data change event enrichment</div>
<p>When transaction metadata is enabled, the connector enriches the change event <code>Envelope</code> with a new <code>transaction</code> field.
This field provides information about every event in the form of a composite of fields:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>id</code></dt>
<dd>
<p>String representation of unique transaction identifier.</p>
</dd>
<dt class="hdlist1"><code>total_order</code></dt>
<dd>
<p>The absolute position of the event among all events generated by the transaction.</p>
</dd>
<dt class="hdlist1"><code>data_collection_order</code></dt>
<dd>
<p>The per-data collection position of the event among all events that were emitted by the transaction.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Following is an example of a message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "before": null,
  "after": {
    "pk": "2",
    "aa": "1"
  },
  "source": {
    ...
  },
  "op": "c",
  "ts_ms": "1580390884335",
  "ts_us": "1580390884335641",
  "ts_ns": "1580390884335641387",
  "transaction": {
    "id": "571:53195832",
    "total_order": "1",
    "data_collection_order": "1"
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="informix-events"><a class="anchor" href="#informix-events"></a>Data change events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium Informix connector generates a data change event for each row-level <code>INSERT</code>, <code>UPDATE</code>, and <code>DELETE</code> operation.
Each event contains a key and a value.
The structure of the key and the value depends on the table that was changed.</p>
</div>
<div class="paragraph">
<p>Debezium and Kafka Connect are designed for processing <em>continuous streams of event messages</em>.
However, because the structure of these events might change over time, consumers might encounter difficulties when processing some Debezium events.
To address this challenge, each event is designed to be self-contained.
That is, the event contains either the schema for its content, or, in environments that use a schema registry, a schema ID that the consumer can use to obtain the schema from the registry.</p>
</div>
<div class="paragraph">
<p>The JSON structure in the following example shows how a typical Debezium event record represents the four basic four components of change event.
The exact representation an event depends on the Kafka Connect converter that you configure for use with your application.
A <code>schema</code> field is present in a change event only when you configure the converter to produce it.
Likewise, the event key and event payload are present a change event only if you configure the converter to produce them.
If you use the JSON converter, and you configure it to produce all four basic change event parts, change events have the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
 "schema": { <i class="conum" data-value="1"></i><b>(1)</b>
   ...
  },
 "payload": { <i class="conum" data-value="2"></i><b>(2)</b>
   ...
 },
 "schema": { <i class="conum" data-value="3"></i><b>(3)</b>
   ...
 },
 "payload": { <i class="conum" data-value="4"></i><b>(4)</b>
   ...
 },
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Overview of change event basic content</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The first <code>schema</code> field is part of the event key.
It specifies a Kafka Connect schema that describes what is in the event key&#8217;s <code>payload</code> portion.
In other words, for tables in which a change occurs, the first <code>schema</code> field describes the structure of the primary key, or of the table&#8217;s unique key if no primary key is defined.<br>
<br>
It is possible to override the table&#8217;s primary key by setting the <a href="#informix-property-message-key-columns"><code>message.key.columns</code> connector configuration property</a>. In this case, the first schema field describes the structure of the key identified by that property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>payload</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The first <code>payload</code> field is part of the event key.
It has the structure described by the preceding <code>schema</code> field, and it contains the key for the row that was changed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The second <code>schema</code> field is part of the event value.
It specifies the Kafka Connect schema that describes what is in the event value&#8217;s <code>payload</code> portion.
In other words, the second <code>schema</code> describes the structure of the row that was changed.
Typically, this schema contains nested schemas.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>payload</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The second <code>payload</code> field is part of the event value.
It has the structure described by the previous <code>schema</code> field, and it contains the actual data for the row that was changed.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>By default, the connector streams change event records to topics with names that are the same as the event&#8217;s originating table.
For more information, see <a href="#informix-topic-names">topic names</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Debezium Informix connector ensures that all Kafka Connect schema names adhere to the <a href="http://avro.apache.org/docs/current/spec.html#names">Avro schema name format</a>.
Conforming to the Avro schema name format means that the logical server name starts with a Latin letter, or with an underscore, that is, <code>a-z</code>,` A-Z`, or <code>_</code>.
Each remaining character in the logical server name, and each character in the database and table names, must be a Latin letter, a digit, or an underscore, that is, <code>a-z</code>, <code>A-Z</code>,<code>0-9</code>, or <code>\_</code>.
If there is an invalid character, it is replaced with an underscore character.</p>
</div>
<div class="paragraph">
<p>The use of underscores to replace invalid characters can lead to unexpected conflicts.
For example, a conflict can result when the name of a logical server, a database, or a table contains one or more invalid characters, and those characters are the only characters that distinguish the name from the name of another entity of the same type.</p>
</div>
<div class="paragraph">
<p>Naming conflicts can also occur, because the names of databases, schemas, and tables in Informix can be case-sensitive.
In some cases, the connector might emit event records from more than one table to the same Kafka topic.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="informix-change-event-keys"><a class="anchor" href="#informix-change-event-keys"></a>Change event keys</h3>
<div class="paragraph">
<p>A change event&#8217;s key contains the schema for the changed table&#8217;s key and the changed row&#8217;s actual key.
Both the schema and its corresponding payload contain a field for each column in the changed table&#8217;s <code>PRIMARY KEY</code> (or unique constraint) at the time the connector created the event.</p>
</div>
<div class="paragraph">
<p>Consider the following <code>customers</code> table, which is followed by an example of a change event key for this table.</p>
</div>
<div class="listingblock">
<div class="title">Example table</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE customers (
 id INTEGER IDENTITY(1001,1) NOT NULL PRIMARY KEY,
 first_name VARCHAR(255) NOT NULL,
 last_name VARCHAR(255) NOT NULL,
 email VARCHAR(255) NOT NULL UNIQUE
);</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Example change event key</div>
<p>When Debezium captures a change from the <code>customers</code> table, it emits a change event record that contains the event key schema.
As long as the definition of the <code>customers</code> table remains unchanged, every change that Debezium captures from the <code>customers</code> table results in an event record that has the same key structure.
The following example shows a JSON representation of the event structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "schema": {  <i class="conum" data-value="1"></i><b>(1)</b>
        "type": "struct",
        "fields": [  <i class="conum" data-value="2"></i><b>(2)</b>
            {
                "type": "int32",
                "optional": false,
                "field": "ID"
            }
        ],
        "optional": false,  <i class="conum" data-value="3"></i><b>(3)</b>
        "name": "mydatabase.myschema.customers.Key"  <i class="conum" data-value="4"></i><b>(4)</b>
    },
    "payload": {  <i class="conum" data-value="5"></i><b>(5)</b>
        "ID": 1004
    }
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Description of change event key</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The schema element of the key shows the Kafka Connect schema that describes the structure of the key&#8217;s <code>payload</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fields</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies each field that is expected in the <code>payload</code>, including each field&#8217;s name, type, and whether it is required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>optional</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether the event key must contain a value in its <code>payload</code> field.
In this example, the <code>false</code> value indicates that the key&#8217;s payload is required.
A value in the key&#8217;s payload field is optional when a table does not have a primary key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mydatabase.myschema.customers.Key</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the schema that defines the structure of the key&#8217;s payload.
This schema describes the structure of the primary key for the table that was changed.
Key schema names have the following format:
<code><em>&lt;connector-name&gt;</em>.<em>&lt;database-name&gt;</em>.<em>&lt;table-name&gt;</em>.Key</code>.</p>
</div>
<div class="paragraph">
<p>In the preceding example the schema name is comprised of the following elements:<br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">connector-name</dt>
<dd>
<p><code>mydatabase</code>: The name of the connector that generated this event.</p>
</dd>
<dt class="hdlist1">database-name</dt>
<dd>
<p><code>myschema</code>: The database schema that contains the table that was changed.</p>
</dd>
<dt class="hdlist1">table-name</dt>
<dd>
<p><code>customers</code>: The name of the table that was updated.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>payload</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the key of the table row in which the change event occurred.
In the preceding example, the key contains a single <code>ID</code> field whose value is <code>1004</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="informix-change-event-values"><a class="anchor" href="#informix-change-event-values"></a>Change event values</h3>
<div class="paragraph">
<p>The value in a change event is a bit more complicated than the key.
Like the event key, the value includes a <code>schema</code> element and a <code>payload</code> element.
The <code>schema</code> element contains the schema that describes the <code>Envelope</code> structure of the <code>payload</code> element, including its nested fields.
Change events for operations that create, update or delete data all have a value payload with an envelope structure.</p>
</div>
<div class="paragraph">
<p>Consider the sample `customers`table that was used in the earlier example of a change event key:</p>
</div>
<div class="listingblock">
<div class="title">Example table</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE customers (
 id INTEGER IDENTITY(1001,1) NOT NULL PRIMARY KEY,
 first_name VARCHAR(255) NOT NULL,
 last_name VARCHAR(255) NOT NULL,
 email VARCHAR(255) NOT NULL UNIQUE
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>value</code> element of every change event that Debezium captures from the <code>customers</code> table uses the same schema.
The payload of each event value varies according to the event type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#informix-create-events"><em>create</em> events</a></p>
</li>
<li>
<p><a href="#informix-update-events"><em>update</em> events</a></p>
</li>
<li>
<p><a href="#informix-delete-events"><em>delete</em> events</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="informix-create-events"><a class="anchor" href="#informix-create-events"></a><em>create</em> events</h3>
<div class="paragraph">
<p>The following example shows the value portion of a change event that the connector generates for an operation that creates data in the <code>customers</code> table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": {  <i class="conum" data-value="1"></i><b>(1)</b>
    "type": "struct",
    "fields": [
      {
        "type": "struct",
        "fields": [
          {
            "type": "int32",
            "optional": false,
            "field": "id"
          },
          {
            "type": "string",
            "optional": false,
            "field": "first_name"
          },
          {
            "type": "string",
            "optional": false,
            "field": "last_name"
          },
          {
            "type": "string",
            "optional": false,
            "field": "email"
          }
        ],
        "optional": true,
        "name": "mydatabase.myschema.customers.Value",  <i class="conum" data-value="2"></i><b>(2)</b>
        "field": "before"
      },
      {
        "type": "struct",
        "fields": [
          {
            "type": "int32",
            "optional": false,
            "field": "id"
          },
          {
            "type": "string",
            "optional": false,
            "field": "first_name"
          },
          {
            "type": "string",
            "optional": false,
            "field": "last_name"
          },
          {
            "type": "string",
            "optional": false,
            "field": "email"
          }
        ],
        "optional": true,
        "name": "mydatabase.myschema.customers.Value",
        "field": "after"
      },
      {
        "type": "struct",
        "fields": [
          {
            "type": "string",
            "optional": false,
            "field": "version"
          },
          {
            "type": "string",
            "optional": false,
            "field": "connector"
          },
          {
            "type": "string",
            "optional": false,
            "field": "name"
          },
          {
            "type": "int64",
            "optional": false,
            "field": "ts_ms"
          },
          {
            "type": "int64",
            "optional": false,
            "field": "ts_us"
          },
          {
            "type": "int64",
            "optional": false,
            "field": "ts_ns"
          },
          {
            "type": "boolean",
            "optional": true,
            "default": false,
            "field": "snapshot"
          },
          {
            "type": "string",
            "optional": false,
            "field": "db"
          },
          {
            "type": "string",
            "optional": false,
            "field": "schema"
          },
          {
            "type": "string",
            "optional": false,
            "field": "table"
          },
          {
            "type": "string",
            "optional": true,
            "field": "commit_lsn"
          },
          {
            "type": "string",
            "optional": true,
            "field": "change_lsn"
          },
          {
            "type": "string",
            "optional": true,
            "field": "txId"
          },
          {
            "type": "string",
            "optional": true,
            "field": "begin_lsn"
          }
        ],
        "optional": false,
        "name": "io.debezium.connector.informix.Source",  <i class="conum" data-value="3"></i><b>(3)</b>
        "field": "source"
      },
      {
        "type": "string",
        "optional": false,
        "field": "op"
      },
      {
        "type": "int64",
        "optional": true,
        "field": "ts_ms"
      },
      {
        "type": "int64",
        "optional": true,
        "field": "ts_us"
      },
      {
        "type": "int64",
        "optional": true,
        "field": "ts_ns"
      }
    ],
    "optional": false,
    "name": "mydatabase.myschema.customers.Envelope"  <i class="conum" data-value="4"></i><b>(4)</b>
  },
  "payload": {  <i class="conum" data-value="5"></i><b>(5)</b>
    "before": null,  <i class="conum" data-value="6"></i><b>(6)</b>
    "after": {  <i class="conum" data-value="7"></i><b>(7)</b>
      "id": 1005,
      "first_name": "john",
      "last_name": "doe",
      "email": "john.doe@example.org"
    },
    "source": {  <i class="conum" data-value="8"></i><b>(8)</b>
      "version": "2.6.0.Beta1",
      "connector": "informix",
      "name": "myconnector",
      "ts_ms": 1559729468470,
      "ts_us": 1559729468470000,
      "ts_ns": 1559729468470000000,
      "snapshot": false,
      "db": "mydatabase",
      "schema": "myschema",
      "table": "customers",
      "commit_lsn": "627404540760620",
      "change_lsn": "627404540485812",
      "txId": "157",
      "begin_lsn": "627404540372400"
    },
    "op": "c",  <i class="conum" data-value="9"></i><b>(9)</b>
    "ts_ms": 1559729471739,  <i class="conum" data-value="10"></i><b>(10)</b>
    "ts_us": 1559729471739241,  <i class="conum" data-value="10"></i><b>(10)</b>
    "ts_ns": 1559729471739241367 <i class="conum" data-value="10"></i><b>(10)</b>
  }
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Descriptions of <em>create</em> event value fields</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>schema</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value&#8217;s schema, which describes the structure of the value&#8217;s payload.
The schema of the value in a change event is the same in every change event that the connector generates for a particular table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>In the <code>schema</code> element, each <code>name</code> field specifies the schema for a field in the value&#8217;s payload.<br>
<br>
<code>mydatabase.myschema.customers.Value</code> is the schema for the payload&#8217;s <code>before</code> and <code>after</code> fields.
This schema is specific to the <code>customers</code> table.
The connector uses this schema for all rows in the <code>myschema.customers</code> table.<br>
<br>
Names of schemas for <code>before</code> and <code>after</code> fields are of the form <code><em>logicalName</em>.<em>schemaName</em>.<em>tableName</em>.Value</code>, which ensures that the schema name is unique in the database.
In environments that use the <a href="../configuration/avro.html#avro-serialization" class="xref page">Avro converter</a>, ensuring unique schema names ensures that the Avro schema for each table in a logical source has its own evolution and history.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.connector.informix.Source</code> is the schema for the payload&#8217;s <code>source</code> field.
This schema is specific to the Informix connector.
The connector uses it for all events that it generates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>mydatabase.myschema.customers.Envelope</code> is the schema for the overall structure of the payload, where <code>mydatabase</code> is the database, <code>myschema</code> is the schema, and <code>customers</code> is the table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>payload</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value&#8217;s actual data.
The payload provides the information about how an event changed data in a table row.<br>
<br>
The JSON representation of an event can be larger than the row that it describes.
This occurs because a JSON representation includes a schema element as well as a payload element for each event record.
To decrease the size of messages that the connector streams to Kafka topics, use the <a href="../configuration/avro.html#avro-serialization" class="xref page">Avro converter</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional field that represent the state of the row before an event occurs.
 When the value of the <code>op</code> field is <code>c</code> for create, as in the preceding example, the <code>before</code> field is <code>null</code>, because the change event represents a new table row.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>after</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional field that specifies the state of the row after the event occurred.
In this example, the <code>after</code> field contains the values of the new row&#8217;s <code>id</code>, <code>first_name</code>, <code>last_name</code>, and <code>email</code> columns.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mandatory field that describes the source metadata for the event.
The <code>source</code> structure shows Informix metadata for this change, which provides traceability.
You can use information in the <code>source</code> element to compare events within a topic, or in different topics to understand whether this event occurred before, after, or as part of the same commit as other events.
The source metadata includes the following information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Debezium version</p>
</li>
<li>
<p>Connector type and name</p>
</li>
<li>
<p>Timestamp for when the change was made in the database</p>
</li>
<li>
<p>Whether the event is part of an ongoing snapshot</p>
</li>
<li>
<p>Name of the database, schema, and table that contain the new row</p>
</li>
<li>
<p>Commit LSN</p>
</li>
<li>
<p>Change LSN</p>
</li>
<li>
<p>Transaction Id (null if this event is part of a snapshot)</p>
</li>
<li>
<p>Begin LSN</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>op</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mandatory string that describes the type of operation that caused the connector to generate the event.
In the preceding example, <code>c</code> indicates that the operation created a row.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>c</code>
</td>
<td class="hdlist2">
<p>create</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>u</code>
</td>
<td class="hdlist2">
<p>update</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>d</code>
</td>
<td class="hdlist2">
<p>delete</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>r</code>
</td>
<td class="hdlist2">
<p>read (applies to only snapshots)</p>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ts_ms</code>, <code>ts_us</code>, <code>ts_ns</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional field that displays the time at which the connector processed the event.
The time is based on the system clock in the JVM that runs the Kafka Connect task.<br>
<br>
In the <code>source</code> object, <code>ts_ms</code> indicates the time that the change was made in the database.
By comparing the value for <code>payload.source.ts_ms</code> with the value for <code>payload.ts_ms</code>, you can calculate the time lag between when the event occurs in the source database, and when Debezium processes the event.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="informix-update-events"><a class="anchor" href="#informix-update-events"></a><em>update</em> events</h3>
<div class="paragraph">
<p>The value of a change event for an update in the sample <code>customers</code> table has the same schema as a <em>create</em> event for that table.
Similarly, the payload of the value of an <em>update</em> event has a structure that is mirrors the structure of the value payload in a <em>create</em> event.
However, the <code>value</code> payloads of_update_ events and <em>create</em> events do not include the same values.
The following example shows the change event value for an event record that the connector generates in response to an update in the <code>customers</code> table:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": { ... },
  "payload": {
    "before": {  <i class="conum" data-value="1"></i><b>(1)</b>
      "id": 1005,
      "first_name": "john",
      "last_name": "doe",
      "email": "john.doe@example.org"
    },
    "after": {  <i class="conum" data-value="2"></i><b>(2)</b>
      "ID": 1005,
      "first_name": "john",
      "last_name": "doe",
      "email": "noreply@example.org"
    },
    "source": {  <i class="conum" data-value="3"></i><b>(3)</b>
      "version": "2.6.0.Beta1",
      "connector": "informix",
      "name": "myconnector",
      "ts_ms": 1559729995937,
      "ts_us": 1559729995937000,
      "ts_ns": 1559729995937000000,
      "snapshot": false,
      "db": "mydatabase",
      "schema": "myschema",
      "table": "customers",
      "commit_lsn": "627404540760620",
      "change_lsn": "627404540485812",
      "txId": "157",
      "begin_lsn": "627404540372400"
    },
    "op": "u",  <i class="conum" data-value="4"></i><b>(4)</b>
    "ts_ms": 1559729998706,  <i class="conum" data-value="5"></i><b>(5)</b>
    "ts_us": 1559729998706742,  <i class="conum" data-value="5"></i><b>(5)</b>
    "ts_ns": 1559729998706742877  <i class="conum" data-value="5"></i><b>(5)</b>
  }
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Descriptions of <em>update</em> event value fields</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional field that specifies the state of the row before an event occurs.
In an <em>update</em> event value, the <code>before</code> field contains a field for each table column and the value that was in that column before the database commit.
In this example, the <code>email</code> field contains the value <code>john.doe@example.com</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>after</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional field that specifies the state of a row after an event occurs.
By comparing the <code>before</code> and <code>after</code> structures, you can determine how the row changed as a result of the update.
 In the example, the <code>email</code> field now contains the value <code>noreply@example.com</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mandatory field that describes the source metadata for the event.
The <code>source</code> field structure contains the same fields that are present in a <em>create</em> event, but with some different values.
For example, the the LSN values are different.
You can use this information to compare this event to other events to know whether this event occurred before, after, or as part of the same commit as other events.
The source metadata includes the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Debezium version</p>
</li>
<li>
<p>Connector type and name</p>
</li>
<li>
<p>Timestamp for when the change was made in the database</p>
</li>
<li>
<p>Whether the event is part of an ongoing snapshot</p>
</li>
<li>
<p>Name of the database, schema, and table that contain the new row</p>
</li>
<li>
<p>Commit LSN</p>
</li>
<li>
<p>Change LSN</p>
</li>
<li>
<p>Transaction Id (null if this event is part of a snapshot)</p>
</li>
<li>
<p>Begin LSN</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>op</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mandatory string that describes the type of operation.
In an <em>update</em> event value, the <code>op</code> field value is <code>u</code>, signifying that this row changed because of an update.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ts_ms</code>, <code>ts_us</code>, <code>ts_ns</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional field that displays the time at which the connector processed the event.
The time is based on the system clock in the JVM that runs the Kafka Connect task.<br>
<br>
In the <code>source</code> object, <code>ts_ms</code> indicates when the change was made in the source database.
By comparing the values of <code>payload.source.ts_ms</code> and <code>payload.ts_ms</code>, you can determine the time lag between the source database update and Debezium.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you update the columns for a row&#8217;s primary or unique key, you change the value of the row&#8217;s key.
After a key change, Debezium emits the following events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>DELETE</code> event</p>
</li>
<li>
<p>A <a href="#informix-tombstone-events">tombstone event</a> , with the old key for the row</p>
</li>
<li>
<p>An event that contains the new key for the row.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="informix-delete-events"><a class="anchor" href="#informix-delete-events"></a><em>delete</em> events</h3>
<div class="paragraph">
<p>The <code>value</code> in a <em>delete</em> change event for a table has a <code>schema</code> portion that is similar to the <code>schema</code> element in <em>create</em> and <em>update</em> events for the same table.
After a user performs a <em>delete</em> operation in the sample <code>customers</code> table, Debezium emits an event message such as the one in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": { ... },
  },
  "payload": {
    "before": {  <i class="conum" data-value="1"></i><b>(1)</b>
      "id": 1005,
      "first_name": "john",
      "last_name": "doe",
      "email": "noreply@example.org"
    },
    "after": null,  <i class="conum" data-value="2"></i><b>(2)</b>
    "source": {  <i class="conum" data-value="3"></i><b>(3)</b>
      "version": "2.6.0.Beta1",
      "connector": "informix",
      "name": "myconnector",
      "ts_ms": 1559730445243,
      "ts_us": 1559730445243000,
      "ts_ns": 1559730445243000000,
      "snapshot": false,
      "db": "mydatabase",
      "schema": "myschema",
      "table": "customers",
      "commit_lsn": "627404540760620",
      "change_lsn": "627404540485812",
      "txId": "157",
      "begin_lsn": "627404540372400"
    },
    "op": "d",  <i class="conum" data-value="4"></i><b>(4)</b>
    "ts_ms": 1559730450205,  <i class="conum" data-value="5"></i><b>(5)</b>
    "ts_us": 1559730450205104,  <i class="conum" data-value="5"></i><b>(5)</b>
    "ts_ns": 1559730450205104870  <i class="conum" data-value="5"></i><b>(5)</b>
  }
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Descriptions of <em>delete</em> event value fields</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Field name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional field that specifies the state of the row before the event occurred.
In a <em>delete</em> event value, the <code>before</code> field contains the values that were in the row before the database commit removed the value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>after</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional field that specifies the state of the row after the event occurred.
In a <em>delete</em> event value, the <code>after</code> field is <code>null</code>, signifying that the row no longer exists.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mandatory field that describes the source metadata for the event.
In a <em>delete</em> event value, the <code>source</code> field structure is the same as for <em>create</em> and <em>update</em> events for the same table.
Many <code>source</code> field values are also the same.
In a <em>delete</em> event value, the <code>ts_ms</code> and LSN field values, as well as other values, might have changed.
As you can see in the following example, the <code>source</code> field in a <em>delete</em> event value provides the same metadata that is present in other types of event records:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Debezium version</p>
</li>
<li>
<p>Connector type and name</p>
</li>
<li>
<p>Timestamp for when the change was made in the database</p>
</li>
<li>
<p>Whether the event is part of an ongoing snapshot</p>
</li>
<li>
<p>Name of the database, schema, and table that contain the new row</p>
</li>
<li>
<p>Commit LSN</p>
</li>
<li>
<p>Change LSN</p>
</li>
<li>
<p>Transaction Id (null if this event is part of a snapshot)</p>
</li>
<li>
<p>Begin LSN</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>op</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mandatory string that describes the type of operation.
The value of the <code>op</code> field value is <code>d</code>, signifying that this row was deleted.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ts_ms</code>, <code>ts_us</code>, <code>ts_ns</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Optional field that displays the time at which the connector processed the event.
The time is based on the system clock in the JVM running the Kafka Connect task.<br>
<br>
In the <code>source</code> object, <code>ts_ms</code> indicates the time that the change was made in the database.
By comparing the value for <code>payload.source.ts_ms</code> with the value for <code>payload.ts_ms</code>, you can determine the time lag between the source database update and Debezium.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A <em>delete</em> change event record provides a consumer with the information that it needs to process the removal of the row.
The record includes the previous values to support consumers that might require them to process the removal.</p>
</div>
<div class="paragraph">
<p>Informix connector events are designed to work with <a href="https://kafka.apache.org/documentation/#compaction">Kafka log compaction</a>.
Log compaction enables removal of some older messages as long as at least the most recent message for every key is kept.
Retaining the most recent message enables Kafka to reclaim storage space while ensuring that the topic contains a complete data set that can be used for reloading key-based state.</p>
</div>
<div id="informix-tombstone-events" class="paragraph">
<p>When a row is deleted, the <em>delete</em> event value still works with log compaction, because Kafka can remove all earlier messages that have that same key.
However, for Kafka to remove all messages that have that same key, the message value must be <code>null</code>.
To make this possible, after Debeziums Informix connector emits a <em>delete</em> event, the connector emits a special tombstone event that has the same key but a <code>null</code> value.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="informix-data-types"><a class="anchor" href="#informix-data-types"></a>Data type mappings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For a complete description of the data types that Informix supports, see <a href="https://www.ibm.com/support/knowledgecenter/en/SSEPGG_11.5.0/com.ibm.informix.luw.sql.ref.doc/doc/r0008483.html">Data Types</a> in the Informix documentation.</p>
</div>
<div class="paragraph">
<p>The Informix connector represents changes to rows by emitting events whose structures mirror the structure of the source tables in which the change events occur.
Event records contain fields for each column value.
To populate values in these fields from the source columns, the connector uses a default mapping to convert the values from the original Informix data types  to a Kafka Connect schema type or a semantic type.
The connector provides default mappings for the following Informix data types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#informix-basic-types">Basic types</a></p>
</li>
<li>
<p><a href="#informix-temportal-types">Temporal types</a></p>
</li>
<li>
<p><a href="#informix-timestamp-types">Timestamp types</a></p>
</li>
<li>
<p><a href="#informix-decimal-types">Decimal types</a>
If the default data type conversions do not meet your needs, you can <a href="../development/converters.html#custom-converters" class="xref page">create a custom converter</a> for the connector.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="informix-basic-types"><a class="anchor" href="#informix-basic-types"></a>Basic types</h3>
<div class="paragraph">
<p>The following table describes how the connector maps each Informix data type to a <em>literal type</em> and a <em>semantic type</em> in event fields.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>literal type</em> describes how the value is represented using Kafka Connect schema types: <code>INT8</code>, <code>INT16</code>, <code>INT32</code>, <code>INT64</code>, <code>FLOAT32</code>, <code>FLOAT64</code>, <code>BOOLEAN</code>, <code>STRING</code>, <code>BYTES</code>, <code>ARRAY</code>, <code>MAP</code>, and <code>STRUCT</code>.</p>
</li>
<li>
<p><em>semantic type</em> describes how the Kafka Connect schema captures the <em>meaning</em> of the field using the name of the Kafka Connect schema for the field.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Mappings for Informix basic data types</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 20%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Informix data type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BIGINT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BIGSERIAL</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BLOB</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BOOLEAN</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BOOLEAN</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>CHAR[(N)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>CLOB</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.Date</code><br>
<br>
A date without timezone information</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATETIME</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.Timestamp</code><br>
<br>
A timestamp without timezone information</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DECIMAL</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DOUBLE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INTEGER</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>LVARCHAR[(N)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NUMERIC</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>REAL</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>SERIAL</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>SMALLINT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT16</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>SMALLFLOAT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>FLOAT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TINYINT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT16</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8-bit unsigned integer value between 0 and 255, thus needs to be stored as int16</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>TEXT</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>VARCHAR[(N)]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>STRING</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>n/a</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If present, a column&#8217;s default value is propagated to the corresponding field&#8217;s Kafka Connect schema.
Change events contain the field&#8217;s default value unless an explicit column value is specified.
Consequently, there is rarely a need to obtain the default value from the schema.
Passing the default value helps satisfy compatibility rules when <a href="../configuration/avro.html" class="xref page">using Avro</a> as the serialization format together with the Confluent schema registry.</p>
</div>
</div>
<div class="sect2">
<h3 id="informix-temporal-types"><a class="anchor" href="#informix-temporal-types"></a>Temporal types</h3>
<div class="paragraph">
<p>Informix maps temporal types based on the value of the <code>time.precision.mode</code> connector configuration property.
The following sections describe these mappings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#informix-time-precision-mode-adaptive"><code>time.precision.mode=adaptive</code></a></p>
</li>
<li>
<p><a href="#informix-time-precision-mode-connect"><code>time.precision.mode=connect</code></a></p>
</li>
</ul>
</div>
<div id="informix-time-precision-mode-adaptive" class="paragraph">
<div class="title"><code>time.precision.mode=adaptive</code></div>
<p>To ensure that events <em>exactly</em> represent the values in the database, when the <code>time.precision.mode</code> configuration property is set to the default value, <code>adaptive</code>, the connector determines the literal and semantic types based on the column&#8217;s data type definition.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Mappings when <code>time.precision.mode</code> is <code>adaptive</code></caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 20%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Informix data type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.Date</code><br>
<br>
Represents the number of days since the epoch.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATETIME</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.time.Timestamp</code><br>
<br>
Represents the number of milliseconds since the epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="informix-time-precision-mode-connect" class="paragraph">
<div class="title"><code>time.precision.mode=connect</code></div>
<p>When the <code>time.precision.mode</code> configuration property is set to <code>connect</code>, the connector uses Kafka Connect logical types.
This setting can be useful for consumers that can handle only the built-in Kafka Connect logical types, and that cannot handle variable-precision time values.
However, because Informix supports tens of microsecond precision, if a connector is configured to use <code>connect</code> time precision, and the database column has a <em>fractional second precision</em> value that is greater than 3,  the connector generates events that result in a loss of precision.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. Mappings when <code>time.precision.mode</code> is <code>connect</code></caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 20%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Informix data type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Date</code><br>
<br>
Represents the number of days since the epoch.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DATETIME</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>INT64</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Timestamp</code><br>
<br>
Represents the number of milliseconds since the epoch, and does not include timezone information.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="informix-timestamp-types"><a class="anchor" href="#informix-timestamp-types"></a>Timestamp types</h3>
<div class="paragraph">
<p>The <code>DATETIME</code> type represents a timestamp without time zone information.
Such columns are converted into an equivalent Kafka Connect value based on UTC.
For example, the <code>DATETIME</code> value "2018-06-20 15:13:16.94514" is represented by an <code>io.debezium.time.Timestamp</code> with the value "1529507596000".</p>
</div>
<div class="paragraph">
<p>The timezone of the JVM running Kafka Connect and Debezium does not affect this conversion.</p>
</div>
</div>
<div class="sect2">
<h3 id="informix-decimal-types"><a class="anchor" href="#informix-decimal-types"></a>Decimal types</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 27%;">
<col style="width: 18%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Informix data type</th>
<th class="tableblock halign-left valign-top">Literal type (schema type)</th>
<th class="tableblock halign-left valign-top">Semantic type (schema name) and Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>NUMERIC[(P[,S])]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code><br>
<br>
The <code>scale</code> schema parameter contains an integer that represents how many digits the decimal point is shifted.
The <code>connect.decimal.precision</code> schema parameter contains an integer that represents the precision of the given decimal value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>DECIMAL[(P[,S])]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>BYTES</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.data.Decimal</code><br></p>
</div>
<div class="paragraph">
<p>+
The <code>scale</code> schema parameter contains an integer that represents how many digits the decimal point is shifted.
The <code>connect.decimal.precision</code> schema parameter contains an integer that represents the precision of the given decimal value.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-informix"><a class="anchor" href="#setting-up-informix"></a>Setting up Informix</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For Debezium to capture change events that are committed to Informix tables, a Informix database administrator with the necessary privileges must configure the database for change data capture.</p>
</div>
<div class="paragraph">
<p>Perform the following tasks to prepare for using the Change Data Capture API:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>As the database user <code>informix</code>, run the <code>syscdcv1.sql</code> script from the <code>$INFORMIXDIR/etc</code> directory. This will install the <code>syscdcv1</code> database.</p>
</li>
<li>
<p>Verify that the <code>syscdcv1</code> database exists by creating a connection to it as user <code>informix</code>.</p>
</li>
<li>
<p>Set the <code>DB_LOCALE</code> environment variable to be the same as the locale of the database from which you want to capture data.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Specific guidance about optimizing Informix for change data capture is beyond the scope of this documentation.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="informix-deploying-a-connector"><a class="anchor" href="#informix-deploying-a-connector"></a>Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To deploy a Debezium Informix connector, you install the Debezium Informix connector archive, configure the connector, and start the connector by adding its configuration to Kafka Connect.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="https://zookeeper.apache.org/">Apache ZooKeeper</a>, <a href="http://kafka.apache.org/">Apache Kafka</a>, and <a href="https://kafka.apache.org/documentation.html#connect">Kafka Connect</a> are installed.</p>
</li>
<li>
<p>Informix is installed and <a href="#setting-up-informix">capture mode is enabled for tables</a> to prepare the database to be used with the Debezium connector.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the <a href="https://repo1.maven.org/maven2/io/debezium/debezium-connector-informix/2.6.0.Beta1/debezium-connector-informix-2.6.0.Beta1-plugin.tar.gz">Debezium Informix connector plug-in archive</a> from Maven Central.</p>
</li>
<li>
<p>Extract the JAR files into your Kafka Connect environment.</p>
</li>
<li>
<p>Download the <a href="https://repo1.maven.org/maven2/com/ibm/informix/jdbc/4.50.10/jdbc-4.50.10.jar">JDBC driver for Informix</a> and <a href="https://repo1.maven.org/maven2/com/ibm/informix/ifx-changestream-client/1.1.3/ifx-changestream-client-1.1.3.jar">Informix Change Stream client</a> from Maven Central, and copy the downloaded JAR files to the directory that contains the Debezium Informix connector JAR file (that is, <code>debezium-connector-informix-2.6.0.Beta1.jar</code>).</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to licensing requirements, the Debezium Informix connector archive does not include the Informix JDBC driver and Change Stream client that Debezium requires to connect to a Informix database.
To enable the connector to access the database, you must add the driver and client library to your connector environment.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add the directory with the JAR files to <a href="https://kafka.apache.org/documentation/#connectconfigs">Kafka Connect&#8217;s <code>plugin.path</code></a>.</p>
</li>
<li>
<p>Restart your Kafka Connect process to pick up the new JAR files.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you are working with immutable containers, see <a href="https://quay.io/organization/debezium">Debezium&#8217;s container images</a> for Apache ZooKeeper, Apache Kafka and Kafka Connect with the Informix connector already installed and ready to run.</p>
</div>
<div class="paragraph">
<p>You can also <a href="../operations/openshift.html" class="xref page">run Debezium on Kubernetes and OpenShift</a>.</p>
</div>
<div class="ulist">
<div class="title">Next steps</div>
<ul>
<li>
<p><a href="#informix-example-configuration">Configure the connector</a> and <a href="#informix-adding-connector-configuration">add the configuration to your Kafka Connect cluster.</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="informix-example-configuration"><a class="anchor" href="#informix-example-configuration"></a>Informix connector configuration example</h3>
<div class="paragraph">
<p>The following example shows the configuration for a connector instance that captures data from an Informix server with the logical name <code>fullfillment</code> on port 9088 at 192.168.99.100.
Typically, you configure the Debezium Informix connector in a JSON file by setting the configuration properties that are available for the connector.</p>
</div>
<div class="paragraph">
<p>You can choose to produce events for a subset of the schemas and tables in a database.
Optionally, you can ignore, mask, or truncate columns that contain sensitive data, that are larger than a specified size, or that you do not need.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "name": "informix-connector",  <i class="conum" data-value="1"></i><b>(1)</b>
  "config": {
    "connector.class": "io.debezium.connector.informix.InformixConnector", <i class="conum" data-value="2"></i><b>(2)</b>
    "database.hostname": "192.168.99.100", <i class="conum" data-value="3"></i><b>(3)</b>
    "database.port": "9088", <i class="conum" data-value="4"></i><b>(4)</b>
    "database.user": "informix", <i class="conum" data-value="5"></i><b>(5)</b>
    "database.password": "in4mix", <i class="conum" data-value="6"></i><b>(6)</b>
    "database.dbname": "mydatabase", <i class="conum" data-value="7"></i><b>(7)</b>
    "topic.prefix": "fullfillment", <i class="conum" data-value="8"></i><b>(8)</b>
    "table.include.list": "mydatabase.myschema.customers", <i class="conum" data-value="9"></i><b>(9)</b>
    "schema.history.internal.kafka.bootstrap.servers": "kafka:9092", <i class="conum" data-value="10"></i><b>(10)</b>
    "schema.history.internal.kafka.topic": "schemahistory.fullfillment" <i class="conum" data-value="11"></i><b>(11)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the connector when registered with a Kafka Connect service.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The name of this Informix connector class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The address of the Informix instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The port number of the Informix instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The name of the Informix user.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The password for the Informix user.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>The name of the database to capture changes from.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>The logical name of the Informix instance/cluster, which forms a namespace and is used in all the names of the Kafka topics to which the connector writes, the Kafka Connect schema names, and the namespaces of the corresponding Avro schema when the <a href="../configuration/avro.html" class="xref page">Avro Connector</a> is used.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>A list of all tables whose changes Debezium should capture.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>The list of Kafka brokers that this connector uses to write and recover DDL statements to the database schema history topic.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>The name of the database schema history topic where the connector writes and recovers DDL statements.
This topic is for internal use only and should not be used by consumers.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For the complete list of the configuration properties that you can set for the Debezium Informix connector, see <a href="#informix-connector-properties">Informix connector properties</a>.</p>
</div>
<div class="paragraph">
<p>You can send this configuration with a <code>POST</code> command to a running Kafka Connect service.
The service records the configuration and starts one connector task that performs the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connects to the Informix database.</p>
</li>
<li>
<p>Reads change-data tables for tables that are in capture mode.</p>
</li>
<li>
<p>Streams change event records to Kafka topics.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="informix-adding-connector-configuration"><a class="anchor" href="#informix-adding-connector-configuration"></a>Adding connector configuration</h3>
<div class="paragraph">
<p>To start running a Informix connector, create a connector configuration and add the configuration to your Kafka Connect cluster.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="#setting-up-informix">Informix replication is enabled</a> to expose change data for tables that are in capture mode.</p>
</li>
<li>
<p>The Informix connector is installed.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a configuration for the Informix connector.</p>
</li>
<li>
<p>Use the <a href="https://kafka.apache.org/documentation/#connect_rest">Kafka Connect REST API</a> to add that connector configuration to your Kafka Connect cluster.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Results</div>
<p>After the connector starts, it <a href="#informix-snapshots">performs a consistent snapshot</a> of the Informix database tables that the connector is configured to capture changes for.
The connector then starts generating data change events for row-level operations and streaming change event records to Kafka topics.</p>
</div>
</div>
<div class="sect2">
<h3 id="informix-connector-properties"><a class="anchor" href="#informix-connector-properties"></a>Connector properties</h3>
<div class="paragraph">
<p>The Debezium Informix connector has numerous configuration properties that you can use to achieve the right connector behavior for your application.
Many properties have default values.
Information about the properties is organized as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#informix-required-configuration-properties">Required configuration properties</a></p>
</li>
<li>
<p><a href="#informix-advanced-configuration-properties">Advanced configuration properties</a></p>
</li>
<li>
<p><a href="#debezium-informix-connector-database-history-configuration-properties">Database schema history connector configuration properties</a> that control how Debezium processes events that it reads from the database schema history topic.</p>
<div class="ulist">
<ul>
<li>
<p><a href="#debezium-informix-connector-pass-through-database-driver-configuration-properties">Pass-through database schema history properties</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#debezium-informix-connector-pass-through-database-driver-configuration-properties">Pass-through database driver properties</a> that control the behavior of the database driver.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="informix-required-configuration-properties"><a class="anchor" href="#informix-required-configuration-properties"></a>Required Debezium Informix connector configuration properties</h4>
<div class="paragraph">
<p>The following configuration properties are <em>required</em> unless a default value is available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-name"></a><a href="#informix-property-name"><code>name</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unique name for the connector.
You can register a connector with the specified name only once.
Subsequent attempts result in failures.
This property is required by all Kafka Connect connectors.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-connector-class"></a><a href="#informix-property-connector-class"><code>connector.class</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the Java class for the connector.
Always use the value <code>io.debezium.connector.informix.InformixConnector</code> for the Informix connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-tasks-max"></a><a href="#informix-property-tasks-max"><code>tasks.max</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of tasks that this connector can create.
The Informix connector always uses a single task and therefore does not use this value, so the default is always acceptable.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-hostname"></a><a href="#informix-property-database-hostname"><code>database.hostname</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>IP address or hostname of the Informix database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-port"></a><a href="#informix-property-database-port"><code>database.port</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>9088</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Integer port number of the Informix database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-user"></a><a href="#informix-property-database-user"><code>database.user</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the Informix database user for connecting to the Informix database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-password"></a><a href="#informix-property-database-password"><code>database.password</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Password to use when connecting to the Informix database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-dbname"></a><a href="#informix-property-database-dbname"><code>database.dbname</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the Informix database from which to stream changes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-topic-prefix"></a><a href="#informix-property-topic-prefix"><code>topic.prefix</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Topic prefix which provides a namespace for the particular Informix database server that hosts the database for which Debezium is capturing changes.
Only alphanumeric characters, hyphens, dots and underscores must be used in the topic prefix name.
The topic prefix is used for all Kafka topics that receive records from this connector.
Specify a value that is unique across all connectors in the Kafka Connect deployment.<br>
<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Do not change the value of this property.
If you change the name value, after a restart, instead of continuing to emit events to the original topics, the connector emits subsequent events to topics whose names are based on the new value.
The connector is also unable to recover its database schema history topic.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-table-include-list"></a><a href="#informix-property-table-include-list"><code>table.include.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match fully-qualified table identifiers for tables whose changes you want the connector to capture.
When this property is set, the connector captures changes only from the specified tables.
Each identifier is of the form <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.
By default, the connector captures changes in every non-system table.<br></p>
</div>
<div class="paragraph">
<p>To match the name of a table, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the table it does not match substrings that might be present in a table name.<br>
If you include this property in the configuration, do not also set the <code>table.exclude.list</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-table-exclude-list"></a><a href="#informix-property-table-exclude-list"><code>table.exclude.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match fully-qualified table identifiers for tables whose changes you do not want the connector to capture.
The connector captures changes in each non-system table that is not included in the exclude list.
Each identifier is of the form <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<br></p>
</div>
<div class="paragraph">
<p>To match the name of a table, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the table it does not match substrings that might be present in a table name.<br>
If you include this property in the configuration, do not also set the <code>table.include.list</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-column-include-list"></a><a href="#informix-property-column-include-list"><code>column.include.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>empty string</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names of columns to include in change event record values.
The fully-qualified name of a column observes one of the following formats: <em>databaseName</em>.<em>tableName</em>.<em>columnName</em>, or <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.<br></p>
</div>
<div class="paragraph">
<p>To match the name of a column, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the column; it does not match substrings that might be present in a column name.
If you include this property in the configuration, do not also set the <code>column.exclude.list</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-column-exclude-list"></a><a href="#informix-property-column-exclude-list"><code>column.exclude.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>empty string</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names of columns to exclude from change event values.
The fully-qualified name of a column observes one of the following formats: <em>databaseName</em>.<em>tableName</em>.<em>columnName</em>, or <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.<br></p>
</div>
<div class="paragraph">
<p>To match the name of a column, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the column; it does not match substrings that might be present in a column name.
Primary key columns are always included in the event&#8217;s key, the value that you set in this property would exclude them.
If you include this property in the configuration, do not set the <code>column.include.list</code> property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-column-mask-hash"></a><a href="#informix-property-column-mask-hash"><code>column.mask.hash.<em>hashAlgorithm</em>.with.salt.<em>salt</em></code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>n/a</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names of character-based columns.
The fully-qualified name of a column observes one of the following formats: <em>databaseName</em>.<em>tableName</em>.<em>columnName</em>, or <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.<br>
To match the name of a column, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the column; the expression does not match substrings that might be present in a column name.
In the resulting change event record, the values for the specified columns are replaced with pseudonyms.</p>
</div>
<div class="paragraph">
<p>A pseudonym consists of the hashed value that results from applying the specified <em>hashAlgorithm</em> and <em>salt</em>.
Based on the hash function that is used, referential integrity is maintained, while column values are replaced with pseudonyms.
Supported hash functions are described in the <a href="https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#MessageDigest">MessageDigest section</a> of the Java Cryptography Architecture Standard Algorithm Name Documentation.<br>
<br>
In the following example, <code>CzQMA0cB5K</code> is a randomly selected salt.<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>column.mask.hash.SHA-256.with.salt.CzQMA0cB5K = inventory.orders.customerName, inventory.shipment.customerName</pre>
</div>
</div>
<div class="paragraph">
<p>If necessary, the pseudonym is automatically shortened to the length of the column.
The connector configuration can include multiple properties that specify different hash algorithms and salts.<br>
<br>
Depending on the <em>hashAlgorithm</em> used, the <em>salt</em> selected, and the actual data set, the resulting data set might not be completely masked.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-time-precision-mode"></a><a href="#informix-property-time-precision-mode"><code>time.precision.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>adaptive</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the numeric precision that the connector uses to represent time, date, and timestamps values.<br>
Specify one of the following values:
<br>
<code>adaptive</code>::
Depending on the data type of the table column, the connector uses millisecond, microsecond, or nanosecond precision values to represent time and timestamp values exactly as they exist in the source table .<br>
<br>
<code>connect</code>::
The connector always represents <code>Time</code>, <code>Date</code>, and <code>Timestamp</code> values by using the default Kafka Connect format, which uses millisecond precision regardless of the precision that is configured for the column in the source table.
For more information, see <a href="#informix-temporal-types">temporal types</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-tombstones-on-delete"></a><a href="#informix-property-tombstones-on-delete"><code>tombstones.on.delete</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies whether a <em>delete</em> event is followed by a tombstone event.<br>
Specify one of the following values:
<br>
<code>true</code>:: For each delete operation, the connector emits a <em>delete</em> event, and a subsequent tombstone event.
Select this option to ensure that Kafka can delete all events that pertain to the key of the deleted row.
If tombstones are disabled, and <a href="https://kafka.apache.org/documentation/#compaction">log compaction</a> is enabled for the destination topic, Kafka might be unable to identify and delete all events that share the key.
<br>
<code>false</code>:: The connector emits only a <em>delete</em> event.
<br></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-include-schema-changes"></a><a href="#informix-property-include-schema-changes"><code>include.schema.changes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Boolean value that specifies whether the connector publishes changes in the database schema to the Kafka topic that has the same name as the database server ID.
When the default value is set, schema changes are recorded with a <code>key</code> that contains the database name and a <code>value</code> that is a JSON structure that describes the schema update.
This property does not effect the way that the connector records information to its internal database schema history topic.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-column-truncate-to-length-chars"></a><a href="#informix-property-column-truncate-to-length-chars"><code>column.truncate.to.<em>length</em>.chars</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>n/a</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names of character-based columns.
Set this property if you want to truncate the data in a set of columns when it exceeds the number of characters specified by the <em>length</em> in the property name.
Set <code>length</code> to a positive integer value, for example, <code>column.truncate.to.20.chars</code>.</p>
</div>
<div class="paragraph">
<p>The fully-qualified name of a column observes one of the following formats: <em>databaseName</em>.<em>tableName</em>.<em>columnName</em>, or <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.<br>
To match the name of a column, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the column; the expression does not match substrings that might be present in a column name.</p>
</div>
<div class="paragraph">
<p>You can specify multiple properties with different lengths in a single configuration.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-column-mask-with-length-chars"></a><a href="#informix-property-column-mask-with-length-chars"><code>column.mask.with.<em>length</em>.chars</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>n/a</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names of character-based columns.
Set this property if you want the connector to mask the values for a set of columns, for example, if they contain sensitive data.
Set <code><em>length</em></code> to a positive integer to replace data in the specified columns with the number of asterisk (<code>*</code>) characters specified by the <em>length</em> in the property name.
Set <em>length</em> to <code>0</code> (zero) to replace data in the specified columns with an empty string.</p>
</div>
<div class="paragraph">
<p>The fully-qualified name of a column observes one of the following formats: <em>databaseName</em>.<em>tableName</em>.<em>columnName</em>, or <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.<br>
To match the name of a column, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the column; the expression does not match substrings that might be present in a column name.</p>
</div>
<div class="paragraph">
<p>You can specify multiple properties with different lengths in a single configuration.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-column-propagate-source-type"></a><a href="#informix-property-column-propagate-source-type"><code>column.propagate.source.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>n/a</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names of columns for which you want the connector to emit extra parameters that represent column metadata.
When this property is set, the connector adds the following fields to the schema of event records:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>__debezium.source.column.type</code><br></p>
</li>
<li>
<p><code>__debezium.source.column.length</code><br></p>
</li>
<li>
<p><code>__debezium.source.column.scale</code><br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These parameters propagate a column&#8217;s original type name and length (for variable-width types), respectively.<br>
Enabling the connector to emit this extra data can assist in properly sizing specific numeric or character-based columns in sink databases.</p>
</div>
<div class="paragraph">
<p>The fully-qualified name of a column observes one of the following formats: <em>databaseName</em>.<em>tableName</em>.<em>columnName</em>, or <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<em>columnName</em>.<br>
To match the name of a column, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the column; the expression does not match substrings that might be present in a column name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-datatype-propagate-source-type"></a><a href="#informix-property-datatype-propagate-source-type"><code>datatype.propagate.source.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>n/a</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that specify the fully-qualified names of data types that are defined for columns in a database.
When this property is set, for columns with matching data types, the connector emits event records that include the following extra fields in their schema:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>__debezium.source.column.type</code><br></p>
</li>
<li>
<p><code>__debezium.source.column.length</code><br></p>
</li>
<li>
<p><code>__debezium.source.column.scale</code><br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These parameters propagate the name of a column&#8217;s original data type, and, for variable-width types, its length, and scale.<br>
Enabling the connector to emit this extra data can assist in properly sizing specific numeric or character-based columns in sink databases.</p>
</div>
<div class="paragraph">
<p>The fully-qualified name of a column observes one of the following formats: <em>databaseName</em>.<em>tableName</em>.<em>typeName</em>, or <em>databaseName</em>.<em>schemaName</em>.<em>tableName</em>.<em>typeName</em>.<br>
To match the name of a data type, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the data type; the expression does not match substrings that might be present in a type name.</p>
</div>
<div class="paragraph">
<p>For the list of Informix-specific data type names, see the <a href="#informix-data-types">Informix data type mappings</a> .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-message-key-columns"></a><a href="#informix-property-message-key-columns"><code>message.key.columns</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>empty string</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A list of expressions that specify the columns that the connector uses to form custom message keys for change event records that it publishes to the Kafka topics for specified tables.</p>
</div>
<div class="paragraph">
<p>By default, Debezium uses the primary key column of a table as the message key for records that it emits.
In place of the default, or to specify a key for tables that lack a primary key, you can configure custom message keys based on one or more columns.<br>
<br>
To establish a custom message key for a table, list the table, followed by the columns to use as the message key.
Each list entry takes the following format:<br>
<br>
<code><em>&lt;fully-qualified_tableName&gt;</em>:<em>&lt;keyColumn&gt;</em>,<em>&lt;keyColumn&gt;</em></code><br>
<br>
To base a table key on multiple column names, insert commas between the column names.<br>
Each fully-qualified table name is a regular expression in the following format:<br></p>
</div>
<div class="paragraph">
<p><code><em>&lt;databaseName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code><br></p>
</div>
<div class="paragraph">
<p>The property can list entries for multiple tables.
Use a semicolon to separate entries for different tables in the list.<br>
<br>
The following example sets the message key for the tables <code>inventory.customers</code> and <code>purchaseorders</code>:<br>
<br>
<code>inventory.customers:pk1,pk2;(.*).purchaseorders:pk3,pk4</code><br>
<br>
In the preceding example, the columns <code>pk1</code> and <code>pk2</code> are specified as the message key for the table <code>inventory.customer</code>.
For <code>purchaseorders</code> tables in any schema, the columns <code>pk3</code> and <code>pk4</code> serve as the message key.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-schema-name-adjustment-mode"></a><a href="#informix-property-schema-name-adjustment-mode"><code>schema.name.adjustment.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>none</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies how to adjust schema names for compatibility with the message converter that the connector uses.<br>
Specify one of the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>No adjustment.<br></p>
</dd>
<dt class="hdlist1"><code>avro</code></dt>
<dd>
<p>Replace characters that are not valid for the Avro type with an underscore (<code>_</code>).</p>
</dd>
<dt class="hdlist1"><code>avro_unicode</code></dt>
<dd>
<p>Replaces underscores or characters are not valid for the Avro type with the corresponding unicode, for example, <code>_uxxxx</code>.</p>
<div class="paragraph">
<p>Note: <code>_</code> is an escape sequence, equivalent to a backslash in Java.</p>
</div>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-field-name-adjustment-mode"></a><a href="#informix-property-field-name-adjustment-mode"><code>field.name.adjustment.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>none</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>SSpecifies how to adjust field names for compatibility with the message converter that the connector uses.<br>
Specify one of the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>No adjustment.<br></p>
</dd>
<dt class="hdlist1"><code>avro</code></dt>
<dd>
<p>Replace characters that are not valid for the Avro type with an underscore (<code>_</code>).</p>
</dd>
<dt class="hdlist1"><code>avro_unicode</code></dt>
<dd>
<p>Replaces underscores or characters are not valid for the Avro type with the corresponding unicode, for example, <code>_uxxxx</code>.</p>
<div class="paragraph">
<p>Note: <code>_</code> is an escape sequence, equivalent to a backslash in Java.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For more information about Avro compatibility, see <a href="../configuration/avro.html#avro-naming" class="xref page">Avro naming</a> .</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="informix-advanced-configuration-properties"><a class="anchor" href="#informix-advanced-configuration-properties"></a>Advanced connector configuration properties</h4>
<div class="paragraph">
<p>The following <em>advanced</em> configuration properties have defaults that work in most situations and therefore rarely need to be specified in the connector&#8217;s configuration.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-converters"></a><a href="#informix-property-converters"><code>converters</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enumerates a comma-separated list of the symbolic names of the <a href="../development/converters.html#custom-converters" class="xref page">custom converter</a> instances that the connector can use.
For example,<br></p>
</div>
<div class="paragraph">
<p><code>isbn</code></p>
</div>
<div class="paragraph">
<p>You must set the <code>converters</code> property to enable the connector to use a custom converter.</p>
</div>
<div class="paragraph">
<p>For each converter that you configure for a connector, you must also add a <code>.type</code> property, which specifies the fully-qualified name of the class that implements the converter interface.
The <code>.type</code> property uses the following format:<br></p>
</div>
<div class="paragraph">
<p><code><em>&lt;converterSymbolicName&gt;</em>.type</code><br></p>
</div>
<div class="paragraph">
<p>For example,<br></p>
</div>
<div class="literalblock">
<div class="content">
<pre>isbn.type: io.debezium.test.IsbnConverter</pre>
</div>
</div>
<div class="paragraph">
<p>If you want to further control the behavior of a configured converter, you can add one or more configuration parameters to pass values to the converter.
To associate any additional configuration parameter with a converter, prefix the parameter names with the symbolic name of the converter.<br>
For example,<br></p>
</div>
<div class="literalblock">
<div class="content">
<pre>isbn.schema.name: io.debezium.informix.type.Isbn</pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-mode"></a><a href="#informix-property-snapshot-mode"><code>snapshot.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>initial</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the criteria for performing a snapshot when the connector starts.<br>
Specify one of the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>initial</code></dt>
<dd>
<p>For tables in capture mode, the connector takes a snapshot of the schema for the table and the data in the table, and then transitions to streaming data for subsequent changes.
This option is useful for populating Kafka topics with a complete representation of the existing table data.</p>
</dd>
<dt class="hdlist1"><code>initial_only</code></dt>
<dd>
<p>Takes a snapshot of structure and data as with the <code>initial</code> option, but does not transition to streaming changes after the snapshot completes.</p>
</dd>
<dt class="hdlist1"><code>schema_only</code></dt>
<dd>
<p>For tables in capture mode, the connector takes a snapshot of only the schema for the table.
This is useful when you are not interested in capturing past data and want the connector to emit to Kafka topics only the changes that happen after the current time.
After the snapshot is complete, the connector continues by reading change events from the database&#8217;s redo logs.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-isolation-mode"></a><a href="#informix-property-snapshot-isolation-mode"><code>snapshot.isolation.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>repeatable_read</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>During a snapshot, specifies the transaction isolation level and the length of time that the connector locks tables that are in capture mode.
Specify one of the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>read_uncommitted</code></dt>
<dd>
<p>Does not prevent other transactions from updating table rows during an initial snapshot.
This mode has no data consistency guarantees; some data might be lost or corrupted.</p>
</dd>
<dt class="hdlist1"><code>read_committed</code></dt>
<dd>
<p>Does not prevent other transactions from updating table rows during an initial snapshot.
It is possible for a new record to appear twice: once in the initial snapshot, and once in the streaming phase.
However, this consistency level is appropriate for data mirroring.</p>
</dd>
<dt class="hdlist1"><code>repeatable_read</code></dt>
<dd>
<p>Prevents other transactions from updating table rows during an initial snapshot.
It is possible for a new record to appear twice: once in the initial snapshot,and once in the streaming phase.
However, this consistency level is appropriate for data mirroring.</p>
</dd>
<dt class="hdlist1"><code>exclusive</code></dt>
<dd>
<p>Uses repeatable read isolation level but takes an exclusive lock for all tables to be read.
This mode prevents other transactions from updating table rows during an initial snapshot.
Only <code>exclusive</code> mode guarantees full consistency; the initial snapshot and streaming logs constitute a linear history.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-cdc-timeout"></a><a href="#informix-property-cdc-timeout"><code>cdc.timeout</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>5</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Positive integer value that specifies the timeout behavior of a read call to the change stream client.<br>
Specify one of the following values:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>+</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>&lt;0</code></dt>
<dd>
<p>Do not timeout.</p>
</dd>
<dt class="hdlist1"><code>0</code></dt>
<dd>
<p>Return immediately if no data is available.</p>
</dd>
<dt class="hdlist1"><code>&gt;=1</code></dt>
<dd>
<p>Specifies the number of seconds that the connector waits for data before it times out.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-cdc-buffersize"></a><a href="#informix-property-cdc-buffersize"><code>cdc.buffersize</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0x100000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Positive integer value that specifies the maximum size of each batch of records that the Informix Change Stream Client processes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-event-processing-failure-handling-mode"></a><a href="#informix-property-event-processing-failure-handling-mode"><code>event.processing.failure.handling.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>fail</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies how the connector handles exceptions during processing of events.<br>
Specify one of the following values:
<br>
<code>fail</code>:: The connector logs the offset of the problematic event and stops processing.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>warn</code></dt>
<dd>
<p>The connector logs the offset of the problematic event and continues processing with the next event.</p>
</dd>
<dt class="hdlist1"><code>skip</code></dt>
<dd>
<p>The connector skips the problematic event and continues processing with the next event.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-poll-interval-ms"></a><a href="#informix-property-poll-interval-ms"><code>poll.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>500</code> (0.5 seconds)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Positive integer value that specifies the number of milliseconds that the connector waits for new change events to appear before it starts processing a batch of events.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-max-batch-size"></a><a href="#informix-property-max-batch-size"><code>max.batch.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2048</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Positive integer value that specifies the maximum size of each batch of events that the connector processes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-max-queue-size"></a><a href="#informix-property-max-queue-size"><code>max.queue.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>8192</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Positive integer value that specifies the maximum number of records that the blocking queue can hold.
When Debezium reads events streamed from the database, it places the events in the blocking queue before it writes them to Kafka.
The blocking queue can provide backpressure for reading change events from the database
in cases where the connector ingests messages faster than it can write them to Kafka, or when Kafka becomes unavailable.
Events that are held in the queue are disregarded when the connector periodically records offsets.
Always set the value of <code>max.queue.size</code> to be larger than the value of <a href="#informix-property-max-batch-size"><code>max.batch.size</code></a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-max-queue-size-in-bytes"></a><a href="#informix-property-max-queue-size-in-bytes"><code>max.queue.size.in.bytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A long integer value that specifies the maximum volume of the blocking queue in bytes.
By default, volume limits are not specified for the blocking queue.
To specify the number of bytes that the queue can consume, set this property to a positive long value.<br>
If <a href="#informix-property-max-queue-size"><code>max.queue.size</code></a> is also set, writing to the queue is blocked when the size of the queue reaches the limit specified by either property.
For example, if you set <code>max.queue.size=1000</code>, and <code>max.queue.size.in.bytes=5000</code>, writing to the queue is blocked after the queue contains 1000 records, or after the volume of the records in the queue reaches 5000 bytes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-heartbeat-interval-ms"></a><a href="#informix-property-heartbeat-interval-ms"><code>heartbeat.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Controls how frequently the connector sends heartbeat messages to a Kafka topic. The default behavior is that the connector does not send heartbeat messages.<br>
<br>
Heartbeat messages are useful for monitoring whether the connector is receiving change events from the database.
Heartbeat messages might help decrease the number of change events that need to be re-sent when a connector restarts.
To send heartbeat messages, set this property to a positive integer, which indicates the number of milliseconds between heartbeat messages.<br>
Heartbeat messages are useful when there are many updates in a database that is being tracked but only a tiny number of updates are in tables that are in capture mode. In this situation, the connector reads from the database transaction log as usual, but rarely emits change records to Kafka.
In such a situation, the connector has few opportunities to send the latest offset to Kafka.
Enable the connector to send heartbeat messages to ensure that it sends the latest offset to Kafka even when few changes occur in monitored tables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-delay-ms"></a><a href="#informix-property-snapshot-delay-ms"><code>snapshot.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An interval in milliseconds that the connector should wait before performing a snapshot when the connector starts.
If you start multiple connectors in a cluster, this property is useful for avoiding snapshot interruptions, which might cause re-balancing of connectors.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-include-collection-list"></a><a href="#informix-property-snapshot-include-collection-list"><code>snapshot.include.collection.list</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All tables specified in <code>table.include.list</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An optional, comma-separated list of regular expressions that match the fully-qualified names (<code><em>databaseName</em>.<em>schemaName</em>.<em>tableName</em></code>) of the tables to include in a snapshot.
The specified items must be named in the connector&#8217;s <a href="#informix-property-table-include-list"><code>table.include.list</code></a> property.
This property takes effect only if the connector&#8217;s <a href="#informix-property-snapshot-mode"><code>snapshot.mode</code></a> property is set to a value other than <code>never</code>.<br>
This property does not affect the behavior of incremental snapshots.<br></p>
</div>
<div class="paragraph">
<p>To match the name of a table, Debezium applies the regular expression that you specify as an <em>anchored</em> regular expression.
That is, the specified expression is matched against the entire name string of the table; it does not match substrings that might be present in a table name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-fetch-size"></a><a href="#informix-property-snapshot-fetch-size"><code>snapshot.fetch.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>During a snapshot, the connector reads table content in batches of rows.
This property specifies the maximum number of rows in a batch.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-lock-timeout-ms"></a><a href="#informix-property-snapshot-lock-timeout-ms"><code>snapshot.lock.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>10000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the maximum amount of time (in milliseconds) to wait to obtain table locks when performing a snapshot.
If the connector cannot acquire table locks during this interval, the snapshot fails.
For more information, see <a href="#informix-snapshots">How the connector performs snapshots</a>.<br>
Specify one of the following settings:
<br>
An integer &gt; 0:: The number of milliseconds that the connector waits to obtain table locks.
The snapshot fails if the connector cannot obtain a lock before the specified interval ends.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>0</code></dt>
<dd>
<p>The snapshot fails immediately if the connector cannot obtain a lock.</p>
</dd>
<dt class="hdlist1"><code>-1</code></dt>
<dd>
<p>The connector waits indefinitely to obtain a lock.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-select-statement-overrides"></a><a href="#informix-property-snapshot-select-statement-overrides"><code>snapshot.select.statement.overrides</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the table rows to include in a snapshot.
Use the property if you want a snapshot to include only a subset of the rows in a table.
This property affects snapshots only.
It does not apply to events that the connector reads from the log during the streaming phase.</p>
</div>
<div class="paragraph">
<p>The property contains a comma-separated list of fully-qualified table names in the form <code><em>&lt;databaseName&gt;</em>.<em>&lt;schemaName&gt;.&lt;tableName&gt;</em></code>. For example,<br>
<br>
<code>"snapshot.select.statement.overrides": "mydatabase.inventory.products,mydatabase.customers.orders"</code><br>
<br>
For each table in the list, add a further configuration property that specifies the <code>SELECT</code> statement for the connector to run on the table when it takes a snapshot.
The specified <code>SELECT</code> statement determines the subset of table rows to include in the snapshot.
Use the following format to specify the name of this <code>SELECT</code> statement property:<br>
<br>
<code>snapshot.select.statement.overrides.<em>&lt;databaseName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code>.
For example,
<code>snapshot.select.statement.overrides.mydatabase.customers.orders</code>.<br>
<br>
Example:</p>
</div>
<div class="paragraph">
<p>From a <code>customers.orders</code> table that includes the soft-delete column, <code>delete_flag</code>, add the following properties if you want a snapshot to include only those records that are not soft-deleted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"snapshot.select.statement.overrides": "mydatabase.customer.orders",
"snapshot.select.statement.overrides.mydatabase.customer.orders": "SELECT * FROM [customers].[orders] WHERE delete_flag = 0 ORDER BY id DESC"</pre>
</div>
</div>
<div class="paragraph">
<p>In the resulting snapshot, the connector includes only the records for which <code>delete_flag = 0</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-provide-transaction-metadata"></a><a href="#informix-property-provide-transaction-metadata"><code>provide.transaction.metadata</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Determines whether the connector generates events with transaction boundaries and enriches change event envelopes with transaction metadata.
Set the value to <code>true</code> if you want the connector to perform these actions.
For more information, see <a href="#informix-transaction-metadata">Transaction metadata</a> .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-skipped-operations"></a><a href="#informix-property-skipped-operations"><code>skipped.operations</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>t</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A comma-separated list of operation types that the connector skips during streaming.
You can specify the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>c</code></dt>
<dd>
<p>The connector does not emit events for insert (create) operations.</p>
</dd>
<dt class="hdlist1"><code>u</code></dt>
<dd>
<p>The connector does not emit events for update operations.</p>
</dd>
<dt class="hdlist1"><code>d</code></dt>
<dd>
<p>The connector does not emit events for delete operations.</p>
</dd>
<dt class="hdlist1"><code>t</code>(default)</dt>
<dd>
<p>The connector does not emit events truncate operation.</p>
</dd>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>The connector emits events for all operation types.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-signal-data-collection"></a><a href="#informix-property-signal-data-collection"><code>signal.data.collection</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Fully-qualified name of the data collection that is used to send <a href="../configuration/signalling.html#debezium-signaling-enabling-source-signaling-channel" class="xref page">signals</a> to the connector.
Use the following format to specify the collection name:<br>
<code><em>&lt;databaseName&gt;</em>.<em>&lt;schemaName&gt;</em>.<em>&lt;tableName&gt;</em></code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-signal-enabled-channels"></a><a href="#informix-property-signal-enabled-channels"><code>signal.enabled.channels</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>source</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of the signaling channel names that are enabled for the connector.
By default, the following channels are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>source</code></p>
</li>
<li>
<p><code>kafka</code></p>
</li>
<li>
<p><code>file</code></p>
</li>
<li>
<p><code>jmx</code>
Optionally, you can also implement a <a href="../configuration/signalling.html#debezium-signaling-enabling-custom-signaling-channel" class="xref page">custom signaling channel</a>.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-notification-enabled-channels"></a><a href="#informix-property-notification-enabled-channels"><code>notification.enabled.channels</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of the notification channel names that are enabled for the connector.
By default, the following channels are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>sink</code></p>
</li>
<li>
<p><code>log</code></p>
</li>
<li>
<p><code>jmx</code>
Optionally, you can also implement a <a href="../configuration/notification.html#debezium-notification-custom-channel" class="xref page">custom notification channel</a>.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-incremental-snapshot-chunk-size"></a><a href="#informix-property-incremental-snapshot-chunk-size"><code>incremental.snapshot.chunk.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1024</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of rows that the connector fetches and reads into memory during an incremental snapshot chunk.
Increasing the chunk size provides greater efficiency, because the snapshot runs fewer snapshot queries of a greater size.
However, larger chunk sizes also require more memory to buffer the snapshot data.
Adjust the chunk size to a value that provides the best performance in your environment.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-incremental-snapshot-watermarking-strategy"></a><a href="#informix-property-incremental-snapshot-watermarking-strategy"><code>incremental.snapshot.watermarking.strategy</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>insert_insert</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the watermarking mechanism that the connector uses during an incremental snapshot to deduplicate events that might be captured by an incremental snapshot and then recaptured after streaming resumes.<br>
You can specify one of the following options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>insert_insert</code></dt>
<dd>
<p>When you send a signal to initiate an incremental snapshot, for every chunk that Debezium reads during the snapshot, it writes an entry to the signaling data collection to record the signal to open the snapshot window.
After the snapshot completes, Debezium inserts a second entry that records the signal to close the window.</p>
</dd>
<dt class="hdlist1"><code>insert_delete</code></dt>
<dd>
<p>When you send a signal to initiate an incremental snapshot, for every chunk that Debezium reads, it writes a single entry to the signaling data collection to record the signal to open the snapshot window.
After the snapshot completes, this entry is removed.
No entry is created for the signal to close the snapshot window.
Set this option to prevent rapid growth of the signaling data collection.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-topic-naming-strategy"></a><a href="#informix-property-topic-naming-strategy"><code>topic.naming.strategy</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.schema.SchemaTopicNamingStrategy</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the <code>TopicNamingStrategy</code> class that the connector uses to construct the topic names for data change, schema change, transaction, heartbeat, and other types of events.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-topic-delimiter"></a><a href="#informix-property-topic-delimiter"><code>topic.delimiter</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>.</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the delimiter that the connector uses to construct topic names.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-topic-cache-size"></a><a href="#informix-property-topic-cache-size"><code>topic.cache.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>10000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The cache size allocated for storing topic names in a bounded concurrent hash map.
This cache helps to determine the topic name that corresponds to a given data collection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-topic-heartbeat-prefix"></a><a href="#informix-property-topic-heartbeat-prefix"><code>topic.heartbeat.prefix</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>__debezium-heartbeat</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies a string that the connector appends to the name of the topic to which it sends heartbeat messages.
The topic name has the following pattern:<br>
<br>
<em>topic.heartbeat.prefix</em>.<em>topic.prefix</em><br>
<br>
For example, if the topic prefix is <code>fulfillment</code>, based on the default value of the prefix, the connector assigns the following name to the heartbeat topic : <code>__debezium-heartbeat.fulfillment</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-topic-transaction"></a><a href="#informix-property-topic-transaction"><code>topic.transaction</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>transaction</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies a string that the connector appends to the name of the topic to which it sends transaction metadata messages.
The topic name has the following pattern:<br>
<br>
<em>topic.prefix</em>.<em>transaction</em><br>
<br>
For example, if the topic prefix is <code>fulfillment</code>, based on the default value of this property, the connector assigns the following name to the transaction metadata topic:  <code>fulfillment.transaction</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-snapshot-max-threads"></a><a href="#informix-property-snapshot-max-threads"><code>snapshot.max.threads</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the maximum number of threads that the connector uses when performing an initial snapshot.
To enable parallel initial snapshots, set the property to a value greater than 1.
In a parallel initial snapshot, the connector processes multiple tables concurrently.
This feature is incubating.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-custom-metric-tags"></a><a href="#informix-property-custom-metric-tags"><code>custom.metric.tags</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>No default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Defines tags for customizing MBean object names by adding metadata that provides contextual information that enables you to organize and categorize metrics data.
Specify a comma-separated list of key-value pairs.
Each key represents a tag for the MBean object name, and the corresponding value represents a value for the key, for example, <br>
<code>k1=v1,k2=v2</code></p>
</div>
<div class="paragraph">
<p>The connector appends the specified tags to the base MBean object name.</p>
</div>
<div class="paragraph">
<p>You can define tags to identify particular application instances, environments, regions, versions, and so forth.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-errors-max-retires"></a><a href="#informix-property-errors-max-retires"><code>errors.max.retries</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>-1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of retries on retriable errors (e.g. connection errors) before failing (-1 = no limit, 0 = disabled, &gt; 0 = num of retries).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="debezium-informix-connector-database-history-configuration-properties"><a class="anchor" href="#debezium-informix-connector-database-history-configuration-properties"></a>Debezium connector database schema history configuration properties</h4>
<div class="paragraph">
<p>Debezium provides a set of <code>schema.history.internal.*</code> properties that control how the connector interacts with the schema history topic.</p>
</div>
<div class="paragraph">
<p>The following table describes the <code>schema.history.internal</code> properties for configuring the Debezium connector.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. Connector database schema history configuration properties</caption>
<colgroup>
<col style="width: 33%;">
<col style="width: 17%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-kafka-topic"></a><a href="#informix-property-database-history-kafka-topic"><code>schema.history.internal.kafka.topic</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The full name of the Kafka topic where the connector stores the database schema history.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-kafka-bootstrap-servers"></a><a href="#informix-property-database-history-kafka-bootstrap-servers"><code>schema.history.internal.kafka.bootstrap.servers</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A list of host/port pairs that the connector uses for establishing an initial connection to the Kafka cluster. This connection is used for retrieving the database schema history previously stored by the connector, and for writing each DDL statement read from the source database. Each pair should point to the same Kafka cluster used by the Kafka Connect process.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-kafka-recovery-poll-interval-ms"></a><a href="#informix-property-database-history-kafka-recovery-poll-interval-ms"><code>schema.history.internal.kafka.recovery.poll.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>100</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An integer value that specifies the maximum number of milliseconds the connector should wait during startup/recovery while polling for persisted data. The default is 100ms.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-kafka-query-timeout-ms"></a><a href="#informix-property-database-history-kafka-query-timeout-ms"><code>schema.history.internal.kafka.query.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>3000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An integer value that specifies the maximum number of milliseconds the connector should wait while fetching cluster information using Kafka admin client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-kafka-create-timeout-ms"></a><a href="#informix-property-database-history-kafka-create-timeout-ms"><code>schema.history.internal.kafka.create.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>30000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An integer value that specifies the maximum number of milliseconds the connector should wait while create kafka history topic using Kafka admin client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-kafka-recovery-attempts"></a><a href="#informix-property-database-history-kafka-recovery-attempts"><code>schema.history.internal.kafka.recovery.attempts</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>100</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of times that the connector should try to read persisted history data before the connector recovery fails with an error. The maximum amount of time to wait after receiving no data is <code>recovery.attempts</code>  <code>recovery.poll.interval.ms</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-skip-unparseable-ddl"></a><a href="#informix-property-database-history-skip-unparseable-ddl"><code>schema.history.internal.skip.unparseable.ddl</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Boolean value that specifies whether the connector should ignore malformed or unknown database statements or stop processing so a human can fix the issue.
The safe default is <code>false</code>.
Skipping should be used only with care as it can lead to data loss or mangling when the binlog is being processed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-store-only-captured-tables-ddl"></a><a href="#informix-property-database-history-store-only-captured-tables-ddl"><code>schema.history.internal.store.only.captured.tables.ddl</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Boolean value that specifies whether the connector records schema structures from all tables in a schema or database, or only from tables that are designated for capture.<br>
Specify one of the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>false</code> (default)</dt>
<dd>
<p>During a database snapshot, the connector records the schema data for all non-system tables in the database, including tables that are not designated for capture.
It&#8217;s best to retain the default setting.
If you later decide to capture changes from tables that you did not originally designate for capture, the connector can easily begin to capture data from those tables, because their schema structure is already stored in the schema history topic.
Debezium requires the schema history of a table so that it can identify the structure that was present at the time that a change event occurred.</p>
</dd>
<dt class="hdlist1"><code>true</code></dt>
<dd>
<p>During a database snapshot, the connector records the table schemas only for the tables from which Debezium captures change events.
If you change the default value, and you later configure the connector to capture data from other tables in the database, the connector lacks the schema information that it requires to capture change events from the tables.<br></p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-database-history-store-only-captured-databases-ddl"></a><a href="#informix-property-database-history-store-only-captured-databases-ddl"><code>schema.history.internal.store.only.captured.databases.ddl</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A Boolean value that specifies whether the connector records schema structures from all logical databases in the database instance.<br>
Specify one of the following values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>true</code></dt>
<dd>
<p>The connector records schema structures only for tables in the logical database and schema from which Debezium captures change events.</p>
</dd>
<dt class="hdlist1"><code>false</code></dt>
<dd>
<p>The connector records schema structures for all logical databases.<br></p>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The default value is <code>true</code> for MySQL Connector<br>
</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<div id="informix-pass-through-database-history-properties-for-configuring-producer-and-consumer-clients" class="paragraph">
<div class="title">Pass-through database schema history properties for configuring producer and consumer clients</div>
<p><br>
Debezium relies on a Kafka producer to write schema changes to database schema history topics.
Similarly, it relies on a Kafka consumer to read from database schema history topics when a connector starts.
You define the configuration for the Kafka producer and consumer clients by assigning values to a set of pass-through configuration properties that begin with the <code>schema.history.internal.producer.*</code> and <code>schema.history.internal.consumer.*</code> prefixes.
The pass-through producer and consumer database schema history properties control a range of behaviors, such as how these clients secure connections with the Kafka broker, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">schema.history.internal.producer.security.protocol=SSL
schema.history.internal.producer.ssl.keystore.location=/var/private/ssl/kafka.server.keystore.jks
schema.history.internal.producer.ssl.keystore.password=test1234
schema.history.internal.producer.ssl.truststore.location=/var/private/ssl/kafka.server.truststore.jks
schema.history.internal.producer.ssl.truststore.password=test1234
schema.history.internal.producer.ssl.key.password=test1234

schema.history.internal.consumer.security.protocol=SSL
schema.history.internal.consumer.ssl.keystore.location=/var/private/ssl/kafka.server.keystore.jks
schema.history.internal.consumer.ssl.keystore.password=test1234
schema.history.internal.consumer.ssl.truststore.location=/var/private/ssl/kafka.server.truststore.jks
schema.history.internal.consumer.ssl.truststore.password=test1234
schema.history.internal.consumer.ssl.key.password=test1234</code></pre>
</div>
</div>
<div class="paragraph">
<p>Debezium strips the prefix from the property name before it passes the property to the Kafka client.</p>
</div>
<div class="paragraph">
<p>See the Kafka documentation for more details about <a href="https://kafka.apache.org/documentation.html#producerconfigs">Kafka producer configuration properties</a> and <a href="https://kafka.apache.org/documentation.html#consumerconfigs">Kafka consumer configuration properties</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="debezium-informix-connector-kafka-signals-configuration-properties"><a class="anchor" href="#debezium-informix-connector-kafka-signals-configuration-properties"></a>Debezium connector Kafka signals configuration properties</h4>
<div class="paragraph">
<p>Debezium provides a set of <code>signal.*</code> properties that control how the connector interacts with the Kafka signals topic.</p>
</div>
<div class="paragraph">
<p>The following table describes the Kafka <code>signal</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. Kafka signals configuration properties</caption>
<colgroup>
<col style="width: 33%;">
<col style="width: 17%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-signal-kafka-topic"></a><a href="#informix-property-signal-kafka-topic"><code>signal.kafka.topic</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>&lt;topic.prefix&gt;-signal</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the Kafka topic that the connector monitors for ad hoc signals.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <a href="../configuration/topic-auto-create-config.html#topic-auto-create-config" class="xref page">automatic topic creation</a> is disabled, you must manually create the required signaling topic.
A signaling topic is required to preserve signal ordering.
The signaling topic must have a single partition.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-signal-kafka-groupId"></a><a href="#informix-property-signal-kafka-groupId"><code>signal.kafka.groupId</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>kafka-signal</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the group ID  that is used by Kafka consumers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-signal-kafka-bootstrap-servers"></a><a href="#informix-property-signal-kafka-bootstrap-servers"><code>signal.kafka.bootstrap.servers</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A list of host/port pairs that the connector uses for establishing an initial connection to the Kafka cluster.
Each pair references the Kafka cluster that is used by the Debezium Kafka Connect process.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-signal-kafka-poll-timeout-ms"></a><a href="#informix-property-signal-kafka-poll-timeout-ms"><code>signal.kafka.poll.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>100</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An integer value that specifies the maximum number of milliseconds that the connector waits when polling signals.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-kafka-consumer-offset-commit-enabled"></a><a href="#informix-kafka-consumer-offset-commit-enabled"><code>kafka.consumer.offset.commit.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enable the offset commit for the signal topic in order to guarantee At-Least-Once delivery. If disabled, only signals received when the consumer is up&amp;running are processed. Any signals received when the consumer is down are lost.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="debezium-informix-connector-pass-through-signals-kafka-consumer-configuration-properties"><a class="anchor" href="#debezium-informix-connector-pass-through-signals-kafka-consumer-configuration-properties"></a>Debezium connector pass-through signals Kafka consumer client configuration properties</h4>
<div class="paragraph">
<p>The Debezium connector provides for pass-through configuration of the signals Kafka consumer.
Pass-through signals properties begin with the prefix <code>signals.consumer.*</code>.
For example, the connector passes properties such as <code>signal.consumer.security.protocol=SSL</code> to the Kafka consumer.</p>
</div>
<div class="paragraph">
<p>Debezium strips the prefixes from the properties before it passes the properties to the Kafka signals consumer.</p>
</div>
</div>
<div class="sect3">
<h4 id="debezium-informix-connector-kafka-notifications-configuration-properties"><a class="anchor" href="#debezium-informix-connector-kafka-notifications-configuration-properties"></a>Debezium connector sink notifications configuration properties</h4>
<div class="paragraph">
<p>The following table describes the <code>notification</code> properties.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. Sink notification configuration properties</caption>
<colgroup>
<col style="width: 33%;">
<col style="width: 17%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="informix-property-notification-sink-topic-name"></a><a href="#informix-property-notification-sink-topic-name"><code>notification.sink.topic.name</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the topic that receives notifications from Debezium.
This property is required when you configure the <a href="#informix-property-notification-enabled-channels"><code>notification.enabled.channels</code></a> property to include <code>sink</code> as one of the enabled notification channels.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="debezium-informix-connector-pass-through-database-driver-configuration-properties"><a class="anchor" href="#debezium-informix-connector-pass-through-database-driver-configuration-properties"></a>Debezium connector pass-through database driver configuration properties</h4>
<div class="paragraph">
<p>The Debezium connector provides for pass-through configuration of the database driver.
Pass-through database properties begin with the prefix <code>driver.*</code>.
For example, the connector passes properties such as <code>driver.foobar=false</code> to the JDBC URL.</p>
</div>
<div class="paragraph">
<p>As is the case with the <a href="#informix-pass-through-database-history-properties-for-configuring-producer-and-consumer-clients">pass-through properties for database schema history clients</a>, Debezium strips the prefixes from the properties before it passes them to the database driver.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="informix-monitoring"><a class="anchor" href="#informix-monitoring"></a>Monitoring</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium Informix connector provides three types of metrics that are in addition to the built-in support for JMX metrics that Apache ZooKeeper, Apache Kafka, and Kafka Connect provide.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#informix-snapshot-metrics">Snapshot metrics</a> provide information about connector operation while performing a snapshot.</p>
</li>
<li>
<p><a href="#informix-streaming-metrics">Streaming metrics</a> provide information about connector operation when the connector is capturing changes and streaming change event records.</p>
</li>
<li>
<p><a href="#informix-schema-history-metrics">Schema history metrics</a> provide information about the status of the connector&#8217;s schema history.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="../operations/monitoring.html#monitoring-debezium" class="xref page">Debezium monitoring documentation</a> provides details for how to expose these metrics by using JMX.</p>
</div>
<div class="sect2">
<h3 id="informix-snapshot-metrics"><a class="anchor" href="#informix-snapshot-metrics"></a>Snapshot metrics</h3>
<div class="paragraph">
<p>The <strong>MBean</strong> is <code>debezium.informix:type=connector-metrics,context=snapshot,server=<em>&lt;topic.prefix&gt;</em></code>.</p>
</div>
<div class="paragraph">
<p>Snapshot metrics are not exposed unless a snapshot operation is active, or if a snapshot has occurred since the last connector start.</p>
</div>
<div class="paragraph">
<p>The following table lists the shapshot metrics that are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-lastevent_informix"></a><a href="#connectors-snaps-metric-lastevent_informix"><code>LastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The last snapshot event that the connector has read.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-millisecondssincelastevent_informix"></a><a href="#connectors-snaps-metric-millisecondssincelastevent_informix"><code>MilliSecondsSinceLastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds since the connector has read and processed the most recent event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-totalnumberofeventsseen_informix"></a><a href="#connectors-snaps-metric-totalnumberofeventsseen_informix"><code>TotalNumberOfEventsSeen</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of events that this connector has seen since last started or reset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-numberofeventsfiltered_informix"></a><a href="#connectors-snaps-metric-numberofeventsfiltered_informix"><code>NumberOfEventsFiltered</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of events that have been filtered by include/exclude list filtering rules configured on the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-capturedtables_informix"></a><a href="#connectors-snaps-metric-capturedtables_informix"><code>CapturedTables</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The list of tables that are captured by the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-queuetotalcapacity_informix"></a><a href="#connectors-snaps-metric-queuetotalcapacity_informix"><code>QueueTotalCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The length the queue used to pass events between the snapshotter and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-queueremainingcapacity_informix"></a><a href="#connectors-snaps-metric-queueremainingcapacity_informix"><code>QueueRemainingCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The free capacity of the queue used to pass events between the snapshotter and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-totaltablecount_informix"></a><a href="#connectors-snaps-metric-totaltablecount_informix"><code>TotalTableCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of tables that are being included in the snapshot.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-remainingtablecount_informix"></a><a href="#connectors-snaps-metric-remainingtablecount_informix"><code>RemainingTableCount</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of tables that the snapshot has yet to copy.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotrunning_informix"></a><a href="#connectors-snaps-metric-snapshotrunning_informix"><code>SnapshotRunning</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the snapshot was started.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotpaused_informix"></a><a href="#connectors-snaps-metric-snapshotpaused_informix"><code>SnapshotPaused</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the snapshot was paused.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotaborted_informix"></a><a href="#connectors-snaps-metric-snapshotaborted_informix"><code>SnapshotAborted</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the snapshot was aborted.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotcompleted_informix"></a><a href="#connectors-snaps-metric-snapshotcompleted_informix"><code>SnapshotCompleted</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether the snapshot completed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotdurationinseconds_informix"></a><a href="#connectors-snaps-metric-snapshotdurationinseconds_informix"><code>SnapshotDurationInSeconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of seconds that the snapshot has taken so far, even if not complete. Includes also time when snapshot was paused.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-snapshotpauseddurationinseconds_informix"></a><a href="#connectors-snaps-metric-snapshotpauseddurationinseconds_informix"><code>SnapshotPausedDurationInSeconds</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of seconds that the snapshot was paused. If the snapshot was paused several times, the paused time adds up.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-rowsscanned_informix"></a><a href="#connectors-snaps-metric-rowsscanned_informix"><code>RowsScanned</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Map&lt;String, Long&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Map containing the number of rows scanned for each table in the snapshot.
Tables are incrementally added to the Map during processing.
Updates every 10,000 rows scanned and upon completing a table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-maxqueuesizeinbytes_informix"></a><a href="#connectors-snaps-metric-maxqueuesizeinbytes_informix"><code>MaxQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum buffer of the queue in bytes. This metric is available if <a href="#informix-property-max-queue-size-in-bytes"><code>max.queue.size.in.bytes</code></a> is set to a positive long value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-snaps-metric-currentqueuesizeinbytes_informix"></a><a href="#connectors-snaps-metric-currentqueuesizeinbytes_informix"><code>CurrentQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The current volume, in bytes, of records in the queue.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The connector also provides the following additional snapshot metrics when an incremental snapshot is executed:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-chunkid_informix"></a><a href="#connectors-insnap-metric-chunkid_informix"><code>ChunkId</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The identifier of the current snapshot chunk.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-chunkfrom_informix"></a><a href="#connectors-insnap-metric-chunkfrom_informix"><code>ChunkFrom</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The lower bound of the primary key set defining the current chunk.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-chunkto_informix"></a><a href="#connectors-insnap-metric-chunkto_informix"><code>ChunkTo</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The upper bound of the primary key set defining the current chunk.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-tablefrom_informix"></a><a href="#connectors-insnap-metric-tablefrom_informix"><code>TableFrom</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The lower bound of the primary key set of the currently snapshotted table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-insnap-metric-tableto_informix"></a><a href="#connectors-insnap-metric-tableto_informix"><code>TableTo</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The upper bound of the primary key set of the currently snapshotted table.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="informix-streaming-metrics"><a class="anchor" href="#informix-streaming-metrics"></a>Streaming metrics</h3>
<div class="paragraph">
<p>The <strong>MBean</strong> is <code>debezium.informix:type=connector-metrics,context=streaming,server=<em>&lt;topic.prefix&gt;</em></code>.</p>
</div>
<div class="paragraph">
<p>The following table lists the streaming metrics that are available.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 45%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attributes</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-lastevent_informix"></a><a href="#connectors-strm-metric-lastevent_informix"><code>LastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The last streaming event that the connector has read.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-millisecondssincelastevent_informix"></a><a href="#connectors-strm-metric-millisecondssincelastevent_informix"><code>MilliSecondsSinceLastEvent</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds since the connector has read and processed the most recent event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-totalnumberofeventsseen_informix"></a><a href="#connectors-strm-metric-totalnumberofeventsseen_informix"><code>TotalNumberOfEventsSeen</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of events that this connector has seen since the last start or metrics reset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-totalnumberofcreateeventsseen_informix"></a><a href="#connectors-strm-metric-totalnumberofcreateeventsseen_informix"><code>TotalNumberOfCreateEventsSeen</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of create events that this connector has seen since the last start or metrics reset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-totalnumberofupdateeventsseen_informix"></a><a href="#connectors-strm-metric-totalnumberofupdateeventsseen_informix"><code>TotalNumberOfUpdateEventsSeen</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of update events that this connector has seen since the last start or metrics reset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-totalnumberofdeleteeventsseen_informix"></a><a href="#connectors-strm-metric-totalnumberofdeleteeventsseen_informix"><code>TotalNumberOfDeleteEventsSeen</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total number of delete events that this connector has seen since the last start or metrics reset.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-numberofeventsfiltered_informix"></a><a href="#connectors-strm-metric-numberofeventsfiltered_informix"><code>NumberOfEventsFiltered</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of events that have been filtered by include/exclude list filtering rules configured on the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-capturedtables_informix"></a><a href="#connectors-strm-metric-capturedtables_informix"><code>CapturedTables</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The list of tables that are captured by the connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-queuetotalcapacity_informix"></a><a href="#connectors-strm-metric-queuetotalcapacity_informix"><code>QueueTotalCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The length the queue used to pass events between the streamer and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-queueremainingcapacity_informix"></a><a href="#connectors-strm-metric-queueremainingcapacity_informix"><code>QueueRemainingCapacity</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>int</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The free capacity of the queue used to pass events between the streamer and the main Kafka Connect loop.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-connected_informix"></a><a href="#connectors-strm-metric-connected_informix"><code>Connected</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>boolean</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Flag that denotes whether the connector is currently connected to the database server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-millisecondsbehindsource_informix"></a><a href="#connectors-strm-metric-millisecondsbehindsource_informix"><code>MilliSecondsBehindSource</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds between the last change event&#8217;s timestamp and the connector processing it.
The values will incoporate any differences between the clocks on the machines where the database server and the connector are running.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-numberofcommittedtransactions_informix"></a><a href="#connectors-strm-metric-numberofcommittedtransactions_informix"><code>NumberOfCommittedTransactions</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of processed transactions that were committed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-sourceeventposition_informix"></a><a href="#connectors-strm-metric-sourceeventposition_informix"><code>SourceEventPosition</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Map&lt;String, String&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The coordinates of the last received event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-lasttransactionid_informix"></a><a href="#connectors-strm-metric-lasttransactionid_informix"><code>LastTransactionId</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>string</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Transaction identifier of the last processed transaction.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-maxqueuesizeinbytes_informix"></a><a href="#connectors-strm-metric-maxqueuesizeinbytes_informix"><code>MaxQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum buffer of the queue in bytes. This metric is available if <a href="#informix-property-max-queue-size-in-bytes"><code>max.queue.size.in.bytes</code></a> is set to a positive long value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connectors-strm-metric-currentqueuesizeinbytes_informix"></a><a href="#connectors-strm-metric-currentqueuesizeinbytes_informix"><code>CurrentQueueSizeInBytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>long</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The current volume, in bytes, of records in the queue.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="informix-schema-evolution"><a class="anchor" href="#informix-schema-evolution"></a>Schema evolution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While a Debezium Informix connector can capture schema changes, to update a schema, you must collaborate with a database administrator to ensure that the connector continues to produce change events.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When you initiate a schema update on a table, you must permit the update procedure to complete before you perform a new schema update on the same table.
When possible, it is best to execute all DDLs in a single batch and perform the schema update procedure only once.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="informix-offline-schema-update"><a class="anchor" href="#informix-offline-schema-update"></a>Offline schema update</h3>
<div class="paragraph">
<p>Informix does not support online schema updates while capturing changes.
You must stop the Debezium Informix connector before you perform a schema update.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Because you must stop Debezium to complete the schema update procedure, to minimize disruptions to downstream applications, it&#8217;s best to perform this operation during a scheduled maintenance window.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>One or more tables that are in capture mode require schema updates.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Suspend the application that updates the database.</p>
</li>
<li>
<p>Wait for the Debezium connector to stream all unstreamed change event records.</p>
</li>
<li>
<p>Stop the Debezium connector.</p>
</li>
<li>
<p>Apply all changes to the source table schema.</p>
</li>
<li>
<p>Resume the application that updates the database.</p>
</li>
<li>
<p>Restart the Debezium connector.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2024 Debezium Community (Rev: <span class="truncated"><a href="https://github.com/debezium/debezium/commit/f3c43d1b7e42b8c752de2150f50caefca71533d9">f3c43d1b</a></span>)
            
        </div>
    </footer>
</main></div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../debezium-antora/js/site.js"></script>
<script async src="../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>