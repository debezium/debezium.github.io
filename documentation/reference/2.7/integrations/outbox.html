<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Outbox Quarkus Extension :: Debezium Documentation</title>
    <link rel="canonical" href="https://debezium.io/documentation/reference/stable/integrations/outbox.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="stable">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium 2.7 Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/signalling.html">Sending Signals to Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/notification.html">Receive notifications from Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mariadb.html">MariaDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/vitess.html">Vitess</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/spanner.html">Spanner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/jdbc.html">JDBC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/informix.html">Informix</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-changes.html">Event Changes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-outbox-event-router.html">MongoDB Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/schema-change-event-filter.html">Schema Change Event Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/partition-routing.html">Partition Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/header-to-value.html">HeaderToValue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timezone-converter.html">Timezone Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timescaledb.html">TimescaleDB Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/convert-cloudevent-to-saveable-form.html">Convert CloudEvents to Saveable Form</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Post Processors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/reselect-columns.html">Reselect Columns</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tracing.html">OpenTelemetry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/kubernetes.html">Running on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">2.7</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version">
          <a href="/documentation/reference/nightly/index.html">nightly</a>
        </li>
        <li class="version is-current">
          <a href="/documentation/reference/2.7/index.html">2.7</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.6/index.html">2.6</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.3/index.html">2.3</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.9/index.html">1.9</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>Integrations</li>
    <li><a href="outbox.html">Outbox Quarkus Extension</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">2.7</button>
        <div class="version-menu">
                <a class="version" href="/documentation/reference/nightly/index.html">nightly</a>
                <a class="version is-current" href="/documentation/reference/2.7/index.html">2.7</a>
                <a class="version" href="/documentation/reference/3.0/index.html">3.0</a>
                <a class="version" href="/documentation/reference/2.6/index.html">2.6</a>
                <a class="version" href="/documentation/reference/2.5/index.html">2.5</a>
                <a class="version" href="/documentation/reference/2.4/index.html">2.4</a>
                <a class="version" href="/documentation/reference/2.3/index.html">2.3</a>
                <a class="version" href="/documentation/reference/2.2/index.html">2.2</a>
                <a class="version" href="/documentation/reference/2.1/index.html">2.1</a>
                <a class="version" href="/documentation/reference/2.0/index.html">2.0</a>
                <a class="version" href="/documentation/reference/1.9/index.html">1.9</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/debezium/debezium/edit/2.7/documentation/modules/ROOT/pages/integrations/outbox.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
        
    <!-- This partial is a placeholder -->            <h1 class="page">Outbox Quarkus Extension</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_overview">Overview</a></li>
<li><a href="#_getting_started">Getting Started</a></li>
<li><a href="#_example">Example</a></li>
<li><a href="#reactive-outbox">Reactive Variant</a></li>
<li><a href="#additional-field-mappings">Additional Field mappings</a></li>
<li><a href="#_configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#_build_time_configuration_options">Build time configuration options</a></li>
<li><a href="#_runtime_configuration_options">Runtime configuration options</a></li>
<li><a href="#_distributed_tracing">Distributed tracing</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This extension is inspired by the <a href="../transformations/outbox-event-router.html" class="xref page">Outbox Event Router</a> single message transformation (SMT).
As discussed in the blog post <a href="/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/">Reliable Microservices Data Exchange with the Outbox Pattern</a>, microservices often need to exchange information with one another and an excellent way to deal with that is using the Outbox pattern combined with Debezium&#8217;s Outbox Event Router SMT.</p>
</div>
<div class="paragraph">
<p>The following image shows the overall architecture of this pattern:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../_images/outbox_pattern.png" alt="Outbox Pattern"></span></p>
</div>
<div class="paragraph">
<p>The Outbox extension&#8217;s goal is to provide a <a href="https://quarkus.io/">Quarkus</a> application with a reusable, highly configurable component that facilitates the use of the Outbox pattern paired with Debezium&#8217;s CDC connector pipeline to reliably and asynchronously share data with any consumer of said data.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a>Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In order to start using the Debezium Outbox Quarkus extension, the extension needs to be added as a part of the Quarkus application as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;io.debezium&lt;/groupId&gt;
  &lt;artifactId&gt;debezium-quarkus-outbox&lt;/artifactId&gt;
  &lt;version&gt;2.7.1.Final&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The extension provides the application with the <code>io.debezium.outbox.quarkus.ExportedEvent</code> interface.
It&#8217;s expected that an application class will implement this interface and that the event will be emitted using the <code>javax.enterprise.event.Event</code> class.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>ExportedEvent</code> interface is parameterized to allow the application to designate the Java types used by several attributes emitted by the event.
It&#8217;s important that for a given Quarkus application, <strong>all</strong> implementations of the <code>ExportedEvent</code> interface must use the same parameter types or a build failure will be thrown since all events will use the same underlying database table.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_example"><a class="anchor" href="#_example"></a>Example</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following example illustrates an implementation of the <code>ExportedEvent</code> interface representing an order that has been created:</p>
</div>
<div class="listingblock">
<div class="title">OrderCreatedEvent.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class OrderCreatedEvent implements ExportedEvent&lt;String, JsonNode&gt; {

    private static final String TYPE = "Order";
    private static final String EVENT_TYPE = "OrderCreated";

    private final long orderId;
    private final JsonNode jsonNode;
    private final Instant timestamp;

    public OrderCreatedEvent(Instant createdAt, Order order) {
        this.orderId = order.getId();
        this.timestamp = createdAt;
        this.jsonNode = convertToJson(order);
    }

    @Override
    public String getAggregateId() {
        return String.valueOf(orderId);
    }

    @Override
    public String getAggregateType() {
        return TYPE;
    }

    @Override
    public JsonNode getPayload() {
        return jsonNode;
    }

    @Override
    public String getType() {
        return EVENT_TYPE;
    }

    @Override
    public Instant getTimestamp() {
        return timestamp;
    }

    @Override
    public Map&lt;String, Object&gt; getAdditionalFieldValues() {
        // no additional fields
        return Collections.emptyMap();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example illustrates an <code>OrderService</code> that emits the <code>OrderCreatedEvent</code>:</p>
</div>
<div class="listingblock">
<div class="title">OrderService.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class OrderService {

    @Inject
    OrderRepository orderRepository;

    @Inject
    Event&lt;ExportedEvent&lt;?, ?&gt;&gt; event;

    @Transactional
    public Order addOrder(Order order) {
        order = orderRepository.save(order);
        event.fire(new OrderCreatedEvent(Instant.now(), order));
        return order;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the application code fires the event by calling <code>Event#fire()</code>, the Outbox extension will be notified that the event occurred and persists the contents of the event into an outbox event table within the scope of the current transaction.
The Debezium CDC connector in conjunction with the Outbox Event Router will be monitoring this table and will be responsible for relaying that data using CDC events.</p>
</div>
<div class="paragraph">
<p>To see a full end-to-end demo, the <a href="https://github.com/debezium/debezium-examples/tree/main/outbox">Outbox</a> example illustrates two Quarkus microservice applications using the outbox pattern to share data between them when orders are placed or cancelled.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reactive-outbox"><a class="anchor" href="#reactive-outbox"></a>Reactive Variant</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If your application uses reactive datasources, or Hibernate Reactive, you must use a slightly different configuration to add the extension to your application.</p>
</div>
<div class="paragraph">
<p>For example, use the following configuration to  import the reactive variant of the extension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;io.debezium&lt;/groupId&gt;
  &lt;artifactId&gt;debezium-quarkus-outbox-reactive&lt;/artifactId&gt;
  &lt;version&gt;2.7.1.Final&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The reactive extension provides the application with the same <code>io.debezium.outbox.quarkus.ExportedEvent</code> interface as the non-reactive variant, but it also provides the <code>DebeziumOutboxHandler</code> class.
Injecting the <code>DebeziumOutboxHandler</code> bean into an application provides a method for quickly persisting an <code>ExportedEvent</code> to the outbox table.
The following example shows an invocation that uses the same <code>ExportedEvent</code> as in the earlier example:</p>
</div>
<div class="listingblock">
<div class="title">OrderService.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class OrderService {

    @Inject
    DebeziumOutboxHandler debeziumOutboxHandler;

    @Inject
    OrderRepository orderRepository;

    @Inject
    Event&lt;ExportedEvent&lt;?, ?&gt;&gt; event;

    @ReactiveTransactional
    public Uni&lt;Order&gt; addOrder(Order order) {
        return orderRepository.persistAndFlush(order)
        .call(debeziumOutboxHandler.persistToOutbox(new OrderCreatedEvent(Instant.now(), order)));

    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>persistToOutbox</code> method returns a Uni; therefore, it must be observed by a subscriber ito receive the result.
For more information about using the Mutiny library to build reactive applications, see the <a href="https://quarkus.io/guides/mutiny-primer">Quarkus Mutiny primer</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional-field-mappings"><a class="anchor" href="#additional-field-mappings"></a>Additional Field mappings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium Outbox SMT can be configured to read additional fields and emit those field values either as event headers, or as part of the event value.</p>
</div>
<div class="paragraph">
<p>In order to pass additional field mappings to be saved by the Quarkus Outbox extension,
the configuration property <code>quarkus.debezium-outbox.additional-fields</code> must be specified in the <code>application.properties</code>.
This configuration property is a comma-separated list of additional field definitions that will be added to the Outbox entity mapping and passed by the application&#8217;s implementation of the <code>ExportedEvent</code> interface.</p>
</div>
<div class="paragraph">
<p>Each entry in this comma-separated list must follow this format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">&lt;field-name&gt;:&lt;field-java-type&gt;[:&lt;field-column-definition&gt;[:&lt;field-jpa-attribute-converter&gt;]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The pattern indicates that the field&#8217;s name and java-type are required while the column definition and JPA attribute converter are optional.
However, please note that if you wish to specify a JPA attribute converter then the column definition must be specified.</p>
</div>
<div class="paragraph">
<p>The following example shows how to define an additional field called <code>customer_name</code> that is represented in Java as a <code>String</code> and which should be stored in the outbox table as a <code>VARCHAR(100)</code> column.
This example also shows a JPA Attribute converter defined that forces the storage of the string to upper-case.</p>
</div>
<div class="listingblock">
<div class="title">application.properties</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.debezium-outbox.additional-fields=customer_name:string:varchar(100):example.UpperCase</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the field(s) are configured in the application&#8217;s <code>.properties</code> file, the application&#8217;s code needs to provide the corresponding values through its exported events.
In order to do this, the application class that extends the <code>ExportedEvent</code> needs to override the method called <code>getAdditionalFieldValues()</code> and return a <code>Map</code> of the additional field names and values.</p>
</div>
<div class="paragraph">
<p>In the following example, we show how to specify the <code>customer_name</code> field with a value of <code>Acme Goods</code>.
Using our <code>OrderCreatedEvent</code> from the example section above, we&#8217;ve extended the event:</p>
</div>
<div class="listingblock">
<div class="title">OrderCreatedEvent.java</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class OrderCreatedEvent implements ExportedEvent&lt;String, JsonNode&gt; {
    ...
    @Override
    public Map&lt;String, Object&gt; getAdditionalFieldValues() {
        return Collections.singletonMap("customer_name", "Acme Goods");
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Additional field mappings do allow specifying a JPA attribute converter per field.</p>
</div>
<div class="paragraph">
<p>In this example, we defined <code>example.UpperCase</code> that will convert any supplied string-value to upper-case prior to insertion.
A JPA attribute converter allows decoupling this type of behavior from the call site, allowing reuse of a common behavior.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With the configuration in the application&#8217;s <code>.properties</code> file and updating of <code>OrderCreateedEvent</code> to provide these additional fields and values,
the Debezium Outbox SMT now can access these additional field values and place them in the emitted event.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Outbox extension can be configured by setting options in the Quarkus <code>application.properties</code> file.
The extension works out-of-the-box with a default configuration, but this configuration may not be ideal for every situation.</p>
</div>
<div class="sect2">
<h3 id="_build_time_configuration_options"><a class="anchor" href="#_build_time_configuration_options"></a>Build time configuration options</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 65%;">
<col style="width: 12%;">
<col style="width: 23%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configuration property</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>Type</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-table-name"></a><a href="#quarkus-debezium-outbox-table-name"><code>quarkus.debezium-outbox.table-name</code></a></dt>
<dd>
<p>The table name to be used when creating the outbox table.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">OutboxEvent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-id-name"></a><a href="#quarkus-debezium-outbox-id-name"><code>quarkus.debezium-outbox.id.name</code></a></dt>
<dd>
<p>The column name for the event id column.<br>
for example, <code>uuid</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>id</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-id-column-definition"></a><a href="#quarkus-debezium-outbox-id-column-definition"><code>quarkus.debezium-outbox.id.column-definition</code></a></dt>
<dd>
<p>The database-specific column definition for the event id column.<br>
for example, <code>uuid not null</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>UUID NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-aggregate-id-name"></a><a href="#quarkus-debezium-outbox-aggregate-id-name"><code>quarkus.debezium-outbox.aggregate-id.name</code></a></dt>
<dd>
<p>The column name for the event key column.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>aggregateid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-aggregate-id-column-definition"></a><a href="#quarkus-debezium-outbox-aggregate-id-column-definition"><code>quarkus.debezium-outbox.aggregate-id.column-definition</code></a></dt>
<dd>
<p>The database-specific column definition for the aggregate id.<br>
for example, <code>varchar(50) not null</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VARCHAR(255) NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-aggregate-id-converter"></a><a href="#quarkus-debezium-outbox-aggregate-id-converter"><code>quarkus.debezium-outbox.aggregate-id.converter</code></a></dt>
<dd>
<p>The JPA AttributeConverter for the event key column.<br>
for example, <code>com.company.TheAttributeConverter</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-aggregate-type-name"></a><a href="#quarkus-debezium-outbox-aggregate-type-name"><code>quarkus.debezium-outbox.aggregate-type.name</code></a></dt>
<dd>
<p>The column name for the event aggregate type column.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>aggregatetype</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-aggregate-type-column-definition"></a><a href="#quarkus-debezium-outbox-aggregate-type-column-definition"><code>quarkus.debezium-outbox.aggregate-type.column-definition</code></a></dt>
<dd>
<p>The database-specific column definition for the aggregate type.<br>
for example, <code>varchar(15) not null</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VARCHAR(255) NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-aggregate-type-converter"></a><a href="#quarkus-debezium-outbox-aggregate-type-converter"><code>quarkus.debezium-outbox.aggregate-type.converter</code></a></dt>
<dd>
<p>The JPA AttributeConverter for the event aggregate type column.<br>
for example, <code>com.company.TheAttributeConverter</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-type-name"></a><a href="#quarkus-debezium-outbox-type-name"><code>quarkus.debezium-outbox.type.name</code></a></dt>
<dd>
<p>The column name for the event type column.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>type</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-type-column-definition"></a><a href="#quarkus-debezium-outbox-type-column-definition"><code>quarkus.debezium-outbox.type.column-definition</code></a></dt>
<dd>
<p>The database-specific column definition for the event type.<br>
for example, <code>varchar(50) not null</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VARCHAR(255) NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-type-converter"></a><a href="#quarkus-debezium-outbox-type-converter"><code>quarkus.debezium-outbox.type.converter</code></a></dt>
<dd>
<p>The JPA AttributeConverter for the event type column.<br>
for example, <code>com.company.TheAttributeConverter</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-timestamp-name"></a><a href="#quarkus-debezium-outbox-timestamp-name"><code>quarkus.debezium-outbox.timestamp.name</code></a></dt>
<dd>
<p>The column name for the event timestamp column.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>timestamp</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-timestamp-column-definition"></a><a href="#quarkus-debezium-outbox-timestamp-column-definition"><code>quarkus.debezium-outbox.timestamp.column-definition</code></a></dt>
<dd>
<p>The database-specific column definition for the event timestamp.<br>
for example, <code>timestamp not null</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>TIMESTAMP NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-timestamp-converter"></a><a href="#quarkus-debezium-outbox-timestamp-converter"><code>quarkus.debezium-outbox.timestamp.converter</code></a></dt>
<dd>
<p>The JPA AttributeConverter for the event timestamp column.<br>
for example, <code>com.company.TheAttributeConverter</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-payload-name"></a><a href="#quarkus-debezium-outbox-payload-name"><code>quarkus.debezium-outbox.payload.name</code></a></dt>
<dd>
<p>The column name for the event payload column.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>payload</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-payload-column-definition"></a><a href="#quarkus-debezium-outbox-payload-column-definition"><code>quarkus.debezium-outbox.payload.column-definition</code></a></dt>
<dd>
<p>The database-specific column definition for the event payload.<br>
for example, <code>text not null</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VARCHAR(8000)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-payload-converter"></a><a href="#quarkus-debezium-outbox-payload-converter"><code>quarkus.debezium-outbox.payload.converter</code></a></dt>
<dd>
<p>The JPA AttributeConverter for the event payload column.<br>
for example, <code>com.company.TheAttributeConverter</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-payload-type"></a><a href="#quarkus-debezium-outbox-payload-type"><code>quarkus.debezium-outbox.payload.type</code></a></dt>
<dd>
<p>A fully-qualified class name of a Hibernate <a href="https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type">user type</a> implementation.<br>
for example, <code>io.company.types.JsonNodeBinaryType</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-tracing-span-name"></a><a href="#quarkus-debezium-outbox-tracing-span-name"><code>quarkus.debezium-outbox.tracing-span.name</code></a></dt>
<dd>
<p>The column name for the tracing span context column.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>tracingspancontext</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-tracing-span-column-definition"></a><a href="#quarkus-debezium-outbox-tracing-span-column-definition"><code>quarkus.debezium-outbox.tracingspancontext.column-definition</code></a></dt>
<dd>
<p>The database-specific column definition for the tracing span context column.<br>
for example, <code>text not null</code></p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock"><code>VARCHAR(256)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-additional-fields"></a><a href="#quarkus-debezium-outbox-additional-fields"><code>quarkus.debezium-outbox.additional-fields</code></a></dt>
<dd>
<p>A comma-separated list of additional field mappings that will be persisted in the outbox table.<br>
<br>
See <a href="#additional-field-mappings">additional field mappings</a> for details on format and usage.</p>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
<td class="tableblock halign-right valign-top"></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The build time configuration defaults will work with the Outbox Event Router SMT out of the box.
When not using the default values, be sure that the SMT configuration matches.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_runtime_configuration_options"><a class="anchor" href="#_runtime_configuration_options"></a>Runtime configuration options</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 65%;">
<col style="width: 15%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configuration property</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>Type</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="dlist">
<dl>
<dt class="hdlist1"><a id="quarkus-debezium-outbox-remove-after-insert"></a><a href="#quarkus-debezium-outbox-remove-after-insert"><code>quarkus.debezium-outbox.remove-after-insert</code></a></dt>
<dd>
<p>Whether the outbox entry is removed after having been inserted.<br></p>
<div class="paragraph">
<p><em>The removal of the entry does not impact the Debezium connector from being able to emit CDC events.
This is used as a way to keep the table&#8217;s underlying storage from growing over time.</em></p>
</div>
</dd>
</dl>
</div></div></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_distributed_tracing"><a class="anchor" href="#_distributed_tracing"></a>Distributed tracing</h3>
<div class="paragraph">
<p>The extension has support for the distributed tracing.
See <a href="/documentation/reference/integrations/tracing">tracing documentation</a> for more details.</p>
</div>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2024 Debezium Community (Rev: <span class="truncated"><a href="https://github.com/debezium/debezium/commit/368c15eb435dec58f1217fc5b485eb58ee017a1c">368c15eb</a></span>)
            
        </div>
    </footer>
</main></div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../../debezium-antora/js/site.js"></script>
<script async src="../../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>