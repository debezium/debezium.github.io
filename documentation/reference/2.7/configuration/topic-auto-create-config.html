<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Customization of Kafka Connect automatic topic creation :: Debezium Documentation</title>
    <link rel="canonical" href="https://debezium.io/documentation/reference/stable/configuration/topic-auto-create-config.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="stable">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium 2.7 Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="signalling.html">Sending Signals to Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="notification.html">Receive notifications from Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mariadb.html">MariaDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/vitess.html">Vitess</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/spanner.html">Spanner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/jdbc.html">JDBC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/informix.html">Informix</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-changes.html">Event Changes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-outbox-event-router.html">MongoDB Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/schema-change-event-filter.html">Schema Change Event Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/partition-routing.html">Partition Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/header-to-value.html">HeaderToValue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timezone-converter.html">Timezone Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timescaledb.html">TimescaleDB Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/convert-cloudevent-to-saveable-form.html">Convert CloudEvents to Saveable Form</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Post Processors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/reselect-columns.html">Reselect Columns</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/tracing.html">OpenTelemetry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/kubernetes.html">Running on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">2.7</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version">
          <a href="/documentation/reference/nightly/index.html">nightly</a>
        </li>
        <li class="version is-current">
          <a href="/documentation/reference/2.7/index.html">2.7</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.6/index.html">2.6</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.3/index.html">2.3</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.9/index.html">1.9</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>Configuration</li>
    <li><a href="topic-auto-create-config.html">Customizing Topic Auto-Creation</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">2.7</button>
        <div class="version-menu">
                <a class="version" href="/documentation/reference/nightly/index.html">nightly</a>
                <a class="version is-current" href="/documentation/reference/2.7/index.html">2.7</a>
                <a class="version" href="/documentation/reference/3.0/index.html">3.0</a>
                <a class="version" href="/documentation/reference/2.6/index.html">2.6</a>
                <a class="version" href="/documentation/reference/2.5/index.html">2.5</a>
                <a class="version" href="/documentation/reference/2.4/index.html">2.4</a>
                <a class="version" href="/documentation/reference/2.3/index.html">2.3</a>
                <a class="version" href="/documentation/reference/2.2/index.html">2.2</a>
                <a class="version" href="/documentation/reference/2.1/index.html">2.1</a>
                <a class="version" href="/documentation/reference/2.0/index.html">2.0</a>
                <a class="version" href="/documentation/reference/1.9/index.html">1.9</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/debezium/debezium/edit/2.7/documentation/modules/ROOT/pages/configuration/topic-auto-create-config.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
        
    <!-- This partial is a placeholder -->            <h1 class="page">Customization of Kafka Connect automatic topic creation</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#disabling-automatic-topic-creation-for-the-kafka-broker">Disabling automatic topic creation for the Kafka broker</a></li>
<li><a href="#enabling-automatic-topic-creation">Set up Kafka Connect</a></li>
<li><a href="#configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#topic-creation-groups">Topic creation groups</a></li>
<li><a href="#topic-creation-group-configuration-properties">Topic creation group configuration properties</a></li>
<li><a href="#default-topic-creation-group-configuration">Default group configuration</a></li>
<li><a href="#custom-topic-creation-group-configuration">Custom group configuration</a></li>
<li><a href="#registering-custom-topic-creation-groups">Registering custom groups</a></li>
</ul>
</li>
<li><a href="#_additional_resources">Additional resources</a></li>
</ul>
</div>
<div class="paragraph">
<p>Kafka provides two mechanisms for creating topics automatically.
You can enable automatic topic creation for the Kafka broker, and, beginning with Kafka 2.6.0, you can also enable Kafka Connect to create topics.
The Kafka broker uses the <code>auto.create.topics.enable</code> property to control automatic topic creation.
In Kafka Connect, the <code>topic.creation.enable</code> property specifies whether Kafka Connect is permitted to create topics.
In both cases, the default settings for the properties enables automatic topic creation.</p>
</div>
<div class="paragraph">
<p>When automatic topic creation is enabled,
if a Debezium source connector emits a change event record for a table for which no target topic already exists,
the topic is created at runtime as the event record is ingested into Kafka.</p>
</div>
<div class="paragraph">
<div class="title">Differences between automatic topic creation at the broker and in Kafka Connect</div>
<p>Topics that the broker creates are limited to sharing a single default configuration.
The broker cannot apply unique configurations to different topics or sets of topics.
By contrast, Kafka Connect can apply any of several configurations when creating topics,
setting the replication factor, number of partitions, and other topic-specific settings as specified in the Debezium connector configuration.
The connector configuration defines a set of topic creation groups, and associates a set of topic configuration properties with each group.</p>
</div>
<div class="paragraph">
<p>The broker configuration and the Kafka Connect configuration are independent of each other.
Kafka Connect can create topics regardless of whether you disable topic creation at the broker.
If you enable automatic topic creation at both the broker and in Kafka Connect, the Connect configuration takes precedence,
and the broker creates topics only if none of the settings in the Kafka Connect configuration apply.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="disabling-automatic-topic-creation-for-the-kafka-broker"><a class="anchor" href="#disabling-automatic-topic-creation-for-the-kafka-broker"></a>Disabling automatic topic creation for the Kafka broker</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, the Kafka broker configuration enables the broker to create topics at runtime if the topics do not already exist.
Topics created by the broker cannot be configured with custom properties.
If you use a Kafka version earlier than 2.6.0, and you want to create topics with specific configurations, you must to disable automatic topic creation at the broker,
and then explicitly create the topics, either manually, or through a custom deployment process.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>In the broker configuration, set the value of <code>auto.create.topics.enable</code> to <code>false</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-automatic-topic-creation"><a class="anchor" href="#enabling-automatic-topic-creation"></a>Set up Kafka Connect</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Automatic topic creation in Kafka Connect is controlled by the <code>topic.creation.enable</code> property.
The default value for the property is <code>true</code>, enabling automatic topic creation, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-shell hljs" data-lang="shell">topic.creation.enable = true</code></pre>
</div>
</div>
<div class="paragraph">
<p>The setting for the <code>topic.creation.enable</code> property applies to all workers in the Connect cluster.</p>
</div>
<div class="paragraph">
<p>Kafka Connect automatic topic creation requires you to define the configuration properties that Kafka Connect applies when creating topics.
You specify topic configuration properties in the Debezium connector configuration by defining topic groups, and then specifying the properties to apply to each group.
The connector configuration defines a default topic creation group, and, optionally, one or more custom topic creation groups.
Custom topic creation groups use lists of topic name patterns to specify the topics to which the group&#8217;s settings apply.</p>
</div>
<div class="paragraph">
<p>For details about how Kafka Connect matches topics to topic creation groups, see <a href="#topic-creation-groups">Topic creation groups</a>.
For more information about how configuration properties are assigned to groups, see <a href="#topic-creation-group-configuration-properties">Topic creation group configuration properties</a>.</p>
</div>
<div class="paragraph">
<p>By default, topics that Kafka Connect creates are named based on the pattern <code>server.schema.table</code>, for example, <code>dbserver.myschema.inventory</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you don&#8217;t want to allow automatic topic creation by Kafka Connect, set the value of <code>topic.creation.enable</code> to <code>false</code>
in the Kafka Connect configuration (<em>connect-distributed.properties</em> file or via environment variable
<em>CONNECT_TOPIC_CREATION_ENABLE</em> when using <a href="https://quay.io/repository/debezium/connect">Debezium&#8217;s container image for Kafka Connect</a>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Kafka Connect automatic topic creation requires the <code>replication.factor</code> and <code>partitions</code> properties to be set for at least the <code>default</code> topic creation group.
It is valid for groups to obtain the values for the required properties from the default values for the Kafka broker.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For Kafka Connect to create topics automatically, it requires information from the source connector about the configuration properties to apply when creating topics.
You define the properties that control topic creation in the configuration for each Debezium connector.
As Kafka Connect creates topics for event records that a connector emits, the resulting topics obtain their configuration from the applicable group.
The configuration applies to event records emitted by that connector only.</p>
</div>
<div class="sect2">
<h3 id="topic-creation-groups"><a class="anchor" href="#topic-creation-groups"></a>Topic creation groups</h3>
<div class="paragraph">
<p>A set of topic properties is associated with a topic creation group.
Minimally, you must define a <code>default</code> topic creation group and specify its configuration properties.
Beyond that you can optionally define one or more custom topic creation groups and specify unique properties for each.</p>
</div>
<div class="paragraph">
<p>When you create custom topic creation groups, you define the member topics for each group based on topic name patterns.
You can specify naming patterns that describe the topics to include or exclude from each group.
The <code>include</code> and <code>exclude</code> properties contain comma-separated lists of regular expressions that define topic name patterns.
For example, if you want a group to include all topics that start with the string <code>dbserver1.inventory</code>, set the value of its <code>topic.creation.inventory.include</code> property to <code>dbserver1\\.inventory\\.*</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you specify both <code>include</code> and <code>exclude</code> properties for a custom topic group, the exclusion rules
take precedence, and override the inclusion rules.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="topic-creation-group-configuration-properties"><a class="anchor" href="#topic-creation-group-configuration-properties"></a>Topic creation group configuration properties</h3>
<div class="paragraph">
<p>The <code>default</code> topic creation group and each custom group is associated with a unique set of configuration properties.
You can configure a group to include any of the <a href="https://kafka.apache.org/documentation/#topicconfigs">Kafka topic-level configuration properties</a>.
For example, you can specify the <a href="https://kafka.apache.org/documentation/#topicconfigs_cleanup.policy">cleanup policy for old topic segments</a>, <a href="https://kafka.apache.org/documentation/#topicconfigs_retention.ms">retention time</a>, or the <a href="https://kafka.apache.org/documentation/#topicconfigs_compression.type">topic compression type</a> for a topic group.
You must define at least a minimum set of properties to describe the configuration of the topics to be created.</p>
</div>
<div class="paragraph">
<p>If no custom groups are registered, or if the <code>include</code> patterns for any registered groups don&#8217;t match the names of any topics to be created,
then Kafka Connect uses the configuration of the <code>default</code> group to create topics.</p>
</div>
<div class="paragraph">
<p>See <a href="../install.html#configuring-debezium-topics" class="xref page">Configuring Debezium topics</a> in the
Debezium installation guide on generic topic configuration considerations.</p>
</div>
</div>
<div class="sect2">
<h3 id="default-topic-creation-group-configuration"><a class="anchor" href="#default-topic-creation-group-configuration"></a>Default group configuration</h3>
<div class="paragraph">
<p>Before you can use Kafka Connect automatic topic creation, you must create a default topic creation group and define a configuration for it.
The configuration for the default topic creation group is applied to any topics with names that do not match the <code>include</code> list pattern of a custom topic creation group.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To define properties for the <code>topic.creation.default</code> group, add them to the connector configuration JSON, as shown in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-json hljs" data-lang="json">{
    ...

    "topic.creation.default.replication.factor": 3,  <i class="conum" data-value="1"></i><b>(1)</b>
    "topic.creation.default.partitions": 10,  <i class="conum" data-value="2"></i><b>(2)</b>
    "topic.creation.default.cleanup.policy": "compact",  <i class="conum" data-value="3"></i><b>(3)</b>
    "topic.creation.default.compression.type": "lz4"  <i class="conum" data-value="4"></i><b>(4)</b>

     ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can include any <a href="https://kafka.apache.org/documentation/#topicconfigs">Kafka topic-level configuration property</a> in the configuration for the <code>default</code> group.</p>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Connector configuration for the <code>default</code> topic creation group</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.default.replication.factor</code> defines the replication factor for topics created by
the default group.<br>
<code>replication.factor</code> is mandatory for the <code>default</code> group but optional for custom groups. Custom
groups will fall back to the <code>default</code> group&#8217;s value if not set. Use <code>-1</code> to use the Kafka
broker&#8217;s default value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.default.partitions</code> defines the number of partitions for topics created by
the default group.<br>
<code>partitions</code> is mandatory for the <code>default</code> group but optional for custom groups. Custom
groups will fall back to the <code>default</code> group&#8217;s value if not set. Use <code>-1</code> to use the Kafka
broker&#8217;s default value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.default.cleanup.policy</code> is mapped to the <a href="https://kafka.apache.org/documentation/#cleanup.policy"><code>cleanup.policy</code></a>
property of the <a href="https://kafka.apache.org/documentation/#topicconfigs">topic level configuration parameters</a> and
defines the log retention policy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.default.compression.type</code> is mapped to the <a href="https://kafka.apache.org/documentation/#compression.type"><code>compression.type</code></a>
property of the <a href="https://kafka.apache.org/documentation/#topicconfigs">topic level configuration parameters</a> and
defines how messages are compressed on hard disk.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Custom groups fall back to the <code>default</code> group settings only for the required <code>replication.factor</code> and <code>partitions</code> properties.
If the configuration for a custom topic group leaves other properties undefined, the values specified in the <code>default</code> group are not applied.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="custom-topic-creation-group-configuration"><a class="anchor" href="#custom-topic-creation-group-configuration"></a>Custom group configuration</h3>
<div class="paragraph">
<p>You can define multiple custom topic groups, each with its own configuration.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To define a custom topic group, add a <code>topic.creation.<em>&lt;group_name&gt;</em>.include</code> property to the connector JSON, and
list the properties for the custom group after the group name.</p>
<div class="paragraph">
<p>The following example shows sample configurations for the <code>inventory</code> and <code>applicationlogs</code> custom topic creation groups:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-json hljs" data-lang="json">{
    ...

    <i class="conum" data-value="1"></i><b>(1)</b>
    "topic.creation.inventory.include": "dbserver1\\.inventory\\.*",  <i class="conum" data-value="2"></i><b>(2)</b>
    "topic.creation.inventory.partitions": 20,
    "topic.creation.inventory.cleanup.policy": "compact",
    "topic.creation.inventory.delete.retention.ms": 7776000000,

    <i class="conum" data-value="3"></i><b>(3)</b>
    "topic.creation.applicationlogs.include": "dbserver1\\.logs\\.applog-.*",  <i class="conum" data-value="4"></i><b>(4)</b>
    "topic.creation.applicationlogs.exclude": "dbserver1\\.logs\\.applog-old-.*",  <i class="conum" data-value="5"></i><b>(5)</b>
    "topic.creation.applicationlogs.replication.factor": 1,
    "topic.creation.applicationlogs.partitions": 20,
    "topic.creation.applicationlogs.cleanup.policy": "delete",
    "topic.creation.applicationlogs.retention.ms": 7776000000,
    "topic.creation.applicationlogs.compression.type": "lz4",

     ...
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Connector configuration for custom <code>inventory</code> and <code>applicationlogs</code> topic creation groups</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the configuration for the <code>inventory</code> group.<br>
The <code>replication.factor</code> and <code>partitions</code> properties are optional for custom groups. If no value is set, custom
groups fall back to the value set for the <code>default</code> group. Set the value to <code>-1</code> to use the value that is set for the Kafka broker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.inventory.include</code> defines a regular expression to match all topics that start with
<code>dbserver1.inventory.</code>. The configuration that is defined for the <code>inventory</code> group is applied only to
topics with names that match the specified regular expression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the configuration for the <code>applicationlogs</code> group.<br>
The <code>replication.factor</code> and <code>partitions</code> properties are optional for custom groups. If no value is set,
custom groups fall back to the value set for the <code>default</code> group. Set the value to <code>-1</code> to use the value that is set for the Kafka broker.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.applicationlogs.include</code> defines a regular expression to match all topics that start
with <code>dbserver1.logs.applog-</code>. The configuration that is defined for the <code>applicationlogs</code> group is
applied only to topics with names that match the specified regular expression. Because an <code>exclude</code>
property is also defined for this group, the topics that match the <code>include</code> regular expression might be
further restricted by the that <code>exclude</code> property.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>topic.creation.applicationlogs.exclude</code> defines a regular expression to match all topics that start
with <code>dbserver1.logs.applog-old-</code>. The configuration that is defined for the <code>applicationlogs</code> group is
applied only to topics with name that do <strong>not</strong> match the given regular expression. Because an
<code>include</code> property is also defined for this group, the configuration of the <code>applicationlogs</code> group is applied only to topics
with names that match the specified <code>include</code> regular expressions <strong>and</strong> that do <em>not</em> match the specified <code>exclude</code> regular
expressions.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="registering-custom-topic-creation-groups"><a class="anchor" href="#registering-custom-topic-creation-groups"></a>Registering custom groups</h3>
<div class="paragraph">
<p>After you specify the configuration for any custom topic creation groups, register the groups.</p>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Register custom groups by adding the <code>topic.creation.groups</code> property to the connector JSON, and specifying a comma-separated list of groups.</p>
<div class="paragraph">
<p>The following example registers the custom topic creation groups <code>inventory</code> and <code>applicationlogs</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-json hljs" data-lang="json">{
    ...

    "topic.creation.groups": "inventory,applicationlogs",

    ...
}</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Completed configuration</div>
<p>The following example shows a completed configuration that includes the configuration for a <code>default</code> topic group,
along with the configurations for an <code>inventory</code> and an <code>applicationlogs</code> custom topic creation group:</p>
</div>
<div class="listingblock">
<div class="title">Example: Configuration for a default topic creation group and two custom groups</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-json hljs" data-lang="json">{
    ...

    "topic.creation.default.replication.factor": 3,
    "topic.creation.default.partitions": 10,
    "topic.creation.default.cleanup.policy": "compact",
    "topic.creation.default.compression.type": "lz4",
    "topic.creation.groups": "inventory,applicationlogs",
    "topic.creation.inventory.include": "dbserver1\\.inventory\\.*",
    "topic.creation.inventory.partitions": 20,
    "topic.creation.inventory.cleanup.policy": "compact",
    "topic.creation.inventory.delete.retention.ms": 7776000000,
    "topic.creation.applicationlogs.include": "dbserver1\\.logs\\.applog-.*",
    "topic.creation.applicationlogs.exclude": "dbserver1\\.logs\\.applog-old-.*",
    "topic.creation.applicationlogs.replication.factor": 1,
    "topic.creation.applicationlogs.partitions": 20,
    "topic.creation.applicationlogs.cleanup.policy": "delete",
    "topic.creation.applicationlogs.retention.ms": 7776000000,
    "topic.creation.applicationlogs.compression.type": "lz4"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_resources"><a class="anchor" href="#_additional_resources"></a>Additional resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information on topic auto-creation you can have a look at these resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Debezium Blog: <a href="https://debezium.io/blog/2020/09/15/debezium-auto-create-topics/">Auto-creating Debezium Change Data Topics</a></p>
</li>
<li>
<p>Kafka Improvement Proposal about adding topic auto-creation to Kafka Connect: <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-158%3A+Kafka+Connect+should+allow+source+connectors+to+set+topic-specific+settings+for+new+topics">KIP-158 Kafka Connect should allow source connectors to set topic-specific settings for new topics</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2024 Debezium Community (Rev: <span class="truncated"><a href="https://github.com/debezium/debezium/commit/3aa3068e38a6b81ad8ee5366c74a605ee8b097ea">3aa3068e</a></span>)
            
        </div>
    </footer>
</main></div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../../debezium-antora/js/site.js"></script>
<script async src="../../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>