<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Debezium Server :: Debezium Documentation</title>
    <link rel="canonical" href="https://debezium.io/documentation/reference/stable/operations/debezium-server.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="stable">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium 2.7 Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/signalling.html">Sending Signals to Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/notification.html">Receive notifications from Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Source Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mariadb.html">MariaDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/vitess.html">Vitess</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/spanner.html">Spanner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/informix.html">Informix</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Sink Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/index-sink.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/jdbc.html">JDBC</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-changes.html">Event Changes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-outbox-event-router.html">MongoDB Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/schema-change-event-filter.html">Schema Change Event Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/partition-routing.html">Partition Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/header-to-value.html">HeaderToValue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timezone-converter.html">Timezone Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timescaledb.html">TimescaleDB Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/convert-cloudevent-to-saveable-form.html">Convert CloudEvents to Saveable Form</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Post Processors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/reselect-columns.html">Reselect Columns</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/tracing.html">OpenTelemetry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kubernetes.html">Running on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">2.7</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version">
          <a href="/documentation/reference/nightly/index.html">nightly</a>
        </li>
        <li class="version is-current">
          <a href="/documentation/reference/2.7/index.html">2.7</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.6/index.html">2.6</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.3/index.html">2.3</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.9/index.html">1.9</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>Operations</li>
    <li><a href="debezium-server.html">Debezium Server</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">2.7</button>
        <div class="version-menu">
                <a class="version" href="/documentation/reference/nightly/index.html">nightly</a>
                <a class="version is-current" href="/documentation/reference/2.7/index.html">2.7</a>
                <a class="version" href="/documentation/reference/3.0/index.html">3.0</a>
                <a class="version" href="/documentation/reference/2.6/index.html">2.6</a>
                <a class="version" href="/documentation/reference/2.5/index.html">2.5</a>
                <a class="version" href="/documentation/reference/2.4/index.html">2.4</a>
                <a class="version" href="/documentation/reference/2.3/index.html">2.3</a>
                <a class="version" href="/documentation/reference/2.2/index.html">2.2</a>
                <a class="version" href="/documentation/reference/2.1/index.html">2.1</a>
                <a class="version" href="/documentation/reference/2.0/index.html">2.0</a>
                <a class="version" href="/documentation/reference/1.9/index.html">1.9</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/debezium/debezium/edit/2.7/documentation/modules/ROOT/pages/operations/debezium-server.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
        
    <!-- This partial is a placeholder -->            <h1 class="page">Debezium Server</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_installation">Installation</a></li>
<li><a href="#_configuration">Configuration</a>
<ul class="sectlevel2">
<li><a href="#debezium-source-configuration-properties">Source configuration</a></li>
<li><a href="#debezium-format-configuration-options">Format configuration</a></li>
<li><a href="#debezium-transformations-configuration-options">Transformation configuration</a></li>
<li><a href="#debezium-predicates-configuration-options">Predicates configuration</a></li>
<li><a href="#debezium-async-engine-properties">Asynchronous Engine Properties</a></li>
<li><a href="#debezium-additional-configuration-options">Additional configuration</a>
<ul class="sectlevel3">
<li><a href="#_enabling_message_filtering">Enabling message filtering</a></li>
</ul>
</li>
<li><a href="#_sink_configuration">Sink configuration</a>
<ul class="sectlevel3">
<li><a href="#_amazon_kinesis">Amazon Kinesis</a></li>
<li><a href="#_google_cloud_pubsub">Google Cloud Pub/Sub</a></li>
<li><a href="#_pubsub_lite">Pub/Sub Lite</a></li>
<li><a href="#_http_client">HTTP Client</a></li>
<li><a href="#_apache_pulsar">Apache Pulsar</a></li>
<li><a href="#_azure_event_hubs">Azure Event Hubs</a></li>
<li><a href="#_redis_stream">Redis (Stream)</a></li>
<li><a href="#_nats_streaming">NATS Streaming</a></li>
<li><a href="#_nats_jetstream">NATS JetStream</a></li>
<li><a href="#_apache_kafka">Apache Kafka</a></li>
<li><a href="#_pravega">Pravega</a></li>
<li><a href="#_infinispan">Infinispan</a></li>
<li><a href="#_apache_rocketmq">Apache RocketMQ</a></li>
<li><a href="#_rabbitmq_stream">RabbitMQ Stream</a></li>
<li><a href="#_rabbitmq_native_stream">RabbitMQ Native Stream</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_extensions">Extensions</a>
<ul class="sectlevel2">
<li><a href="#_implementation_of_a_new_sink">Implementation of a new sink</a></li>
<li><a href="#_customization_of_an_existing_sink">Customization of an existing sink</a></li>
</ul>
</li>
<li><a href="#_cassandra_connector">Cassandra connector</a>
<ul class="sectlevel2">
<li><a href="#_running_debezium_server_with_cassandra_connector">Running Debezium Server with Cassandra connector</a></li>
<li><a href="#_sample_of_basic_application_properties_for_running_cassandra_connector_with_redis_sink">Sample of basic <code>application.properties</code> for running Cassandra connector with Redis sink</a></li>
<li><a href="#_transformation_for_operation_code">Transformation for Operation Code</a></li>
</ul>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Please let us know if you encounter any problems while using this feature.
Also please reach out if you have requirements for specific sinks to be supported by Debezium Server or even would be interested in contributing the required implementation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Debezium provides a ready-to-use application that streams change events from a source database to messaging infrastructure like Amazon Kinesis, Google Cloud Pub/Sub, Apache Pulsar, Redis (Stream), or NATS JetStream.
For streaming change events to Apache Kafka, it is recommended to deploy the Debezium connectors via Kafka Connect.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To install the server download and unpack the server distribution archive:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://repo1.maven.org/maven2/io/debezium/debezium-server-dist/2.7.3.Final/debezium-server-dist-2.7.3.Final.tar.gz">Debezium Server distribution</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A directory named <code>debezium-server</code> will be created with these contents:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">debezium-server/
|-- CHANGELOG.md
|-- conf
|-- CONTRIBUTE.md
|-- COPYRIGHT.txt
|-- debezium-server-2.7.3.Final-runner.jar
|-- lib
|-- LICENSE-3rd-PARTIES.txt
|-- LICENSE.txt
|-- README.md
`-- run.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>The server is started using <code>run.sh</code> script, dependencies are stored in the <code>lib</code> directory, and the directory <code>conf</code> contains configuration files.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In case of using the Oracle connector you will have to add to the <code>lib</code> directory the ORACLE JDBC driver (if using XStream also the XStream API files),
explained here: <a href="../connectors/oracle.html#obtaining-oracle-jdbc-driver-and-xstreams-api-files" class="xref page">Obtaining the Oracle JDBC driver and XStream API files</a></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Debezium Server uses <a href="https://github.com/eclipse/microprofile-config">MicroProfile Configuration</a> for configuration.
This means that the application can be configured from disparate sources like configuration files, environment variables, system properties etc.</p>
</div>
<div class="paragraph">
<p>The main configuration file is <em>conf/application.properties</em>.
There are multiple sections configured:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>debezium.source</code> is for source connector configuration; each instance of Debezium Server runs exactly one connector</p>
</li>
<li>
<p><code>debezium.sink</code> is for the sink system configuration</p>
</li>
<li>
<p><code>debezium.format</code> is for the output serialization format configuration</p>
</li>
<li>
<p><code>debezium.transforms</code> is for the configuration of message transformations</p>
</li>
<li>
<p><code>debezium.predicates</code> is for the configuration of message transformation predicates</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An example configuration file can look like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>debezium.sink.type=kinesis
debezium.sink.kinesis.region=eu-central-1
debezium.source.connector.class=io.debezium.connector.postgresql.PostgresConnector
debezium.source.offset.storage.file.filename=data/offsets.dat
debezium.source.offset.flush.interval.ms=0
debezium.source.database.hostname=localhost
debezium.source.database.port=5432
debezium.source.database.user=postgres
debezium.source.database.password=postgres
debezium.source.database.dbname=postgres
debezium.source.topic.prefix=tutorial
debezium.source.schema.include.list=inventory</pre>
</div>
</div>
<div class="paragraph">
<p>In this configuration file example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The sink is setup for AWS Kinesis in region <code>eu-central-1</code></p>
</li>
<li>
<p>The source connector is setup for PostgreSQL using the default Debezium <a href="https://github.com/debezium/postgres-decoderbufs">decoderbufs</a> plugin.
If using PostgreSQL&#8217;s built-in <code>pgoutput</code> plugin, set <code>debezium.source.plugin.name=pgoutput</code></p>
</li>
<li>
<p>The source connector is set to capture events from a schema named <code>inventory</code>.
If you want to capture all changes in the database, remove this line.
Otherwise, update this line to correspond to your preferred schema or tables.</p>
</li>
<li>
<p>The source offset will be stored in a file named <code>offsets.dat</code> in the <code>data</code> directory.
Note that you might need to create this directory to prevent an error on startup.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the server is started it generates a seqeunce of log messages like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>__  ____  __  _____   ___  __ ____  ______
 --/ __ \/ / / / _ | / _ \/ //_/ / / / __/
 -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\ \
--\___\_\____/_/ |_/_/|_/_/|_|\____/___/
2020-05-15 11:33:12,189 INFO  [io.deb.ser.kin.KinesisChangeConsumer] (main) Using 'io.debezium.server.kinesis.KinesisChangeConsumer$$Lambda$119/0x0000000840130c40@f58853c' stream name mapper
2020-05-15 11:33:12,628 INFO  [io.deb.ser.kin.KinesisChangeConsumer] (main) Using default KinesisClient 'software.amazon.awssdk.services.kinesis.DefaultKinesisClient@d1f74b8'
2020-05-15 11:33:12,628 INFO  [io.deb.ser.DebeziumServer] (main) Consumer 'io.debezium.server.kinesis.KinesisChangeConsumer' instantiated
2020-05-15 11:33:12,754 INFO  [org.apa.kaf.con.jso.JsonConverterConfig] (main) JsonConverterConfig values:
	converter.type = key
	decimal.format = BASE64
	schemas.cache.size = 1000
	schemas.enable = true

2020-05-15 11:33:12,757 INFO  [org.apa.kaf.con.jso.JsonConverterConfig] (main) JsonConverterConfig values:
	converter.type = value
	decimal.format = BASE64
	schemas.cache.size = 1000
	schemas.enable = false

2020-05-15 11:33:12,763 INFO  [io.deb.emb.EmbeddedEngine$EmbeddedConfig] (main) EmbeddedConfig values:
	access.control.allow.methods =
	access.control.allow.origin =
	admin.listeners = null
	bootstrap.servers = [localhost:9092]
	client.dns.lookup = default
	config.providers = []
	connector.client.config.override.policy = None
	header.converter = class org.apache.kafka.connect.storage.SimpleHeaderConverter
	internal.key.converter = class org.apache.kafka.connect.json.JsonConverter
	internal.value.converter = class org.apache.kafka.connect.json.JsonConverter
	key.converter = class org.apache.kafka.connect.json.JsonConverter
	listeners = null
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	offset.flush.interval.ms = 0
	offset.flush.timeout.ms = 5000
	offset.storage.file.filename = data/offsets.dat
	offset.storage.partitions = null
	offset.storage.replication.factor = null
	offset.storage.topic =
	plugin.path = null
	rest.advertised.host.name = null
	rest.advertised.listener = null
	rest.advertised.port = null
	rest.extension.classes = []
	rest.host.name = null
	rest.port = 8083
	ssl.client.auth = none
	task.shutdown.graceful.timeout.ms = 5000
	topic.tracking.allow.reset = true
	topic.tracking.enable = true
	value.converter = class org.apache.kafka.connect.json.JsonConverter

2020-05-15 11:33:12,763 INFO  [org.apa.kaf.con.run.WorkerConfig] (main) Worker configuration property 'internal.key.converter' is deprecated and may be removed in an upcoming release. The specified value 'org.apache.kafka.connect.json.JsonConverter' matches the default, so this property can be safely removed from the worker configuration.
2020-05-15 11:33:12,763 INFO  [org.apa.kaf.con.run.WorkerConfig] (main) Worker configuration property 'internal.value.converter' is deprecated and may be removed in an upcoming release. The specified value 'org.apache.kafka.connect.json.JsonConverter' matches the default, so this property can be safely removed from the worker configuration.
2020-05-15 11:33:12,765 INFO  [org.apa.kaf.con.jso.JsonConverterConfig] (main) JsonConverterConfig values:
	converter.type = key
	decimal.format = BASE64
	schemas.cache.size = 1000
	schemas.enable = true

2020-05-15 11:33:12,765 INFO  [org.apa.kaf.con.jso.JsonConverterConfig] (main) JsonConverterConfig values:
	converter.type = value
	decimal.format = BASE64
	schemas.cache.size = 1000
	schemas.enable = true

2020-05-15 11:33:12,767 INFO  [io.deb.ser.DebeziumServer] (main) Engine executor started
2020-05-15 11:33:12,773 INFO  [org.apa.kaf.con.sto.FileOffsetBackingStore] (pool-3-thread-1) Starting FileOffsetBackingStore with file data/offsets.dat
2020-05-15 11:33:12,835 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1) Starting PostgresConnectorTask with configuration:
2020-05-15 11:33:12,837 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    connector.class = io.debezium.connector.postgresql.PostgresConnector
2020-05-15 11:33:12,837 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    offset.flush.interval.ms = 0
2020-05-15 11:33:12,838 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    database.user = postgres
2020-05-15 11:33:12,838 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    database.dbname = postgres
2020-05-15 11:33:12,838 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    offset.storage.file.filename = data/offsets.dat
2020-05-15 11:33:12,838 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    database.hostname = localhost
2020-05-15 11:33:12,838 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    database.password = ********
2020-05-15 11:33:12,839 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    name = kinesis
2020-05-15 11:33:12,839 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    topic.prefix = tutorial
2020-05-15 11:33:12,839 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    database.port = 5432
2020-05-15 11:33:12,839 INFO  [io.deb.con.com.BaseSourceTask] (pool-3-thread-1)    schema.include.list = inventory
2020-05-15 11:33:12,908 INFO  [io.quarkus] (main) debezium-server 1.2.0-SNAPSHOT (powered by Quarkus 1.4.1.Final) started in 1.198s. Listening on: http://0.0.0.0:8080
2020-05-15 11:33:12,911 INFO  [io.quarkus] (main) Profile prod activated.
2020-05-15 11:33:12,911 INFO  [io.quarkus] (main) Installed features: [cdi, smallrye-health]</pre>
</div>
</div>
<div class="sect2">
<h3 id="debezium-source-configuration-properties"><a class="anchor" href="#debezium-source-configuration-properties"></a>Source configuration</h3>
<div class="paragraph">
<p>The source configuration uses the same configuration properties that are described on the specific connector documentation pages (just with <code>debezium.source</code> prefix), together with few more specific ones, necessary for running outside of Kafka Connect:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-connector-class"></a><a href="#debezium-source-connector-class"><code>debezium.source.connector.class</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the Java class implementing the source connector.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-storage"></a><a href="#debezium-source-offset-storage"><code>debezium.source.offset.storage</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>org.apache.kafka.connect.storage.FileOffsetBackingStore</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Class to use for storing and retrieving offsets for non-Kafka deployments.
Available options</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.apache.kafka.connect.storage.FileOffsetBackingStore</code> for non-Kafka deployments</p>
</li>
<li>
<p><code>org.apache.kafka.connect.storage.MemoryOffsetBackingStore</code> volatile store for test environments</p>
</li>
<li>
<p><code>io.debezium.storage.jdbc.offset.JdbcOffsetBackingStore</code> for database using JDBC</p>
</li>
<li>
<p><code>io.debezium.storage.redis.offset.RedisOffsetBackingStore</code> for Redis deployments</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-storage-file-filename"></a><a href="#debezium-source-offset-storage-file-filename"><code>debezium.source.offset.storage.file.filename</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using a file offset store (default), the file in which connector offsets are stored for non-Kafka deployments.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-flush-interval-ms"></a><a href="#debezium-source-offset-flush-interval-ms"><code>debezium.source.offset.flush.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Defines how frequently the offsets are flushed into the file.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-address"></a><a href="#debezium-source-offset-redis-address"><code>debezium.source.offset.storage.redis.address</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) If using Redis to store offsets, an address, formatted as <code>host:port</code>, at which the Redis target streams are provided. If not supplied, will attempt to read <code>debezium.sink.redis.address</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-user"></a><a href="#debezium-source-offset-redis-user"><code>debezium.source.offset.storage.redis.user</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) If using Redis to store offsets, a user name used to communicate with Redis. If the <code>redis.address</code> configuration is not supplied, and the <code>redis.address</code> is taken from the Redis sink, will attempt to load the value from <code>debezium.sink.redis.user</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-password"></a><a href="#debezium-source-offset-redis-password"><code>debezium.source.offset.storage.redis.password</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional)  If using Redis to store offsets, a password (of respective user) used to communicate with Redis. A password must be set if a user is set. If the <code>redis.address</code> configuration is not supplied, and the <code>redis.address</code> is taken from the Redis sink, will attempt to load the value from <code>debezium.sink.redis.password</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-ssl-enabled"></a><a href="#debezium-source-offset-redis-ssl-enabled"><code>debezium.source.offset.storage.redis.ssl.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional)  If using Redis to store offsets, whether or not to use SSL to communicate with Redis. If the <code>redis.address</code> configuration is not supplied, and the <code>redis.address</code> is taken from the Redis sink, will attempt to load the value from <code>debezium.sink.redis.ssl.enabled</code>. Default is 'false'</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-key"></a><a href="#debezium-source-offset-redis-key"><code>debezium.source.offset.storage.redis.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional)  If using Redis to store offsets, define the hash key in redis. If the <code>redis.key</code> configuration is not supplied, and the default value is <code>metadata:debezium:offsets</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-wait-enabled"></a><a href="#redis-wait-enabled"><code>debezium.source.offset.storage.redis.wait.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store offsets, enables wait for replica. In case Redis is configured with a replica shard, this allows to verify that the data has been written to the replica.
For more information see Redis <a href="https://redis.io/commands/wait/">WAIT</a> command.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-wait-timeout-ms"></a><a href="#redis-wait-timeout-ms"><code>debezium.source.offset.storage.redis.wait.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store offsets, defines the timeout in milliseconds when waiting for replica. Must have a positive value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-wait-retry-enabled"></a><a href="#redis-wait-retry-enabled"><code>debezium.source.offset.storage.redis.wait.retry.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store offsets, enables retry on wait for replica failure.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-offset-redis-wait-retry-delay"></a><a href="#redis-wait-retry-delay"><code>debezium.source.offset.storage.redis.wait.retry.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store offsets, defines the delay of retry on wait for replica failure.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-class"></a><a href="#debezium-source-database-history-class"><code>debezium.source.schema.history.internal</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>io.debezium.storage.kafka.history.KafkaSchemaHistory</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Some of the connectors (e.g MySQL, SQL Server, Db2, Oracle) track the database schema evolution over time and stores this data in a database schema history.
This is by default based on Kafka.
There are also other options available</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>io.debezium.storage.file.history.FileSchemaHistory</code> for non-Kafka deployments</p>
</li>
<li>
<p><code>io.debezium.relational.history.MemorySchemaHistory</code> volatile store for test environments</p>
</li>
<li>
<p><code>io.debezium.storage.redis.history.RedisSchemaHistory</code> for Redis deployments</p>
</li>
<li>
<p><code>io.debezium.storage.rocketmq.history.RocketMqSchemaHistory</code> for RocketMQ deployments</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-file-filename"></a><a href="#debezium-source-database-history-file-filename"><code>debezium.source.schema.history.internal.file.filename</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name and location of the file to which <code>FileSchemaHistory</code> persists its data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-address"></a><a href="#debezium-source-database-history-redis-address"><code>debezium.source.schema.history.internal.redis.address</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Redis host:port to connect to if using <code>RedisSchemaHistory</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-user"></a><a href="#debezium-source-database-history-redis-user"><code>debezium.source.schema.history.internal.redis.user</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Redis user to use if using <code>RedisSchemaHistory</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-password"></a><a href="#debezium-source-database-history-redis-password"><code>debezium.source.schema.history.internal.redis.password</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Redis password to use if using <code>RedisSchemaHistory</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-ssl-enabled"></a><a href="#debezium-source-database-history-redis-ssl-enabled"><code>debezium.source.schema.history.internal.redis.ssl.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Use SSL connection if using <code>RedisSchemaHistory</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-key"></a><a href="#debezium-source-database-history-redis-key"><code>debezium.source.schema.history.internal.redis.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Redis key to use for storage if using <code>RedisSchemaHistory</code>. Default: metadata:debezium:schema_history</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-retry-initial-delay-ms"></a><a href="#debezium-source-database-history-redis-retry-initial-delay-ms"><code>debezium.source.schema.history.internal.redis.retry.initial.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The initial delay in case of a connection retry to Redis if using <code>RedisSchemaHistory</code>. Default: 300 (ms)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-retry-max-delay-ms"></a><a href="#debezium-source-database-history-redis-retry-max-delay-ms"><code>debezium.source.schema.history.internal.redis.retry.max.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum delay in case of a connection retry to Redis if using <code>RedisSchemaHistory</code>. Default: 10000 (ms)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-retry-max-attempts"></a><a href="#debezium-source-database-history-redis-retry-max-attempts"><code>debezium.source.schema.history.internal.redis.retry.max.attempts</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of attempts to connect to Redis. Default: 10</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-connection-timeout-ms"></a><a href="#debezium-source-database-history-redis-connection-timeout-ms"><code>debezium.source.schema.history.internal.redis.connection.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Connection timeout of Redis client if using <code>RedisSchemaHistory</code>. Default: 2000 (ms)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-socket-timeout-ms"></a><a href="#debezium-source-database-history-redis-socket-timeout-ms"><code>debezium.source.schema.history.internal.redis.socket.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Socket timeout of Redis client if using <code>RedisSchemaHistory</code>. Default: 2000 (ms)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-wait-enabled"></a><a href="#redis-wait-enabled"><code>debezium.source.schema.history.internal.redis.wait.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store schema history, enables wait for replica. In case Redis is configured with a replica shard, this allows to verify that the data has been written to the replica.
For more information see Redis <a href="https://redis.io/commands/wait/">WAIT</a> command.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-wait-timeout-ms"></a><a href="#redis-wait-timeout-ms"><code>debezium.source.schema.history.internal.redis.wait.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store schema history, defines the timeout in milliseconds when waiting for replica. Must have a positive value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-wait-retry-enabled"></a><a href="#redis-wait-retry-enabled"><code>debezium.source.schema.history.internal.redis.wait.retry.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store schema history, enables retry on wait for replica failure.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-source-database-history-redis-wait-retry-delay"></a><a href="#redis-wait-retry-delay"><code>debezium.source.schema.history.internal.redis.wait.retry.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If using Redis to store schema history, defines the delay of retry on wait for replica failure.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-topic"></a><a href="#schema-history-internal-rocketmq-topic"><code>debezium.source.schema.history.internal.rocketmq.topic</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the rocketmq topic for the database schema history.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-namesrvAddr"></a><a href="#schema-history-internal-rocketmq-namesrvAddr"><code>debezium.source.schema.history.internal.rocketmq.name.srv.addr</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>localhost:9876</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>RocketMQ service discovery NameServer address configuration.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-acl-enabled"></a><a href="#schema-history-internal-rocketmq-acl-enabled"><code>debezium.source.schema.history.internal.rocketmq.acl.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>RocketMQ access control enable configuration, default is 'false'.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-access-key"></a><a href="#schema-history-internal-rocketmq-access-key"><code>debezium.source.schema.history.internal.rocketmq.access.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>RocketMQ access key. If <code>debezium.source.schema.history.internal.rocketmq.acl.enabled</code> is true, the value cannot be
empty.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-secret-key"></a><a href="#schema-history-internal-rocketmq-secret-key"><code>debezium.source.schema.history.internal.rocketmq.secret.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>RocketMQ secret key. If <code>debezium.source.schema.history.internal.rocketmq.acl.enabled</code> is true, the value cannot be
empty.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-recovery-attempts"></a><a href="#schema-history-internal-rocketmq-recovery-attempts"><code>debezium.source.schema.history.internal.rocketmq.recovery.attempts</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>60</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum number of attempts to recover database schema history.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-recovery-poll-interval-ms"></a><a href="#schema-history-internal-rocketmq-recovery-poll-interval-ms"><code>debezium.source.schema.history.internal.rocketmq.recovery.poll.interval.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds to wait while polling for persisted
data during recovery.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="schema-history-internal-rocketmq-store-record-timeout-ms"></a><a href="#schema-history-internal-rocketmq-store-record-timeout-ms"><code>debezium.source.schema.history.internal.rocketmq.store.record.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>60000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Timeout for sending messages to RocketMQ.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="debezium-format-configuration-options"><a class="anchor" href="#debezium-format-configuration-options"></a>Format configuration</h3>
<div class="paragraph">
<p>The message output format can be configured for both key and value separately.
By default the output is in JSON format but an arbitrary implementation of Kafka Connect&#8217;s <code>Converter</code> can be used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-format-key"></a><a href="#debezium-format-key"><code>debezium.format.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>json</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the output format for key, one of <code>json</code>/<code>jsonbytearray</code>/<code>avro</code>/<code>protobuf</code>/<code>simplestring</code>/<code>binary</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-format-key-props"></a><a href="#debezium-format-key-props"><code>debezium.format.key.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configuration properties passed to the key converter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-format-value"></a><a href="#debezium-format-value"><code>debezium.format.value</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>json</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the output format for value, one of <code>json</code>/<code>jsonbytearray</code>/<code>avro</code>/<code>protobuf</code>/<code>cloudevents</code>/<code>simplestring</code>/<code>binary</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-format-value-props"></a><a href="#debezium-format-value-props"><code>debezium.format.value.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configuration properties passed to the value converter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-format-header"></a><a href="#debezium-format-header"><code>debezium.format.header</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>json</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the output format for value, one of <code>json</code>/<code>jsonbytearray</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-format-header-props"></a><a href="#debezium-format-header-props"><code>debezium.format.header.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configuration properties passed to the header converter.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="debezium-transformations-configuration-options"><a class="anchor" href="#debezium-transformations-configuration-options"></a>Transformation configuration</h3>
<div class="paragraph">
<p>Before the messages are delivered to the sink, they can run through a sequence of transformations.
The server supports <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-66%3A+Single+Message+Transforms+for+Kafka+Connect">single message transformations</a> defined by Kafka Connect.
The configuration will need to contain the list of transformations, implementation class for each transformation and configuration options for each of the transformations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description

[id="debezium-transforms"]</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.transforms</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The comma separated list of symbolic names of transformations.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.transforms.&lt;name&gt;.type</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of Java class implementing the transformation with name <code>&lt;name&gt;</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.transforms.&lt;name&gt;.*</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configuration properties passed to the transformation with name <code>&lt;name&gt;</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.transforms.&lt;name&gt;.predicate</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the predicate to be applied to the transformation with name <code>&lt;name&gt;</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.transforms.&lt;name&gt;.negate</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>false</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Determines if the result of the predicate to the transformation with name <code>&lt;name&gt;</code> will be negated.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="debezium-predicates-configuration-options"><a class="anchor" href="#debezium-predicates-configuration-options"></a>Predicates configuration</h3>
<div class="paragraph">
<p>A Predicate can be associated with a transformation in order to make the transformation optional.
The server supports <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-585%3A+Filter+and+Conditional+SMTs">Filter and Conditional SMTs</a> defined by Kafka Connect.
The configuration will need to contain the list of predicates, implementation class for each predicate and configuration options for each of the predicates.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description

[id="debezium-predicates"]</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.predicates</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The comma separated list of symbolic names of predicates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.predicates.&lt;name&gt;.type</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of Java class implementing the predicate with name <code>&lt;name&gt;</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>debezium.predicates.&lt;name&gt;.*</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configuration properties passed to the predicate with name <code>&lt;name&gt;</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="debezium-async-engine-properties"><a class="anchor" href="#debezium-async-engine-properties"></a>Asynchronous Engine Properties</h3>
<div class="paragraph">
<p>By default, Debezium server uses the asynchronous embedded engine (<code>AsyncEmbeddedEngine</code>) as its processing engine.
You can configure the following options for the asynchronous embedded engine:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Property</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Description</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-server-property-record-processing-threads"></a><a href="#debezium-server-property-record-processing-threads"><code>record.processing.threads</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Threads allocated on demand, based on the workload and the number of available CPU cores.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of threads that are available to process change event records.
If no value is specified (the default), the engine uses the Java <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html">ThreadPoolExecutor</a> to dynamically adjust the number of threads, based on the current workload.
Maximum number of threads is number of CPU cores on given machine.
If a value is specified, the engine uses the Java <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)">fixed thread pool</a> method to create a thread pool with the specified number of threads.
To use all available cores on given machine, set the placeholder value, <code>AVAILABLE_CORES</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-server-property-shutdown-timeout-ms"></a><a href="#debezium-server-property-shutdown-timeout-ms"><code>record.processing.shutdown.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>1000</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maximum time, in milliseconds, that the engine allows for processing pending records after a task shutdown is called.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-server-property-record-processing-order"></a><a href="#debezium-server-property-record-processing-order"><code>record.processing.order</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>ORDERED</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies whether the engine processes records sequentially.
Set one of the following options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ORDERED</code></dt>
<dd>
<p>Records are processed sequentially; that is, they are produced in the order in which they were obtained from the database.</p>
</dd>
<dt class="hdlist1"><code>UNORDERED</code></dt>
<dd>
<p>Records are processed non-sequentially; that is, they can be produced in an different order than in the source database.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The non-sequential processing of the <code>UNORDERED</code> option results in better throughput, because records are produced immediately after any SMT processing and message serialization is complete, without waiting for other records.
This option has no effect if <a href="#debezium-server-property-record-processing-with-serial-consumer">record.processing.with.serial.consumer</a> is set to <code>ChangeConsumer</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-server-property-record-processing-with-serial-consumer"></a><a href="#debezium-server-property-record-processing-with-serial-consumer"><code>record.processing.with.serial.consumer</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies whether the default <code>ChangeConsumer</code> should be created from the provided <code>Consumer</code>, resulting in serial <code>Consumer</code> processing.
This option has no effect if you specified the <code>ChangeConsumer</code> interface when you used the API to create the engine.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="debezium-server-property-task-management-timeout.ms"></a><a href="#debezium-server-property-task-management-timeout.ms"><code>task.management.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>180,000 (3 min)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Time, in milliseconds, that the engine waits for a task&#8217;s lifecycle management operations (starting and stopping) to complete.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="debezium-additional-configuration-options"><a class="anchor" href="#debezium-additional-configuration-options"></a>Additional configuration</h3>
<div class="paragraph">
<p>Debezium Server runs on top of the Quarkus framework.
All configuration options exposed by Quarkus are available in Debezium Server too.
The most frequent used are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description

[id="debezium-quarkus-http-port"]</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>quarkus.http.port</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>8080</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The port on which Debezium exposes Microprofile Health endpoint and other exposed status information. Health can be accessed on <code>http://host:8080/q/health</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>quarkus.log.level</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>INFO</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The default log level for every log category.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>quarkus.log.console.json</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>true</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Determine whether to enable the JSON console formatting extension, which disables "normal" console formatting.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>JSON logging can be disabled by setting <code>quarkus.log.console.json=false</code> in the <em>conf/application.properties</em> file, as demonstrated in the <em>conf/application.properties.example</em> file.</p>
</div>
<div class="sect3">
<h4 id="_enabling_message_filtering"><a class="anchor" href="#_enabling_message_filtering"></a>Enabling message filtering</h4>
<div class="paragraph">
<p>Debezium Server provides filter STM capability, see <a href="../transformations/filtering.html" class="xref page">Message Filtering</a> for more details.
However, for security reasons it&#8217;s not enabled by default and has to be explicitly enabled when Debezium Server is started.
To enable it, set environment variable <code>ENABLE_DEBEZIUM_SCRIPTING</code> to <code>true</code>.
This will add <code>debezium-scripting</code> jar file and <a href="https://jcp.org/en/jsr/detail?id=223">JSR 223</a> implementations (currently Groovy and graalvm.js) jar files into the server class path.
These jar files are contained in <code>opt_lib</code> directory of the Debezium Server distribution.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sink_configuration"><a class="anchor" href="#_sink_configuration"></a>Sink configuration</h3>
<div class="paragraph">
<p>Sink configuration is specific for each sink type.</p>
</div>
<div class="paragraph">
<p>The sink is selected by configuration property <code>debezium.sink.type</code>.</p>
</div>
<div class="sect3">
<h4 id="_amazon_kinesis"><a class="anchor" href="#_amazon_kinesis"></a>Amazon Kinesis</h4>
<div class="paragraph">
<p>Amazon Kinesis is an implementation of data streaming system with support for stream sharding and other techniques for high scalability.
Kinesis exposes a set of REST APIs and provides a (not-only) Java SDK that is used to implement the sink.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kinesis-type"></a><a href="#kinesis-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>kinesis</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kinesis-region"></a><a href="#kinesis-region"><code>debezium.sink.kinesis.region</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A region name in which the Kinesis target streams are provided.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kinesis-endpoint"></a><a href="#kinesis-endpoint"><code>debezium.sink.kinesis.endpoint</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>endpoint determined by aws sdk</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) An endpoint url at which the Kinesis target streams are provided.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kinesis-credentials-profile"></a><a href="#kinesis-credentials-profile"><code>debezium.sink.kinesis.credentials.profile</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) A credentials profile name used to communicate with Amazon API through the default credential profiles file.
If not present will be used the default credentials provider chain. It will look for credentials on the following order: environment variables, java system properties, web identity token credentials, default credential profiles file, Amazon ECS container credentials and instance profile credentials.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kinesis-null-key"></a><a href="#kinesis-null-key"><code>debezium.sink.kinesis.null.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Kinesis does not support the notion of messages without key.
So this string will be used as message key for messages from tables without primary key.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points"><a class="anchor" href="#_injection_points"></a>Injection points</h5>
<div class="paragraph">
<p>The Kinesis sink behaviour can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kinesis-ext-client"></a><a href="#kinesis-ext-client"><code>software.amazon.awssdk.services.kinesis.KinesisClient</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom configured instance of a <code>KinesisClient</code> used to send messages to target streams.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kinesis-ext-stream-name-mapper"></a><a href="#kinesis-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (topic) name into a physical Kinesis stream name.
By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_google_cloud_pubsub"><a class="anchor" href="#_google_cloud_pubsub"></a>Google Cloud Pub/Sub</h4>
<div class="paragraph">
<p>Google Cloud Pub/Sub is an implementation of messaging/eventing system designed for scalable batch and stream processing applications.
Pub/Sub exposes a set of REST APIs and provides a (not-only) Java SDK that is used to implement the sink.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsub-type"></a><a href="#pubsub-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>pubsub</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsub-project-id"></a><a href="#pubsub-project-id"><code>debezium.sink.pubsub.project.id</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>system-wide default project id</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A project name in which the target topics are created.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsub-ordering"></a><a href="#pubsub-ordering"><code>debezium.sink.pubsub.ordering.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pub/Sub can optionally use a message key to guarantee the delivery of the messages in the <a href="https://googleapis.dev/java/google-api-grpc/latest/com/google/pubsub/v1/PubsubMessage.Builder.html#setOrderingKey-java.lang.String-">same order</a> as were sent for messages with the same order key.
This feature can be disabled.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsub-null-key"></a><a href="#pubsub-null-key"><code>debezium.sink.pubsub.null.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tables without primary key sends messages with <code>null</code> key.
This is not supported by Pub/Sub so a surrogate key must be used.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="batch-delay-threshold-ms"></a><a href="#pubsub-null-key"><code>debezium.sink.pubsub.batch.delay.threshold.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>100</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum amount of time to wait to reach element count or request bytes threshold before publishing outstanding messages to Pub/Sub.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="batch-element-count-threshold"></a><a href="#batch-element-count-threshold"><code>debezium.sink.pubsub.batch.element.count.threshold</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>100L</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Once this many messages are queued, send all of the messages in a single call, even if the delay threshold hasn&#8217;t elapsed yet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="batch-request-byte-threshold"></a><a href="#batch-request-byte-threshold"><code>debezium.sink.pubsub.batch.request.byte.threshold</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>10000000L</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Once the number of bytes in the batched request reaches this threshold, send all of the messages in a single call, even if neither the delay or message count thresholds have been exceeded yet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="flowcontrol-enabled"></a><a href="#flowcontrol-enabled"><code>debezium.sink.pubsub.flowcontrol.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>When enabled, configures your publisher client with flow control to limit the rate of publish requests.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="flowcontrol-max-outstanding-messages"></a><a href="#flowcontrol-max-outstanding-messages"><code>debezium.sink.pubsub.flowcontrol.max.outstanding.messages</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Long.MAX_VALUE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) If flow control enabled, the maxmium number of messages before messages are blocked from being published</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="flowcontrol-max-outstanding-bytes"></a><a href="#flowcontrol-max-outstanding-bytes"><code>debezium.sink.pubsub.flowcontrol.max.outstanding.bytes</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Long.MAX_VALUE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) If flow control enabled, the maxmium number of bytes before messages are blocked from being published</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="retry-total-timeout-ms"></a><a href="#retry-total-timeout-ms"><code>debezium.sink.pubsub.retry.total.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>60000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The total timeout for a call to publish (including retries) to Pub/Sub.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="retry-initial-delay-ms"></a><a href="#retry-initial-delay-ms"><code>debezium.sink.pubsub.retry.initial.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>5</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The initial amount of time to wait before retrying the request.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="retry-delay-multiplier"></a><a href="#retry-delay-multiplier"><code>debezium.sink.pubsub.retry.delay.multiplier</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2.0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The previous wait time is multiplied by this multiplier to come up with the next wait time, until the max is reached.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="retry-max-delay-ms"></a><a href="#retry-max-delay-ms"><code>debezium.sink.pubsub.retry.max.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>Long.MAX_VALUE</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The maximum amount of time to wait before retrying.
i.e. after this value is reached, the wait time will not increase further by the multiplier.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="retry-initial-rpc-timeout-ms"></a><a href="#retry-initial-rpc-timeout-ms"><code>debezium.sink.pubsub.retry.initial.rpc.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>10000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Controls the timeout for the initial Remote Procedure Call</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="retry-rpc-timeout-multiplier"></a><a href="#retry-initial-rpc-timeout-ms"><code>debezium.sink.pubsub.retry.rpc.timeout.multiplier</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2.0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The previous RPC timeout is multiplied by this multipler to come up with the next RPC timeout value, until the max is reached</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="retry-max-rpc-timeout-ms"></a><a href="#retry-max-rpc-timeout-ms"><code>debezium.sink.pubsub.retry.max.rpc.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>10000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The max timeout for individual publish requests to Cloud Pub/Sub.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="wait-message-delivery-timeout-ms"></a><a href="#wait-message-delivery-timeout-ms"><code>debezium.sink.pubsub.wait.message.delivery.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>30000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The max wait time for retrieve of publish requests results to Cloud Pub/Sub.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="address"></a><a href="#address"><code>debezium.sink.pubsub.address</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The address of the pubsub emulator.
Only to be used in a dev or test environment with the <a href="https://cloud.google.com/pubsub/docs/emulator">pubsub emulator</a>.
Unless this value is set, debezium-server will connect to a cloud pubsub instance running in a gcp project, which is the desired behavior in a production environment.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_2"><a class="anchor" href="#_injection_points_2"></a>Injection points</h5>
<div class="paragraph">
<p>The Pub/Sub sink behaviour can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsub-pub-builder"></a><a href="#pubsub-pub-builder"><code>io.debezium.server.pubsub.PubSubChangeConsumer.PublisherBuilder</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A class that provides custom configured instance of a <code>Publisher</code> used to send messages to a dedicated topic.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsub-ext-stream-name-mapper"></a><a href="#pubsub-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (topic) name into a physical Pub/Sub topic name. By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_pubsub_lite"><a class="anchor" href="#_pubsub_lite"></a>Pub/Sub Lite</h4>
<div class="paragraph">
<p>Google Cloud Pub/Sub Lite is a cost-effective alternative to Google Cloud Pub/Sub.
Pub/Sub exposes a set of REST APIs and provides a (not-only) Java SDK that is used to implement the sink.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-type"></a><a href="#pubsublite-type"><code>debezium.sink.type</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>pubsublite</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-project-id"></a><a href="#pubsublite-project-id"><code>debezium.sink.pubsublite.project.id</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>system-wide default project id</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A project name  or project id in which the target topics are created.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-region"></a><a href="#pubsublite-region"><code>debezium.sink.pubsublite.region</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Region where the topics are being created. Example <code>us-east1-b</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-ordering"></a><a href="#pubsublite-ordering"><code>debezium.sink.pubsublite.ordering.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>true</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pub/Sub Lite can optionally use a message key to guarantee the delivery of the messages in with the same key to the <a href="https://cloud.google.com/pubsub/lite/docs/publishing#using_ordering_keys-">same partition</a>.
This feature can be disabled.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-null-key"></a><a href="#pubsublite-null-key"><code>debezium.sink.pubsublite.null.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tables without primary key sends messages with <code>null</code> key.
This is not supported by Pub/Sub Lite so a surrogate key must be used.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-wait-message-delivery-timeout-ms"></a><a href="#pubsublite-wait-message-delivery-timeout-ms"><code>debezium.sink.pubsublite.wait.message.delivery.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>30000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The max wait time for retrieve of publish requests results to Cloud Pub/Sub.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_3"><a class="anchor" href="#_injection_points_3"></a>Injection points</h5>
<div class="paragraph">
<p>The Pub/Sub Lite sink behaviour can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-pub-builder"></a><a href="#pubsublite-pub-builder"><code>io.debezium.server.pubsub.PubSubLiteChangeConsumer.PublisherBuilder</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A class that provides custom configured instance of a <code>Publisher</code> used to send messages to a dedicated topic.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pubsublite-ext-stream-name-mapper"></a><a href="#pubsublite-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (topic) name into a physical Pub/Sub Lite topic name. By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_http_client"><a class="anchor" href="#_http_client"></a>HTTP Client</h4>
<div class="paragraph">
<p>The HTTP Client will stream changes to any HTTP Server for additional processing with the original design goal to have
Debezium act as a <a href="https://knative.dev/docs/eventing/sources/">Knative Event Source</a>.  The HTTP Client sink supports
optional <a href="https://en.wikipedia.org/wiki/JSON_Web_Token">JSON Web Token (JWT) authentication</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-type"></a><a href="#httpclient-type"><code>debezium.sink.type</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>http</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-url"></a><a href="#httpclient-url"><code>debezium.sink.http.url</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The HTTP Server URL to stream events to. This can also be set by defining the <code>K_SINK</code> environment variable, which is used by the Knative source framework.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-timeout"></a><a href="#httpclient-timeout"><code>debezium.sink.http.timeout.ms</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>60000</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of seconds to wait for a response from the server before timing out. (default of 60s)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-retries"></a><a href="#httpclient-retries"><code>debezium.sink.http.retries</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number retries before exception is thrown (default 5 times).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-retry-interval"></a><a href="#httpclient-retry-interval"><code>debezium.sink.http.retry.interval.ms</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>1000</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The number of milliseconds to wait before another attempt to send record is made after failure (default of 1s).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-headers-prefix"></a><a href="#httpclient-headers-prefix"><code>debezium.sink.http.headers.prefix</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>X-DEBEZIUM-</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Headers will be prefixed with this value (defaults to X-DEBEZIUM-).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-headers-encode-base64"></a><a href="#httpclient-headers-encode-base64"><code>debezium.sink.http.headers.encode.base64</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>true</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Header values will be base64 encoded (defaults to true).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-authentication-type"></a><a href="#httpclient-authentication-type"><code>debezium.sink.http.authentication.type</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the authentication type to use.  If missing, no authentication is used.  Currently, only JSON Web Token (JWT) authentication (indicated by the value <code>jwt</code>) is supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-authentication-jwt-username"></a><a href="#httpclient-authentication-jwt-username"><code>debezium.sink.http.authentication.jwt.username</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the username for JWT authentication.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-authentication-jwt-password"></a><a href="#httpclient-authentication-jwt-password"><code>debezium.sink.http.authentication.jwt.password</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the password for JWT authentication.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-authentication-jwt-url"></a><a href="#httpclient-authentication-jwt-url"><code>debezium.sink.http.authentication.jwt.url</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the base URL (e.g., <code><a href="http://myserver:8000/" class="bare">http://myserver:8000/</a></code>) for JWT authentication.  The paths <code>auth/authenticate</code> and <code>auth/refreshToken</code> are appended for the JWT initial and authentication REST requests.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-authentication-jwt-token-expiration"></a><a href="#httpclient-authentication-jwt-token-expiration"><code>debezium.sink.http.authentication.jwt.token_expiration</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Requested duration (in minutes) before the authentication token expires.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="httpclient-authentication-jwt-refresh-token-expiration"></a><a href="#httpclient-authentication-jwt-refresh-token-expiration"><code>debezium.sink.http.authentication.jwt.refresh_token_expiration</code> </a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Requested duration (in minutes) before the refresh token expires.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_apache_pulsar"><a class="anchor" href="#_apache_pulsar"></a>Apache Pulsar</h4>
<div class="paragraph">
<p><a href="https://pulsar.apache.org/">Apache Pulsar</a> is high-performance, low-latency server for server-to-server messaging.
Pulsar exposes a REST APIs and a native endpoint provides a (not-only) Java client that is used to implement the sink.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-type"></a><a href="#pulsar-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>pulsar</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-timeout"></a><a href="#pulsar-timeout"><code>debezium.sink.pulsar.timeout</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Configures timeout in milliseconds for sending a batch of messages to Pulsar and waiting for the producer to flush and persist all of them.
By default it is set to <code>0</code> which means no timeout.
Make sure that <a href="https://pulsar.apache.org/api/client/2.10.1/org/apache/pulsar/client/api/ProducerBuilder.html#maxPendingMessages(int)"><code>maxPendingMessages</code></a> and <a href="https://pulsar.apache.org/api/client/2.10.1/org/apache/pulsar/client/api/ProducerBuilder.html#blockIfQueueFull(boolean)"><code>blockIfQueueFull</code></a> are configured properly on the producer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-client"></a><a href="#pulsar-client"><code>debezium.sink.pulsar.client.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Pulsar module supports pass-through configuration.
The client <a href="https://pulsar.apache.org/docs/en/client-libraries-java/#client-configuration">configuration properties</a> are passed to the client with the prefix removed.
At least <code>serviceUrl</code> must be provided.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-producer"></a><a href="#pulsar-producer"><code>debezium.sink.pulsar.producer.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Pulsar module supports pass-through configuration.
The message producer <a href="https://pulsar.apache.org/docs/en/client-libraries-java/#client-configuration">configuration properties</a> are passed to the producer with the prefix removed.
The <code>topic</code> is set by Debezium.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-null-key"></a><a href="#pulsar-null-key"><code>debezium.sink.pulsar.null.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tables without primary key sends messages with <code>null</code> key.
This is not supported by Pulsar so a surrogate key must be used.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-tenant"></a><a href="#pulsar-tenant"><code>debezium.sink.pulsar.tenant</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>public</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The target tenant used to deliver the message.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-namespace"></a><a href="#pulsar-namespace"><code>debezium.sink.pulsar.namespace</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The target namespace used to deliver the message.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_4"><a class="anchor" href="#_injection_points_4"></a>Injection points</h5>
<div class="paragraph">
<p>The Pulsar sink behaviour can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pulsar-ext-stream-name-mapper"></a><a href="#pulsar-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (topic) name into a physical Pulsar topic name. By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_azure_event_hubs"><a class="anchor" href="#_azure_event_hubs"></a>Azure Event Hubs</h4>
<div class="paragraph">
<p><a href="https://docs.microsoft.com/azure/event-hubs/event-hubs-about">Azure Event Hubs</a> is a big data streaming platform and event ingestion service that can receive and process millions of events per second. Data sent to an event hub can be transformed and stored by using any real-time analytics provider or batching/storage adapters.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="eventhubs-type"></a><a href="#eventhubs-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>eventhubs</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="connection-string"></a><a href="#connection-string"><code>debezium.sink.eventhubs.connectionstring</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://docs.microsoft.com/azure/event-hubs/event-hubs-get-connection-string">Connection string</a> required to communicate with Event Hubs. The format is: <code>Endpoint=sb://&lt;NAMESPACE&gt;/;SharedAccessKeyName=&lt;ACCESS_KEY_NAME&gt;;SharedAccessKey=&lt;ACCESS_KEY_VALUE&gt;</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="hub-name"></a><a href="#hub-name"><code>debezium.sink.eventhubs.hubname</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of the Event Hub</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="partition-id"></a><a href="#partition-id"><code>debezium.sink.eventhubs.partitionid</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The identifier of the Event Hub partition that the events will be sent to. Use this if you want all the change events received by Debezium to be sent to a specific partition in Event Hubs. Do not use if you have specified <code>debezium.sink.eventhubs.partitionkey</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="partition-key"></a><a href="#partition-key"><code>debezium.sink.eventhubs.partitionkey</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The partition key will be used to hash the events. Use this if you want all the change events received by Debezium to be sent to a specific partition in Event Hubs. Do not use if you have specified <code>debezium.sink.eventhubs.partitionid</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="max-batch-size"></a><a href="#max-batch-size"><code>debezium.sink.eventhubs.maxbatchsize</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sets the maximum size for the batch of events, in bytes.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_using_partitions_in_eventhubs"><a class="anchor" href="#_using_partitions_in_eventhubs"></a>Using partitions in EventHubs</h5>
<div class="paragraph">
<p>By default, when neither of the optional <a href="#partition-id"><code>debezium.sink.eventhubs.partitionid</code></a> or <a href="#partition-key"><code>debezium.sink.eventhubs.partitionkey</code></a> properties are defined, the EventHubs sink will send events round-robin to all available partitions.</p>
</div>
<div class="paragraph">
<p>You can enforce all messages to be sent to a single, fixed, partition by setting the <a href="#partition-id"><code>debezium.sink.eventhubs.partitionid</code></a> property. Alternatively, you can use the <a href="#partition-key"><code>debezium.sink.eventhubs.partitionkey</code></a> property to specify a fixed partition key that EventHubs will use to route all events to a specific partition.</p>
</div>
<div class="paragraph">
<p>If you have more specific routing requirements you can use the <a href="../transformations/partition-routing.html" class="xref page">Partition Routing</a> transformer. Ensure that the number of partitions specified in the transformer&#8217;s <code>partition.topic.num</code> setting is equal or less to the number of partitions available in your EventHubs namespace, so that events cannot be routed to non-existing partition IDs. As an example, to route all events to 5 partitions based on their source schema name, you can set the following in your application.properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs"># Uses a hash of `source.db` to calculate which partition to send the event to. Ensures all events from the same source schema are sent to the same partition.
debezium.transforms=PartitionRouter
debezium.transforms.PartitionRouter.type=io.debezium.transforms.partitions.PartitionRouting
debezium.transforms.PartitionRouter.partition.payload.fields=source.db
debezium.transforms.PartitionRouter.partition.topic.num=5</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_injection_points_5"><a class="anchor" href="#_injection_points_5"></a>Injection points</h5>
<div class="paragraph">
<p>The default sink behaviour can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="eventhubs-ext-client"></a><a href="#eventhubs-ext-client"><code>com.azure.messaging.eventhubs.EventHubProducerClient</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom configured instance of a <code>EventHubProducerClient</code> used to send messages.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_redis_stream"><a class="anchor" href="#_redis_stream"></a>Redis (Stream)</h4>
<div class="paragraph">
<p>Redis is an open source (BSD licensed) in-memory data structure store, used as a database, cache and message broker.
The Stream is a data type which models a <em>log data structure</em> in a more abstract way. It implements powerful operations to overcome the limitations of a log file.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-type"></a><a href="#redis-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>redis</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-address"></a><a href="#redis-address"><code>debezium.sink.redis.address</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>An address, formatted as <code>host:port</code>, at which the Redis target streams are provided.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-db-index"></a><a href="#redis-db-index"><code>debezium.sink.redis.db.index</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A number in the range 0..15 used for selecting the database to work with. Default is database 0. This feature is only available for standalone Redis connections; Redis clusters use only database 0.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-user"></a><a href="#redis-user"><code>debezium.sink.redis.user</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) A user name used to communicate with Redis.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-password"></a><a href="#redis-password"><code>debezium.sink.redis.password</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) A password (of respective user) used to communicate with Redis. A password must be set if a user is set.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-ssl-enabled"></a><a href="#redis-ssl-enabled"><code>debezium.sink.redis.ssl.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) A Boolean value that specifies whether connections to Redis require SSL.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-null-key"></a><a href="#redis-null-key"><code>debezium.sink.redis.null.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Redis does not support the notion of data without key.
So this string will be used as key for records without primary key.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-null-value"></a><a href="#redis-null-value"><code>debezium.sink.redis.null.value</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Redis does not support the notion of null payloads, as is the case with tombstone events.
So this string will be used as value for records without a payload.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-batch-size"></a><a href="#redis-batch-size"><code>debezium.sink.redis.batch.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>500</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Number of change records to insert in a single batch write (Pipelined transaction).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-retry-initial-delay-ms"></a><a href="#redis-retry-initial-delay-ms"><code>debezium.sink.redis.retry.initial.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>300</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Initial retry delay when encountering Redis connection or OOM issues.
This value will be doubled upon every retry but won&#8217;t exceed <code>debezium.sink.redis.retry.max.delay.ms</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-retry-max-delay-ms"></a><a href="#redis-retry-max-delay-ms"><code>debezium.sink.redis.retry.max.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>10000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Max delay when encountering Redis connection or OOM issues.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-connection-timeout-ms"></a><a href="#redis-connection-timeout-ms"><code>debezium.sink.redis.connection.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Connection timeout for Redis client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-socket-timeout-ms"></a><a href="#redis-socket-timeout-ms"><code>debezium.sink.redis.socket.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>2000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Socket timeout for Redis client.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-wait-enabled"></a><a href="#redis-wait-enabled"><code>debezium.sink.redis.wait.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enables wait for replica. In case Redis is configured with a replica shard, this allows to verify that the data has been written to the replica.
For more information see Redis <a href="https://redis.io/commands/wait/">WAIT</a> command.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-wait-timeout-ms"></a><a href="#redis-wait-timeout-ms"><code>debezium.sink.redis.wait.timeout.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Timeout in milliseconds when waiting for replica. Must have a positive value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-wait-retry-enabled"></a><a href="#redis-wait-retry-enabled"><code>debezium.sink.redis.wait.retry.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enables retry on wait for replica failure.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-wait-retry-delay"></a><a href="#redis-wait-retry-delay"><code>debezium.sink.redis.wait.retry.delay.ms</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1000</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Delay of retry on wait for replica failure.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-message-format"></a><a href="#redis-message-format"><code>debezium.sink.redis.message.format</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>compact</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The format of the message sent to the Redis stream. Possible values are <code>extended</code>(newer format) and <code>compact</code>(the until now, old format).
Read more about the message format <a href="#p-redis-message-format">below</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-memory-threshold-percentage"></a><a href="#redis-memory-threshold-percentage"><code>debezium.sink.redis.memory.threshold.percentage</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>85</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The sink will stop consuming records if the <code>used_memory</code> percentage (out of Redis configured <code>maxmemory</code>) is higher or equal to this threshold.
If the configured value is <code>0</code> then this threshold is disabled.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-memory-limit-mb"></a><a href="#redis-memory-limit-mb"><code>debezium.sink.redis.memory.limit.mb</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If Redis <code>maxmemory</code> is not available or <code>0</code>, the <code><a href="#redis-memory-threshold-percentage">debezium.sink.redis.memory.threshold.percentage</a></code>
will apply to this value (if this value is positive).
By default it is <code>0</code> (disabled).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="p-redis-message-format"><a class="anchor" href="#p-redis-message-format"></a>Message Format</h5>
<div class="paragraph">
<p>We have seen <a href="#redis-message-format">above</a> the <code>debezium.sink.redis.message.format</code> property which configures the message format in two ways which look like this in Redis:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <code>extended</code> format, using two pairs {1), 2)}={"key", "message key"} and {3), 4)}={"value", "message value"}:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>1) 1) "1639304527499-0"
   2) 1) "key"
      2) "{\"schema\": {\"type\": \"struct\", \"fields\": [{\"type\": \"int32\", \"optional\": false, \"field\": \"empno\"}], \"optional\": false, \"name\": \"redislabs.dbo.emp.Key\"}, \"payload\": {\"empno\": 11}}"
      3) "value"
      4) "{\"schema\": {\"type\": \"struct\", \"fields\": [{\"type\": \"struct\", \"fields\": [{\"type\": \"int32\", \"optional\": false, \"field\": \"empno\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"fname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"lname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"job\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"mgr\"}, {\"type\": \"int64\", \"optional\": true, \"name\": \"io.debezium.time.Timestamp\", \"version\": 1, \"field\": \"hiredate\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"sal\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"comm\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"dept\"}], \"optional\": true, \"name\": \"redislabs.dbo.emp.Value\", \"field\": \"before\"}, {\"type\": \"struct\", \"fields\": [{\"type\": \"int32\", \"optional\": false, \"field\": \"empno\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"fname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"lname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"job\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"mgr\"}, {\"type\": \"int64\", \"optional\": true, \"name\": \"io.debezium.time.Timestamp\", \"version\": 1, \"field\": \"hiredate\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"sal\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"comm\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"dept\"}], \"optional\": true, \"name\": \"redislabs.dbo.emp.Value\", \"field\": \"after\"}, {\"type\": \"struct\", \"fields\": [{\"type\": \"string\", \"optional\": false, \"field\": \"version\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"connector\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"name\"}, {\"type\": \"int64\", \"optional\": false, \"field\": \"ts_ms\"}, {\"type\": \"string\", \"optional\": true, \"name\": \"io.debezium.data.Enum\", \"version\": 1, \"parameters\": {\"allowed\": \"true,last,false\"}, \"default\": \"false\", \"field\": \"snapshot\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"db\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"sequence\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"schema\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"table\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"change_lsn\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"commit_lsn\"}, {\"type\": \"int64\", \"optional\": true, \"field\": \"event_serial_no\"}], \"optional\": false, \"name\": \"io.debezium.connector.sqlserver.Source\", \"field\": \"source\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"op\"}, {\"type\": \"int64\", \"optional\": true, \"field\": \"ts_ms\"}, {\"type\": \"struct\", \"fields\": [{\"type\": \"string\", \"optional\": false, \"field\": \"id\"}, {\"type\": \"int64\", \"optional\": false, \"field\": \"total_order\"}, {\"type\": \"int64\", \"optional\": false, \"field\": \"data_collection_order\"}], \"optional\": true, \"field\": \"transaction\"}], \"optional\": false, \"name\": \"redislabs.dbo.emp.Envelope\"}, \"payload\": {\"before\": {\"empno\": 11, \"fname\": \"Yossi\", \"lname\": \"Mague\", \"job\": \"PFE\", \"mgr\": 1, \"hiredate\": 1562630400000, \"sal\": \"dzWUAA==\", \"comm\": \"AYag\", \"dept\": 3}, \"after\": null, \"source\": {\"version\": \"1.6.0.Final\", \"connector\": \"sqlserver\", \"name\": \"redislabs\", \"ts_ms\": 1637859764960, \"snapshot\": \"false\", \"db\": \"RedisConnect\", \"sequence\": null, \"schema\": \"dbo\", \"table\": \"emp\", \"change_lsn\": \"0000003a:00002f50:0002\", \"commit_lsn\": \"0000003a:00002f50:0005\", \"event_serial_no\": 1}, \"op\": \"d\", \"ts_ms\": 1637859769370, \"transaction\": null}}"</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>and the <code>compact</code> format, using only one pair {1), 2)}={"message key", "message value"}:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>1) 1) "1639304527499-0"
   2) 1) "{\"schema\": {\"type\": \"struct\", \"fields\": [{\"type\": \"int32\", \"optional\": false, \"field\": \"empno\"}], \"optional\": false, \"name\": \"redislabs.dbo.emp.Key\"}, \"payload\": {\"empno\": 11}}"
      2) "{\"schema\": {\"type\": \"struct\", \"fields\": [{\"type\": \"struct\", \"fields\": [{\"type\": \"int32\", \"optional\": false, \"field\": \"empno\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"fname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"lname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"job\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"mgr\"}, {\"type\": \"int64\", \"optional\": true, \"name\": \"io.debezium.time.Timestamp\", \"version\": 1, \"field\": \"hiredate\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"sal\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"comm\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"dept\"}], \"optional\": true, \"name\": \"redislabs.dbo.emp.Value\", \"field\": \"before\"}, {\"type\": \"struct\", \"fields\": [{\"type\": \"int32\", \"optional\": false, \"field\": \"empno\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"fname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"lname\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"job\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"mgr\"}, {\"type\": \"int64\", \"optional\": true, \"name\": \"io.debezium.time.Timestamp\", \"version\": 1, \"field\": \"hiredate\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"sal\"}, {\"type\": \"bytes\", \"optional\": true, \"name\": \"org.apache.kafka.connect.data.Decimal\", \"version\": 1, \"parameters\": {\"scale\": \"4\", \"connect.decimal.precision\": \"19\"}, \"field\": \"comm\"}, {\"type\": \"int32\", \"optional\": true, \"field\": \"dept\"}], \"optional\": true, \"name\": \"redislabs.dbo.emp.Value\", \"field\": \"after\"}, {\"type\": \"struct\", \"fields\": [{\"type\": \"string\", \"optional\": false, \"field\": \"version\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"connector\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"name\"}, {\"type\": \"int64\", \"optional\": false, \"field\": \"ts_ms\"}, {\"type\": \"string\", \"optional\": true, \"name\": \"io.debezium.data.Enum\", \"version\": 1, \"parameters\": {\"allowed\": \"true,last,false\"}, \"default\": \"false\", \"field\": \"snapshot\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"db\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"sequence\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"schema\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"table\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"change_lsn\"}, {\"type\": \"string\", \"optional\": true, \"field\": \"commit_lsn\"}, {\"type\": \"int64\", \"optional\": true, \"field\": \"event_serial_no\"}], \"optional\": false, \"name\": \"io.debezium.connector.sqlserver.Source\", \"field\": \"source\"}, {\"type\": \"string\", \"optional\": false, \"field\": \"op\"}, {\"type\": \"int64\", \"optional\": true, \"field\": \"ts_ms\"}, {\"type\": \"struct\", \"fields\": [{\"type\": \"string\", \"optional\": false, \"field\": \"id\"}, {\"type\": \"int64\", \"optional\": false, \"field\": \"total_order\"}, {\"type\": \"int64\", \"optional\": false, \"field\": \"data_collection_order\"}], \"optional\": true, \"field\": \"transaction\"}], \"optional\": false, \"name\": \"redislabs.dbo.emp.Envelope\"}, \"payload\": {\"before\": {\"empno\": 11, \"fname\": \"Yossi\", \"lname\": \"Mague\", \"job\": \"PFE\", \"mgr\": 1, \"hiredate\": 1562630400000, \"sal\": \"dzWUAA==\", \"comm\": \"AYag\", \"dept\": 3}, \"after\": null, \"source\": {\"version\": \"1.6.0.Final\", \"connector\": \"sqlserver\", \"name\": \"redislabs\", \"ts_ms\": 1637859764960, \"snapshot\": \"false\", \"db\": \"RedisConnect\", \"sequence\": null, \"schema\": \"dbo\", \"table\": \"emp\", \"change_lsn\": \"0000003a:00002f50:0002\", \"commit_lsn\": \"0000003a:00002f50:0005\", \"event_serial_no\": 1}, \"op\": \"d\", \"ts_ms\": 1637859769370, \"transaction\": null}}"</pre>
</div>
</div>
<div class="paragraph">
<p>You can read more about Redis Streams <a href="https://redis.io/docs/data-types/streams/">here</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_injection_points_6"><a class="anchor" href="#_injection_points_6"></a>Injection points</h5>
<div class="paragraph">
<p>The Redis sink behavior can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="redis-ext-stream-name-mapper"></a><a href="#redis-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (topic) name into a physical Redis stream name.
By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_nats_streaming"><a class="anchor" href="#_nats_streaming"></a>NATS Streaming</h4>
<div class="paragraph">
<p><a href="https://docs.nats.io/nats-streaming-concepts/intro">NATS Streaming</a> is a data streaming system powered by NATS, and written in the Go programming language.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-streaming-type"></a><a href="#nats-streaming-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>nats-streaming</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-streaming-url"></a><a href="#nats-streaming-url"><code>debezium.sink.nats-streaming.url</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>URL (or comma separated list of URLs) to a node or nodes in the cluster formatted as <code>nats://host:port</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-streaming-cluster-id"></a><a href="#nats-streaming-cluster-id"><code>debezium.sink.nats-streaming.cluster.id</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NATS Streaming Cluster ID.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-streaming-client-id"></a><a href="#nats-streaming-client-id"><code>debezium.sink.nats-streaming.client.id</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>NATS Streaming Client ID.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_7"><a class="anchor" href="#_injection_points_7"></a>Injection points</h5>
<div class="paragraph">
<p>The NATS Streaming sink behavior can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="streaming_connection"></a><a href="#streaming_connection"><code>io.nats.streaming.StreamingConnection</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom configured instance of a <code>StreamingConnection</code> used to publish messages to target subjects.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-streaming-ext-stream-name-mapper"></a><a href="#nats-streaming-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (topic) name into a physical NATS Streaming subject name.
By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_nats_jetstream"><a class="anchor" href="#_nats_jetstream"></a>NATS JetStream</h4>
<div class="paragraph">
<p>NATS has a built-in distributed persistence system called <a href="https://docs.nats.io/nats-concepts/jetstream">JetStream</a> which enables new functionalities and higher qualities of service on top of the base 'Core NATS' functionalities and qualities of service.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-jetstream-type"></a><a href="#nats-jetstream-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>nats-jetstream</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-jetstream-url"></a><a href="#nats-jetstream-url"><code>debezium.sink.nats-jetstream.url</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>URL (or comma separated list of URLs) to a node or nodes in the cluster formatted as <code>nats://host:port</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-jetstream-create-stream"></a><a href="#nats-jetstream-create-stream"><code>debezium.sink.nats-jetstream.create-stream</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If true, a basic stream will be created.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-jetstream-subjects"></a><a href="#nats-jetstream-subjects"><code>debezium.sink.nats-jetstream.subjects</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>*.*.*</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A comma separated list of subjects, messaging channel names. Can contain wildcards like test.inventory.*</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="nats-jetstream-storage"></a><a href="#nats-jetstream-storage"><code>debezium.sink.nats-jetstream.storage</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>memory</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Controls how the messages are saved in the stream. Can be memory or file.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you need a more configurable stream, it can be created with nats cli. More about streams at: <a href="https://docs.nats.io/nats-concepts/jetstream/streams" class="bare">https://docs.nats.io/nats-concepts/jetstream/streams</a></p>
</div>
<div class="sect4">
<h5 id="_injection_points_8"><a class="anchor" href="#_injection_points_8"></a>Injection points</h5>
<div class="paragraph">
<p>The NATS JetStream sink behavior can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jetstream_connection"></a><a href="#streaming_connection"><code>io.nats.client.JetStream</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom configured instance of a <code>JetStream</code> used to publish messages to target subjects.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jetstream-ext-stream-name-mapper"></a><a href="#nats-streaming-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (topic) name into a physical NATS JetStream subject name.
By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_apache_kafka"><a class="anchor" href="#_apache_kafka"></a>Apache Kafka</h4>
<div class="paragraph">
<p><a href="https://kafka.apache.org/">Apache Kafka</a> is a popular open-source platform for distributed event streaming. Debezium Server supports publishing captured change events to a configured Kafka message broker.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kafka-type"></a><a href="#kafka-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>kafka</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kafka-producer"></a><a href="#kafka-producer"><code>debezium.sink.kafka.producer.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Kafka sink adapter supports pass-through configuration.
This means that all Kafka producer <a href="https://kafka.apache.org/documentation/#producerconfigs">configuration properties</a> are passed to the producer with the prefix removed.
At least <code>bootstrap.servers</code>, <code>key.serializer</code> and <code>value.serializer</code> properties must be provided. The <code>topic</code> is set by Debezium.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_9"><a class="anchor" href="#_injection_points_9"></a>Injection points</h5>
<div class="paragraph">
<p>The Kafka sink behaviour can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="kafka-producer-ext-stream-name-mapper"></a><a href="#kafka-producer-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the original destination (topic) name into another Kafka topic. By default, the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_pravega"><a class="anchor" href="#_pravega"></a>Pravega</h4>
<div class="paragraph">
<p><a href="https://pravega.io/">Pravega</a> is a cloud-native storage system for event streams and data streams. This sink offers two modes: non-transactional and transactional. The non-transactional mode individually writes each event in a Debezium batch to Pravega. The transactional mode writes the Debezium batch to a Pravega transaction that commits when the batch is completed.</p>
</div>
<div class="paragraph">
<p>The Pravega sink expects destination scope and streams to already be created.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pravega-type"></a><a href="#pravega-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>pravega</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pravega-url"></a><a href="#pravega-url"><code>debezium.sink.pravega.controller.uri</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>tcp://localhost:9090</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The connection string to a Controller in the Pravega cluster.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pravega-scope"></a><a href="#pravega-scope"><code>debezium.sink.pravega.scope</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the scope in which to find the destination streams.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pravega-transaction"></a><a href="#pravega-transaction"><code>debezium.sink.pravega.transaction</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Set to <code>true</code> to have the sink use Pravega transactions for each Debezium batch.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_10"><a class="anchor" href="#_injection_points_10"></a>Injection points</h5>
<div class="paragraph">
<p>Pravega sink behavior can be modified by custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="pravega-ext-stream-name-mapper"></a><a href="#pravega-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (stream) name into a physical Pravega stream name.
By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_infinispan"><a class="anchor" href="#_infinispan"></a>Infinispan</h4>
<div class="paragraph">
<p><a href="https://infinispan.org/">Infinispan</a> is open-source in-memory data grid that offers rich set of caches types as well as cache stores.
Due to very fast data access, Infinispan can be used, besides others, as a data source for various data processing and analytical tools.</p>
</div>
<div class="paragraph">
<p>The Infinispan sink expects that the destination cache is already defined and created within the Infinispan cluster.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="infinispan-type"></a><a href="#infinispan-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>infinispan</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="infisnipan-server-host"></a><a href="#infisnipan-server-host"><code>debezium.sink.infinispan.server.host</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The host name of one of the servers of the Infinispan cluster (can be also a comma-separated list of servers).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="infisnipan-server-port"></a><a href="#infisnipan-server-port"><code>debezium.sink.infinispan.server.port</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>11222</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The port of the Infinispan server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="infisnipan-cache"></a><a href="#infisnipan-cache"><code>debezium.sink.infinispan.cache</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the (exiting) cache where the records will be stored.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="infisnipan-user"></a><a href="#infisnipan-user"><code>debezium.sink.infinispan.user</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The user name used for connecting to Infinispan cluster.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="infisnipan-password"></a><a href="#infisnipan-password"><code>debezium.sink.infinispan.password</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The password used for connecting to Infinispan cluster.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_11"><a class="anchor" href="#_injection_points_11"></a>Injection points</h5>
<div class="paragraph">
<p>The Infinispan sink behaviour can be modified by a custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="infinispan-ext-hotrod-cache"></a><a href="#infinispan-ext-hotrod-cache"><code>org.infinispan.client.hotrod.RemoteCache</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom instance of <a href="https://docs.jboss.org/infinispan/14.0/apidocs/org/infinispan/client/hotrod/RemoteCache.html">Hot Rod cache</a> which will be used for connecting and sending events to the Infinspan cluster.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_apache_rocketmq"><a class="anchor" href="#_apache_rocketmq"></a>Apache RocketMQ</h4>
<div class="paragraph">
<p><a href="https://rocketmq.apache.org/">Apache RocketMQ</a> is a distributed messaging and streaming platform with low latency, high
performance and reliability, trillion-level capacity and flexible scalability. Debezium server supports publishing
captured change events to a configured RocketMQ.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-type"></a><a href="#rocketmq-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>rocketmq</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-namesrv-addr"></a><a href="#rocketmq-namesrv-addr"><code>debezium.sink.rocketmq.producer.name.srv.addr</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name server address of Apache RocketMQ .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-producer-group"></a><a href="#rocketmq-producer-group"><code>debezium.sink.rocketmq.producer.group</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Producer group of Apache RocketMQ.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-max-message-size"></a><a href="#rocketmq-max-message-size"><code>debezium.sink.rocketmq.producer.max.message.size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>4M, Suggest less than 4 MB.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Maximum number of bytes of sent message body.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-send-timeout"></a><a href="#rocketmq-send-timeout"><code>debezium.sink.rocketmq.producer.send.msg.timeout</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>3000ms</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The send message timeout duration is the waiting time for local synchronous invocation of clients. Set a
proper value based on the actual application to avoid long thread blocking time.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-acl-enabled"></a><a href="#rocketmq-acl-enabled"><code>debezium.sink.rocketmq.producer.acl.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>false</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The configuration is used to enable access authorization.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-access-key"></a><a href="#rocketmq-access-key"><code>debezium.sink.rocketmq.producer.access.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The access key used for connecting to Apache RocketMQ cluster .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-secret-key"></a><a href="#rocketmq-secret-key"><code>debezium.sink.rocketmq.producer.secret.key</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The access secret used for connecting to Apache RocketMQ cluster .</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_12"><a class="anchor" href="#_injection_points_12"></a>Injection points</h5>
<div class="paragraph">
<p>The RocketMQ sink behaviour can be modified by a custom logic providing alternative implementations for specific
functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-producer"></a><a href="#rocketmq-producer"><code>org.apache.rocketmq.client.producer.DefaultMQProducer</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>@CustomConsumerBuilder</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom configured instance of a RocketMQ used to publish messages to target topic.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rocketmq-ext-stream-name-mapper"></a><a href="#rocketmq-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (stream) name into a RocketMQ topic name.
By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_rabbitmq_stream"><a class="anchor" href="#_rabbitmq_stream"></a>RabbitMQ Stream</h4>
<div class="paragraph">
<p><a href="https://www.rabbitmq.com/">RabbitMQ</a> is an open source message broker, supporting multiple messaging protocols and can be deployed in distributed and federated configurations to meet high-scale, high-availability requirements.
RabbitMQ supports messages queues and streams.
Debezium Server supports publishing captured change events to a configured RabbitMQ Stream.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-type"></a><a href="#rabbitmq-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>rabbitmq</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-host"></a><a href="#rabbitmq-host"><code>debezium.sink.rabbitmq.connection.host</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>localhost</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Host of RabbitMQ server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-port"></a><a href="#rabbitmq-port"><code>debezium.sink.rabbitmq.connection.port</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5672</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Port of RabbitMQ server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-connection"></a><a href="#rabbitmq-connection"><code>debezium.sink.rabbitmq.connection.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The RabbitMQ module supports pass-through configuration.
The connection <a href="https://github.com/rabbitmq/rabbitmq-java-client/blob/main/src/main/java/com/rabbitmq/client/ConnectionFactoryConfigurator.java">configuration properties</a> are passed to the RabbitMQ client with the prefix removed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-ack-timeout"></a><a href="#rabbitmq-ack-timeout"><code>debezium.sink.rabbitmq.ackTimeout</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>30000</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Defines the maximum time in milliseconds to wait a confirm from the broker after publishing a message.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-exchange"></a><a href="#rabbitmq-exchange"><code>debezium.sink.rabbitmq.exchange</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>topic name</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Exchange name to use when publishing messages.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-routing-key"></a><a href="#rabbitmq-routing-key"><code>debezium.sink.rabbitmq.routingKey</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><em>empty string</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) Static routing key to use when publishing messages.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-auto-create-routing-key"></a><a href="#rabbitmq-auto-create-routing-key"><code>debezium.sink.rabbitmq.autoCreateRoutingKey</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>false</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) If <code>true</code> the non-existing routing key is automatically created.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-routing-key-durable"></a><a href="#rabbitmq-routing-key-durable"><code>debezium.sink.rabbitmq.routingKeyDurable</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>true</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) If <code>true</code> the target queue content will survive a RabbitMQ server restart.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-routing-key-from-topic-name"></a><a href="#rabbitmq-routing-key-from-topic-name"><code>debezium.sink.rabbitmq.routingKeyFromTopicName</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>false</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) If <code>true</code> the routing key is used from topic name instead of a static value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-delivery-mode"></a><a href="#rabbitmq-delivery-mode"><code>debezium.sink.rabbitmq.deliveryMode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>(Optional) The way how the message is delivered to and stored on a RabbitMQ server</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1 - Non-persistent</p>
</li>
<li>
<p>2 - Persistent</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-null-value"></a><a href="#rabbitmq-null-value"><code>debezium.sink.rabbitmq.null.value</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>RabbitMQ does not support the notion of null payloads, as is the case with tombstone events.
So this string will be used as value for records without a payload.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_injection_points_13"><a class="anchor" href="#_injection_points_13"></a>Injection points</h5>
<div class="paragraph">
<p>RabbitMQ sink behavior can be modified by custom logic providing alternative implementations for specific functionalities.
When the alternative implementations are not available then the default ones are used.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">CDI classifier</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmq-ext-stream-name-mapper"></a><a href="#rabbitmq-ext-stream-name-mapper"><code>io.debezium.server.StreamNameMapper</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Custom implementation maps the planned destination (stream) name into a RabbitMQ exchange name and (if enabled) into the routing key name.
By default the same name is used.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_rabbitmq_native_stream"><a class="anchor" href="#_rabbitmq_native_stream"></a>RabbitMQ Native Stream</h4>
<div class="paragraph">
<p>Since <a href="https://www.rabbitmq.com/">RabbitMQ 3.9</a>, <a href="https://www.rabbitmq.com/streams.html">Streams</a> were introduced to RabbitMQ, utilizing a new blazingly-fast protocol that can be used alongside AMQP 0.9.1.
Streams are great for large fan-outs, replay &amp; time travel, and large logs, all with very high throughput (million messages per second).</p>
</div>
<div class="paragraph">
<p>Debezium Server is enhanced to support publishing captured change events to native RabbitMQ Streams leveraging <a href="https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/">RabbitMQ Stream Java Client</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 35%;">
<col style="width: 10%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmqstream-type"></a><a href="#rabbitmqstream-type"><code>debezium.sink.type</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Must be set to <code>rabbitmqstream</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmqstream-host"></a><a href="#rabbitmqstream-host"><code>debezium.sink.rabbitmqstream.connection.host</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>localhost</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Host of RabbitMQ server.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmqstream-port"></a><a href="#rabbitmqstream-port"><code>debezium.sink.rabbitmqstream.connection.port</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>5552</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Port of RabbitMQ Stream Protocol.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmqstream-connection"></a><a href="#rabbitmqstream-connection"><code>debezium.sink.rabbitmqstream.connection.*</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The RabbitMQ module supports pass-through configuration.
The connection <a href="https://github.com/rabbitmq/rabbitmq-java-client/blob/main/src/main/java/com/rabbitmq/client/ConnectionFactoryConfigurator.java">configuration properties</a> are passed to the RabbitMQ client with the prefix removed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmqstream-ack-timeout"></a><a href="#rabbitmqstream-ack-timeout"><code>debezium.sink.rabbitmqstream.ackTimeout</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>30000</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Defines the maximum time in milliseconds to wait a confirm from the broker after publishing a message.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="rabbitmqstream-null-value"></a><a href="#rabbitmqstream-null-value"><code>debezium.sink.rabbitmqstream.null.value</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>default</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>RabbitMQ does not support the notion of null payloads, as is the case with tombstone events.
So this string will be used as value for records without a payload.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extensions"><a class="anchor" href="#_extensions"></a>Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Debezium Server uses the <a href="https://quarkus.io/">Quarkus framework</a> and relies on dependency injection to enable developer to extend its behaviour.
Note that only the JVM mode of Quarkus is supported, but not native execution via GraalVM.
The server can be extended in two ways by providing a custom logic:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>implementation of a new sink</p>
</li>
<li>
<p>customization of an existing sink - i.e. non-standard configuration</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_implementation_of_a_new_sink"><a class="anchor" href="#_implementation_of_a_new_sink"></a>Implementation of a new sink</h3>
<div class="paragraph">
<p>The new sink can be implemented as a CDI bean implementing interface <code>DebeziumEngine.ChangeConsumer</code> and with annotation <code>@Named</code> and unique name and scope <code>@Dependent</code>.
The name of the bean is used as the <code>debezium.sink.type</code> option.</p>
</div>
<div class="paragraph">
<p>The sink needs to read the configuration using Microprofile Config API.
The execution path must pass the messages into the target system and regularly commit the passed/processed messages.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/debezium/debezium-server/blob/main/debezium-server-kinesis/src/main/java/io/debezium/server/kinesis/KinesisChangeConsumer.java">Kinesis sink</a> implementation for further details.</p>
</div>
</div>
<div class="sect2">
<h3 id="_customization_of_an_existing_sink"><a class="anchor" href="#_customization_of_an_existing_sink"></a>Customization of an existing sink</h3>
<div class="paragraph">
<p>Some of the sinks exposes dependency injections points that enable users to provide its own bean that would modify the behaviour of the sink.
Typical examples are fine tuning of the target client setup, the destination naming etc.</p>
</div>
<div class="paragraph">
<p>See an example of a custom <a href="https://github.com/debezium/debezium-examples/tree/main/debezium-server-name-mapper">topic naming policy</a> implementation for further details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cassandra_connector"><a class="anchor" href="#_cassandra_connector"></a>Cassandra connector</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_running_debezium_server_with_cassandra_connector"><a class="anchor" href="#_running_debezium_server_with_cassandra_connector"></a>Running Debezium Server with Cassandra connector</h3>
<div class="paragraph">
<p>Running with java 11+ requires setting the following java options at startup trough the JDK_JAVA_OPTIONS environment variable or equivalent:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">JDK_JAVA_OPTIONS="--add-exports java.base/jdk.internal.misc=ALL-UNNAMED --add-exports java.base/jdk.internal.ref=ALL-UNNAMED --add-exports java.base/sun.nio.ch=ALL-UNNAMED --add-exports java.management.rmi/com.sun.jmx.remote.internal.rmi=ALL-UNNAMED --add-exports java.rmi/sun.rmi.registry=ALL-UNNAMED --add-exports java.rmi/sun.rmi.server=ALL-UNNAMED --add-exports java.sql/java.sql=ALL-UNNAMED  --add-opens java.base/java.lang.module=ALL-UNNAMED --add-opens java.base/jdk.internal.loader=ALL-UNNAMED --add-opens java.base/jdk.internal.ref=ALL-UNNAMED --add-opens java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens java.base/jdk.internal.math=ALL-UNNAMED --add-opens java.base/jdk.internal.module=ALL-UNNAMED --add-opens java.base/jdk.internal.util.jar=ALL-UNNAMED --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens java.base/sun.nio.ch=ALL-UNNAMED"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sample_of_basic_application_properties_for_running_cassandra_connector_with_redis_sink"><a class="anchor" href="#_sample_of_basic_application_properties_for_running_cassandra_connector_with_redis_sink"></a>Sample of basic <code>application.properties</code> for running Cassandra connector with Redis sink</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs"># Sink
debezium.sink.type=redis
debezium.sink.redis.address=localhost:6379

# Connector
debezium.source.connector.class=io.debezium.connector.cassandra.Cassandra4Connector
## node.id must be unique per each connector running on each Cassandra node
debezium.source.cassandra.node.id=sample_node_01
debezium.source.cassandra.hosts=127.0.0.1
debezium.source.cassandra.port=9042
debezium.source.cassandra.config=/opt/cassandra/conf/cassandra.yaml
debezium.source.commit.log.relocation.dir=cassandra/relocdir
debezium.source.offset.storage=io.debezium.server.redis.RedisOffsetBackingStore
debezium.source.topic.prefix=sample_prefix
## internal Cassandra http port
debezium.source.http.port=8040</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_transformation_for_operation_code"><a class="anchor" href="#_transformation_for_operation_code"></a>Transformation for Operation Code</h3>
<div class="paragraph">
<p>By default, Cassandra connector has it&#8217;s own Operation Codes which are not entirely compatible with Debezium Operation Codes.
If needed, a specific transform can be defined in Debezium Server&#8217;s <code>application.properties</code> to enable the conversion:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">debezium.transforms=EnvelopeTransformation
debezium.transforms.EnvelopeTransformation.type=io.debezium.connector.cassandra.transforms.EnvelopeTransformation</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will convert Operation Codes as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">INSERT "i"          -&gt; CREATE "c"
UPDATE "u"          -&gt; UPDATE "u"
DELETE "d"          -&gt; DELETE "d"
RANGE_TOMBSTONE "r" -&gt; TRUNCATE "t"</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2024 Debezium Community (Rev: <span class="truncated"><a href="https://github.com/debezium/debezium/commit/8548a38c66d4ca66f0ef44f3417dc7e37578c632">8548a38c</a></span>)
            
        </div>
    </footer>
</main></div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../../debezium-antora/js/site.js"></script>
<script async src="../../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>