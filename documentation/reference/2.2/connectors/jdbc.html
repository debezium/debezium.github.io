<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Debezium connector for JDBC :: Debezium Documentation</title>
    <link rel="canonical" href="https://debezium.io/documentation/reference/stable/connectors/jdbc.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="2.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium 2.2 Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/signalling.html">Sending Signals to Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="vitess.html">Vitess</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="spanner.html">Spanner</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="jdbc.html">Jdbc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-changes.html">Event Changes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-outbox-event-router.html">MongoDB Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/compute-partition.html">Compute Partition [Deprecated]</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/partition-routing.html">Partition Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/header-to-value.html">HeaderToValue</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../development/converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/tracing.html">OpenTracing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/kubernetes.html">Running on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/embedded.html">Embedding Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">2.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version">
          <a href="/documentation/reference/nightly/index.html">nightly</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.7/index.html">2.7</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.6/index.html">2.6</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.3/index.html">2.3</a>
        </li>
        <li class="version is-current">
          <a href="/documentation/reference/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.9/index.html">1.9</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../stable/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>Connectors</li>
    <li><a href="jdbc.html">Jdbc</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">2.2</button>
        <div class="version-menu">
                <a class="version" href="/documentation/reference/nightly/index.html">nightly</a>
                <a class="version" href="/documentation/reference/2.7/index.html">2.7</a>
                <a class="version" href="/documentation/reference/3.0/index.html">3.0</a>
                <a class="version" href="/documentation/reference/2.6/index.html">2.6</a>
                <a class="version" href="/documentation/reference/2.5/index.html">2.5</a>
                <a class="version" href="/documentation/reference/2.4/index.html">2.4</a>
                <a class="version" href="/documentation/reference/2.3/index.html">2.3</a>
                <a class="version is-current" href="/documentation/reference/2.2/index.html">2.2</a>
                <a class="version is-missing" href="/documentation/reference/2.1/index.html">2.1</a>
                <a class="version is-missing" href="/documentation/reference/2.0/index.html">2.0</a>
                <a class="version is-missing" href="/documentation/reference/1.9/index.html">1.9</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/debezium/debezium/edit/2.2/documentation/modules/ROOT/pages/connectors/jdbc.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
        
    <div class="version-banner version-banner-outdated">
    You are viewing documentation for an outdated version of Debezium.
    <br/>
            If you want to view the latest stable version of this page, please go <a href=/documentation/reference/stable/index.html>here</a>.
            
</div>            <h1 class="page">Debezium connector for JDBC</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#jdbc-overview">Overview</a></li>
<li><a href="#how-the-jdbc-connector-works">How the JDBC connector works</a>
<ul class="sectlevel2">
<li><a href="#jdbc-consume-complex-debezium-events">Consuming complex Debezium change events</a></li>
<li><a href="#jdbc-at-least-once-delivery">At-least-once delivery</a></li>
<li><a href="#jdbc-multiple-tasks">Multiple tasks</a></li>
<li><a href="#jdbc-data-and-type-mappings">Data and column type mappings</a></li>
<li><a href="#jdbc-primary-key-handling">Primary key handling</a></li>
<li><a href="#jdbc-delete-mode">Delete mode</a></li>
<li><a href="#jdbc-idempotent-writes">Idempotent writes</a></li>
<li><a href="#jdbc-schema-evolution">Schema evolution</a></li>
<li><a href="#jdbc-quoting-case-sensitivity">Quoting and case sensitivity</a></li>
</ul>
</li>
<li><a href="#jdbc-field-types">Data type mappings</a></li>
<li><a href="#jdbc-deployment">Deployment</a>
<ul class="sectlevel2">
<li><a href="#jdbc-connector-configuration">Debezium JDBC connector configuration</a></li>
</ul>
</li>
<li><a href="#jdbc-connector-properties">Connector properties</a></li>
<li><a href="#jdbc-faq">Frequently asked questions</a></li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This connector is currently in an incubating state. In future versions, we might change the exact semantics, configuration options, and so forth, depending on the feedback that we receive.
Please let us know if you encounter any problems.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jdbc-overview"><a class="anchor" href="#jdbc-overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium JDBC connector is a Kafka Connect sink connector implementation that can consume events from multiple source topics, and then write those events to a relational database by using a JDBC driver.
This connector supports a wide variety of database dialects, including Db2, MySQL, Oracle, PostgreSQL, and SQL Server.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-the-jdbc-connector-works"><a class="anchor" href="#how-the-jdbc-connector-works"></a>How the JDBC connector works</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium JDBC connector is a Kafka Connect sink connector, and therefore requires the Kafka Connect runtime.
The connector periodically polls the Kafka topics that it subscribes to, consumes events from those topics, and then writes the events to the configured relational database.
The connector supports idempotent write operations by using upsert semantics and basic schema evolution.</p>
</div>
<div class="paragraph">
<p>The following features are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbc-consume-complex-debezium-events">Consuming complex Debezium change events</a></p>
</li>
<li>
<p><a href="#jdbc-at-least-once-delivery">At-least-once delivery</a></p>
</li>
<li>
<p><a href="#jdbc-multiple-tasks">Multiple tasks</a></p>
</li>
<li>
<p><a href="#jdbc-data-and-type-mappings">Data and column type mappings</a></p>
</li>
<li>
<p><a href="#jdbc-primary-key-handling">Primary key handling</a></p>
</li>
<li>
<p><a href="#jdbc-delete-mode">Delete mode</a></p>
</li>
<li>
<p><a href="#jdbc-idempotent-writes">Idempotent writes</a></p>
</li>
<li>
<p><a href="#jdbc-schema-evolution">Schema evolution</a></p>
</li>
<li>
<p><a href="#jdbc-quoting-case-sensitivity">Quoting and case sensitivity</a></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="jdbc-consume-complex-debezium-events"><a class="anchor" href="#jdbc-consume-complex-debezium-events"></a>Consuming complex Debezium change events</h3>
<div class="paragraph">
<p>By default, Debezium source connectors produce complex, hierarchical change events.
When Debezium connectors are used with other JDBC sink connector implementations, you might need to apply the <code>ExtractNewRecordState</code> single message transformation (SMT) to flatten the payload of change events, so that they can be consumed by the sink implementation.
If you run the Debezium JDBC sink connector, it&#8217;s not necessary to deploy the SMT,  because the Debezium sink connector can consume native Debezium change events directly, without the use of a transformation.</p>
</div>
<div class="paragraph">
<p>When the JDBC sink connector consumes a complex change event from a Debezium source connector, it extracts the values from the <code>after</code> section of the original <code>insert</code> or <code>update</code> event.
When a delete event is consumed by the sink connector, no part of the event&#8217;s payload is consulted.</p>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-at-least-once-delivery"><a class="anchor" href="#jdbc-at-least-once-delivery"></a>At-least-once delivery</h3>
<div class="paragraph">
<p>The Debezium JDBC sink connector guarantees that events that is consumes from Kafka topics are processed at least once.</p>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-multiple-tasks"><a class="anchor" href="#jdbc-multiple-tasks"></a>Multiple tasks</h3>
<div class="paragraph">
<p>You can run the Debezium JDBC sink connector across multiple Kafka Connect tasks.
To run the connector across multiple tasks, set the <code>tasks.max</code> configuration property to the number of tasks that you want the connector to use.
The Kafka Connect runtime starts the specified number of tasks, and runs one instance of the connector per task.
Multiple tasks can improve performance by reading and processing changes from multiple source topics in parallel.</p>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-data-and-type-mappings"><a class="anchor" href="#jdbc-data-and-type-mappings"></a>Data and column type mappings</h3>
<div class="paragraph">
<p>To enable the Debezium JDBC sink connector to correctly map the data type from an inbound message field to an outbound message field, the connector requires information about the data type of each field that is present in the source event.
The connector supports a wide range of column type mappings across different database dialects.
To correctly convert the destination column type from the <code>type</code> metadata in an event field, the connector applies the data type mappings that are defined for the source database.
You can enhance the way that the connector resolves data types for a column by setting the <code>column.propagate.source.type</code> or <code>datatype.propagate.source.type</code> options in the source connector configuration.
When you enable these options, Debezium includes extra parameter metadata, which assists the JDBC sink connector in more accurately resolving the data type of destination columns.</p>
</div>
<div class="paragraph">
<p>For the Debezium JDBC sink connector to process events from a Kafka topic, the Kafka topic message key, when present, must be a primitive data type or a <code>Struct</code>.
In addition, the payload of the source message must be a <code>Struct</code> that has either a flattened structure with no nested <code>struct</code> types, or a nested <code>struct</code> layout that conforms to Debezium&#8217;s complex, hierarchical structure.</p>
</div>
<div class="paragraph">
<p>If the structure of the events in the Kafka topic do not adhere to these rules, you must implement a custom single message transformation to convert the structure of the source events into a usable format.</p>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-primary-key-handling"><a class="anchor" href="#jdbc-primary-key-handling"></a>Primary key handling</h3>
<div class="paragraph">
<p>By default, the Debezium JDBC sink connector does not transform any of the fields in the source event into the primary key for the event.
Unfortunately, the lack of a stable primary key can complicate event processing, depending on your business requirements, or when the sink connector uses upsert semantics.
To define a consistent primary key, you can configure the connector to use one of the primary key modes described in the following table:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>none</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No primary key fields are specified when creating the table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kafka</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The primary key consists of the following three columns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>__connect_topic</code></p>
</li>
<li>
<p><code>__connect_partition</code></p>
</li>
<li>
<p><code>__connect_offset</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The values for these columns are sourced from the coordinates of the Kafka event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>record_key</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The primary key is composed of the Kafka event&#8217;s key.<br>
<br>
If the primary key is a primitive type, specify the name of the column to be used by setting the <a href="#jdbc-property-primary-key-fields"><code>primary.key.fields</code></a> property.
If the primary key is a struct type, the fields in the struct are mapped as columns of the primary key.
You can use the <code>primary.key.fields</code> property to restrict the primary key to a subset of columns.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>record_value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The primary key is composed of the Kafka event&#8217;s value.<br>
<br>
Because the value of a Kafka event is always a <code>Struct</code>, by default, all of the fields in the value become columns of the primary key.
To use a subset of fields in the primary key, set the <a href="#jdbc-property-primary-key-fields"><code>primary.key.fields</code></a> property to specify a comma-separated list of fields in the value from which you want to derive the primary key columns.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some database dialects might throw an exception if you set the <code>primary.key.mode</code> to <code>kafka</code> and set <code>schema.evolution</code> to <code>basic</code>.
This exception occurs when a dialect maps a <code>STRING</code> data type mapping to a variable length string data type such as <code>TEXT</code> or <code>CLOB</code>, and the dialect does not allow primary key columns to have unbounded lengths.
To avoid this problem, apply the following settings in your environment:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do not set <code>schema.evolution</code> to <code>basic</code>.</p>
</li>
<li>
<p>Create the database table and primary key mappings in advance.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-delete-mode"><a class="anchor" href="#jdbc-delete-mode"></a>Delete mode</h3>
<div class="paragraph">
<p>The Debezium JDBC sink connector can delete rows in the destination database when a <code>DELETE</code> or <em>tombstone</em> event is consumed.
By default, the JDBC sink connector does not enable delete mode.</p>
</div>
<div class="paragraph">
<p>If you want to support removal of rows, explicitly enable it in the connector configuration by setting <code>delete.enabled=true</code> in the connector configuration.
However, to use this mode you must set <a href="#jdbc-property-primary-key-fields"><code>primary.key.fields</code></a> to a value other than <code>none</code>.
The preceding configuration is necessary, because deletes are executed based on the primary key mapping, so if a destination table has no primary key mapping, the connector is unable to delete rows.</p>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-idempotent-writes"><a class="anchor" href="#jdbc-idempotent-writes"></a>Idempotent writes</h3>
<div class="paragraph">
<p>The Debezium JDBC sink connector supports idempotent writes, allowing the same records to be replayed repeatedly and the final database state to remain consistent.
In order to support idempotent writes, the JDBC sink connector must be explicitly configured with the <code>insert.mode</code> set to <code>upsert</code>.
An <code>upsert</code> operation is applied as either an <code>update</code> or an <code>insert</code>, depending on whether the specified primary key already exists.
If the primary key value already exists, the operation updates values in the row.
If the specified primary key value doesn&#8217;t exist, an <code>insert</code> adds a new row.</p>
</div>
<div class="paragraph">
<p>Each database dialect handles idempotent writes differently, because there is no SQL standard for <em>upsert</em> operations.
The following illustrates the upsert database-specific DML syntax that is used by the supported database  dialects:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Dialect</th>
<th class="tableblock halign-left valign-top">Upsert Syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Db2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MERGE &#8230;&#8203;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MySQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INSERT &#8230;&#8203; ON DUPLICATE KEY UPDATE &#8230;&#8203;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oracle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MERGE &#8230;&#8203;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PostgreSQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INSERT &#8230;&#8203; ON CONFLICT &#8230;&#8203; DO UPDATE SET &#8230;&#8203;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SQL Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MERGE &#8230;&#8203;</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="jdbc-schema-evolution"><a class="anchor" href="#jdbc-schema-evolution"></a>Schema evolution</h3>
<div class="paragraph">
<p>The Debezium JDBC sink connector supports the following schema evolution modes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Mode</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>none</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The connector does not perform any DDL schema evolution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>basic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The connector automatically detects fields that are in the event payload but that do not exist in the destination table.
The connector alters the destination table to add the new fields.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When <code>schema.evolution</code> is set to <code>basic</code>, the connector automatically creates or alters the destination database table according to the structure of the incoming event.</p>
</div>
<div class="paragraph">
<p>When an event is received from a topic for the first time, and the destination table does not yet exist, the Debezium JDBC sink connector uses the event&#8217;s key, or the schema structure of the record to resolve the column structure of the table.
If schema evolution is enabled, the connector prepares and executes a <code>CREATE TABLE</code> SQL statement before it applies the DML event to the destination table.</p>
</div>
<div class="paragraph">
<p>When the Debezium JDBC connector receives an event from a topic, if the schema structure of the record differs from the schema structure of the destination table, the connector uses either the event&#8217;s key or its schema structure  to identify which columns are new, and must be added to the database table.
If schema evolution is enabled, the connector prepares and executes an <code>ALTER TABLE</code> SQL statement before it applies the DML event to the destination table.
Because changing column data types, dropping columns, and adjusting primary keys can be considered dangerous operations, the connector is prohibited from performing these operations.</p>
</div>
<div class="paragraph">
<p>The schema of each field determines whether a column is <code>NULL</code> or <code>NOT NULL</code>.
The schema also defines the default values for each column.
If the connector attempts to create a table with a nullability setting or a default value that don&#8217;t want, you must either create the table manually, ahead of time, or adjust the schema of the associated field before the sink connector processes the event.
To adjust nullability settings or default values, you can introduce a custom single message transformation that applies changes in the pipeline, or modifies the column state defined in the source database.</p>
</div>
<div class="paragraph">
<p>A field&#8217;s data type is resolved based on a predefined set of mappings.
For more information, see <a href="#jdbc-field-types">Data type mappings</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When you introduce new fields to the event structure of tables that already exist in the destination database, you must define the new fields as optional, or the fields must have a default value specified in the database schema.
If you want a field to be removed from the destination table, use one of the following options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Remove the field manually.</p>
</li>
<li>
<p>Drop the column.</p>
</li>
<li>
<p>Assign a default value to the field.</p>
</li>
<li>
<p>Define the field a nullable.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="jdbc-quoting-case-sensitivity"><a class="anchor" href="#jdbc-quoting-case-sensitivity"></a>Quoting and case sensitivity</h3>
<div class="paragraph">
<p>The Debezium JDBC sink connector consumes Kafka messages by constructing either DDL (schema changes) or DML (data changes) SQL statements that are executed on the destination database.
By default, the connector uses the names of the source topic and the event fields as the basis for the table and column names in the destination table.
The constructed SQL does not automatically delimit identifiers with quotes to preserve the case of the original strings.
As a result, by default, the text case of table or column names in the destination database depends entirely on how the database handles name strings when the case is not specified.</p>
</div>
<div class="paragraph">
<p>For example, if the destination database dialect is Oracle and the event&#8217;s topic is <code>orders</code>, the destination table will be created as <code>ORDERS</code> because Oracle defaults to upper-case names when the name is not quoted.
Similarly, if the destination database dialect is PostgreSQL and the event&#8217;s topic is <code>ORDERS</code>, the destination table will be created as <code>orders</code> because PostgreSQL defaults to lower-case names when the name is not quoted.</p>
</div>
<div class="paragraph">
<p>By setting <code>quote.identifiers</code> to <code>true</code> in the connector configuration, you can explicitly set the case of the table and field names to preserve the case that is present in the Kafka event.
So if the incoming event is for a topic called <code>orders</code> and the destination database dialect is Oracle, if quoting is enabled&#8201;&#8212;&#8201;that is, if <code>quote.identifiers</code> is set to <code>true</code>&#8201;&#8212;&#8201;the connector creates a table with the name <code>orders</code>, because the constructed SQL defines the name of the table as <code>"orders"</code>.
When quoting is enabled, the behavior for creating column names works in the same manner.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jdbc-field-types"><a class="anchor" href="#jdbc-field-types"></a>Data type mappings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium JDBC sink connector resolves a column&#8217;s data type by using a logical or primitive type-mapping system.
Primitive types include values such as integers, floating points, Booleans, strings, and bytes.
Typically, these types are represented with a specific Kafka Connect <code>Schema</code> type code only.
Logical data types are more often complex types, including values such as <code>Struct</code>-based types that have a fixed set of field names and schema, or values that are represented with a specific encoding, such as number of days since epoch.</p>
</div>
<div class="paragraph">
<p>The following examples show representative structures of primitive and logical data types:</p>
</div>
<div class="listingblock json">
<div class="title">Primitive field schema</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">{
  "schema": {
    "type": "INT64"
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Logical field schema</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">[
  "schema": {
    "type": "INT64",
    "name": "org.apache.kafka.connect.data.Date"
  }
]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Kafka Connect is not the only source for these complex, logical types.
In fact, Debezium source connectors generate change events that have fields with similar logical types to represent a variety of different data types, including but not limited to, timestamps, dates, and even JSON data.</p>
</div>
<div class="paragraph">
<p>The Debezium JDBC sink connector uses these primitive and logical types to resolve a column&#8217;s type to a JDBC SQL code, which represents a column&#8217;s type.
These JDBC SQL codes are then used by the underlying Hibernate persistence framework to resolve the column&#8217;s type to a logical data type for the dialect in use.
The following tables illustrate the primitive and logical mappings between Kafka Connect and JDBC SQL types, and between Debezium and JDBC SQL types.
The actual final column type varies with for each database type.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#jdbc-kafka-connect-primitive-mappings">Mappings between Kafka Connect Primitives and Column Data Types</a></p>
</li>
<li>
<p><a href="#jdbc-kafka-connect-logical-mappings">Mappings between Kafka Connect Logical Types and Column Data Types</a></p>
</li>
<li>
<p><a href="#jdbc-debezium-logical-mappings">Mappings between Debezium Logical Types and Column Data Types</a></p>
</li>
<li>
<p><a href="#jdbc-debezium-logical-mappings-dialect-specific">Mappings between Debezium dialect-specific Logical Types and Column Data Types</a></p>
</li>
</ol>
</div>
<table id="jdbc-kafka-connect-primitive-mappings" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Mappings between Kafka Connect Primitives and Column Data Types</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Primitive Type</th>
<th class="tableblock halign-left valign-top">JDBC SQL Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TINYINT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.SMALLINT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.INTEGER</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.BIGINT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLOAT32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.FLOAT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLOAT64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.DOUBLE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOLEAN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.BOOLEAN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STRING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.CHAR, Types.NCHAR, Types.VARCHAR, Types.NVARCHAR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BYTES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.VARBINARY</p></td>
</tr>
</tbody>
</table>
<table id="jdbc-kafka-connect-logical-mappings" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Mappings between Kafka Connect Logical Types and Column Data Types</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Logical Type</th>
<th class="tableblock halign-left valign-top">JDBC SQL Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.kafka.connect.data.Decimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.DECIMAL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.kafka.connect.data.Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.DATE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.kafka.connect.data.Time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.apache.kafka.connect.data.Timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
</tbody>
</table>
<table id="jdbc-debezium-logical-mappings" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Mappings between Debezium Logical Types and Column Data Types</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Logical Type</th>
<th class="tableblock halign-left valign-top">JDBC SQL Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.DATE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.Time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.MicroTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.NanoTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.ZonedTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIME_WITH_TIMEZONE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.Timestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.MicroTimestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.NanoTimestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.ZonedTimestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.TIMESTAMP_WITH_TIMEZONE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.VariableScaleDecimal</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.DOUBLE</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the database does not support time or timestamps with time zones, the mapping resolves to its equivalent without timezones.</p>
</div>
</td>
</tr>
</table>
</div>
<table id="jdbc-debezium-logical-mappings-dialect-specific" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Mappings between Debezium dialect-specific Logical Types and Column Data Types</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Logical Type</th>
<th class="tableblock halign-left valign-top">MySQL SQL Type</th>
<th class="tableblock halign-left valign-top">PostgreSQL SQL Type</th>
<th class="tableblock halign-left valign-top">SQL Server SQL Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.Bits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bit(n)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bit(n)</code> or <code>bit varying</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>varbinary(n)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types.VARCHAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.Json</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.EnumSet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>set</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.Year</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>year(n)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.time.MicroDuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>interval</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.Ltree</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ltree</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.Uuid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uuid</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">io.debezium.data.Xml</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xml</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In addition to the primitive and logical mappings above, if the source of the change events is a Debezium source connector, the resolution of the column type, along with its length, precision, and scale, can be further influenced by enabling column or data type propagation.
To enforce propagation, one of the following properties must be set in the source connector  configuration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>column.propagate.source.type</code></p>
</li>
<li>
<p><code>datatype.propagate.source.type</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Debezium JDBC sink connector applies the values with the higher precedence.</p>
</div>
<div class="paragraph">
<p>For example, let&#8217;s say the following field schema is included in a change event:</p>
</div>
<div class="listingblock">
<div class="title">Debezium change event field schema with column or data type propagation enabled</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "schema": {
    "type": "INT8",
    "parameters": {
      "__debezium.source.column.type": "TINYINT",
      "__debezium.source.column.length": "1"
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the preceding example, if no schema parameters are set, the Debezium JDBC sink connector would map this field to a column type of <code>Types.SMALLINT</code>.
<code>Types.SMALLINT</code> can have different logical database types, depending on the database dialect.
For MySQL, the example would convert to a <code>TINYINT</code> column type with no specified length.
If column or data type propagation is enabled for the source connector, the Debezium JDBC sink connector uses the mapping information to refine the data type mapping process and create a column with the type <code>TINYINT(1)</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Typically, the effect of using column or data type propagation is much greater when the same type of database is used for both the source and sink database.
We are continually looking at ways to improve this mapping across heterogeneous databases and the current type system allows us to continue to refine these mappings based on feedback.
If you find a mapping could be improved, please let us know.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jdbc-deployment"><a class="anchor" href="#jdbc-deployment"></a>Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To deploy a Debezium JDBC connector, you install the Debezium JDBC connector archive, configure the connector, and start the connector by adding its configuration to Kafka Connect.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p><a href="https://zookeeper.apache.org/">Apache ZooKeeper</a>, <a href="http://kafka.apache.org/">Apache Kafka</a>, and <a href="https://kafka.apache.org/documentation.html#connect">Kafka Connect</a> are installed.</p>
</li>
<li>
<p>Destination database is installed and configured to accept JDBC connections.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download the Debezium <a href="https://repo1.maven.org/maven2/io/debezium/debezium-connector-jdbc/2.2.1.Final/debezium-connector-jdbc-2.2.1.Final-plugin.tar.gz">JDBC connector plug-in archive</a>.</p>
</li>
<li>
<p>Extract the files into your Kafka Connect environment.</p>
</li>
<li>
<p>Optionally download the JDBC driver from Maven Central and extract the downloaded driver file to the directory that contains the JDBC sink connector JAR file.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Drivers for Oracle and Db2 are not automatically shipped with the JDBC sink connector and must be manually installed.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Add the driver JAR files to the path where the JDBC sink connector has been installed.</p>
</li>
<li>
<p>Make sure that the path where the JDBC sink connector is installed is part of <a href="https://kafka.apache.org/documentation/#connectconfigs">Kafka Connect&#8217;s <code>plugin.path</code></a>.</p>
</li>
<li>
<p>Restart your Kafka Connect process to pick up the new JAR files.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="jdbc-connector-configuration"><a class="anchor" href="#jdbc-connector-configuration"></a>Debezium JDBC connector configuration</h3>
<div class="paragraph">
<p>Typically, you register a Debezium JDBC connector by submitting a JSON request that specifies the configuration properties for the connector.
The following example shows a JSON request for registering an instance of the Debezium JDBC sink connector that consumes events from a topic called <code>orders</code> with the most common configuration settings:</p>
</div>
<div class="listingblock">
<div class="title">Example: Debezium JDBC connector configuration</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
    "name": "jdbc-connector",  <i class="conum" data-value="1"></i><b>(1)</b>
    "config": {
        "connector.class": "io.debezium.connector.jdbc.JdbcSinkConnector",  <i class="conum" data-value="2"></i><b>(2)</b>
        "tasks.max": "1",  <i class="conum" data-value="3"></i><b>(3)</b>
        "connection.url": "jdbc:postgresql://localhost/db",  <i class="conum" data-value="4"></i><b>(4)</b>
        "connection.username": "pguser",  <i class="conum" data-value="5"></i><b>(5)</b>
        "connection.password": "pgpassword",  <i class="conum" data-value="6"></i><b>(6)</b>
        "insert.mode": "upsert",  <i class="conum" data-value="7"></i><b>(7)</b>
        "delete.enabled": "true",  <i class="conum" data-value="8"></i><b>(8)</b>
        "primary.key.mode": "record_key",  <i class="conum" data-value="9"></i><b>(9)</b>
        "schema.evolution": "basic",  <i class="conum" data-value="10"></i><b>(10)</b>
        "database.time_zone": "UTC"  <i class="conum" data-value="11"></i><b>(11)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name that is assigned to the connector when you register it with Kafka Connect service.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The name of the JDBC sink connector class.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The maximum number of tasks to create for this connector.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The JDBC URL that the connector uses to connect to the sink database that it writes to.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The name of the database user used for authentication.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The password of the database user used for authentication.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>The <a href="#jdbc-property-insert-mode">insert.mode</a> that the connector uses.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Enables the deletion of records in the database.
For more information, see the <a href="#jdbc-property-delete-enabled">delete.enabled</a> configuration property.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Specifies the method used to resolve primary key columns.
For more information, see the <a href="#jdbc-property-primary-key-mode">primary.key.mode</a> configuration property.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Enables the connector to evolve the destination database&#8217;s schema.
For more information, see the <a href="#jdbc-property-schema-evolution">schema.evolution</a> configuration property.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>Specifies the timezone used when writing temporal field types.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a complete list of configuration properties that you can set for the Debezium JDBC connector, see <a href="#jdbc-connector-properties">JDBC connector properties</a>.</p>
</div>
<div class="paragraph">
<p>You can send this configuration with a <code>POST</code> command to a running Kafka Connect service.
The service records the configuration and starts a sink connector task(s) that performs the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connects to the database.</p>
</li>
<li>
<p>Consumes events from subscribed Kafka topics.</p>
</li>
<li>
<p>Writes the events to the configured database.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jdbc-connector-properties"><a class="anchor" href="#jdbc-connector-properties"></a>Connector properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Debezium JDBC sink connector has several configuration properties that you can use to achieve the connector behavior that meets your needs.
Many properties have default values.
Information about the properties is organized as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#jdbc-connector-properties-connection">Connection properties</a></p>
</li>
<li>
<p><a href="#jdbc-connector-properties-runtime">Runtime properties</a></p>
</li>
<li>
<p><a href="#jdbc-connector-properties-extendable">Extendable properties</a></p>
</li>
</ul>
</div>
<table id="jdbc-connector-properties-connection" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Connection properties</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-connection-url"></a><a href="#jdbc-property-connection-url"><code>connection.url</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The JDBC connection URL used to connect to the database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-connection-username"></a><a href="#jdbc-property-connection-username"><code>connection.username</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name of the database user account that the connector uses to connect to the database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-connection-password"></a><a href="#jdbc-property-connection-password"><code>connection.password</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The password that the connector uses to connect to the database.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-connection-pool-min-size"></a><a href="#jdbc-property-connection-pool-min-size"><code>connection.pool.min_size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>5</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the minimum number of connections in the pool.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-connection-pool-max-size"></a><a href="#jdbc-property-connection-pool-max-size"><code>connection.pool.min_size</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the maximum number of concurrent connections that the pool maintains.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-connection-pool-acquire-increment"></a><a href="#jdbc-property-connection-pool-acquire-increment"><code>connection.pool.acquire_increment</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>32</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the number of connections that the connector attempts to acquire if the connection pool exceeds its maximum size.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-connection-pool-timeout"></a><a href="#jdbc-property-connection-pool-timeout"><code>connection.pool.timeout</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>1800</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the number of seconds that an unused connection is kept before it is discarded.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="jdbc-connector-properties-runtime" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Runtime properties</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-database-time-zone"></a><a href="#jdbc-property-database-time-zone"><code>database.time_zone</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>UTC</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the timezone used when inserting JDBC temporal values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-delete-enabled"></a><a href="#jdbc-property-delete-enabled"><code>delete.enabled</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies whether the connector processes <code>DELETE</code> or <em>tombstone</em> events and removes the corresponding row from the database.
Use of this option requires that you set the <a href="#jdbc-property-primary-key-mode"><code>primary.key.mode</code></a> to <code>record.key</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-insert-mode"></a><a href="#jdbc-property-insert-mode"><code>insert.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>insert</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the strategy used to insert events into the database.
The following options are available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>insert</code></dt>
<dd>
<p>Specifies that all events should construct <code>INSERT</code>-based SQL statements.
Use this option only when no primary key is used, or when you can be certain that no updates can occur to rows with existing primary key values.</p>
</dd>
<dt class="hdlist1"><code>update</code></dt>
<dd>
<p>Specifies that all events should construct <code>UPDATE</code>-based SQL statements.
Use this option only when you can be certain that the connector receives only events that apply to existing rows.</p>
</dd>
<dt class="hdlist1"><code>upsert</code></dt>
<dd>
<p>Specifies that the connector adds events to the table using <code>upsert</code> semantics.
That is, if the primary key does not exist, the connector performs an <code>INSERT</code> operation, and if the key does exist, the connector performs an <code>UPDATE</code> operation.
When idempotent writes are required, the connector should be configured to use this option.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-primary-key-mode"></a><a href="#jdbc-property-primary-key-mode"><code>primary.key.mode</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>none</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies how the connector resolves the primary key columns from the event.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>Specifies that no primary key columns are created.</p>
</dd>
<dt class="hdlist1"><code>kafka</code></dt>
<dd>
<p>Specifies that the connector uses Kafka coordinates as the primary key columns.
The key coordinates are defined from the topic name, partition, and offset of the event, and are mapped to columns with the following names:</p>
<div class="ulist">
<ul>
<li>
<p><code>__connect_topic</code></p>
</li>
<li>
<p><code>__connect_partition</code></p>
</li>
<li>
<p><code>__connect_offset</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><code>record_key</code></dt>
<dd>
<p>Specifies that the primary key columns are sourced from the event&#8217;s record key.
If the record key is a primitive type, the <a href="#jdbc-property-primary-key-fields"><code>primary.key.fields</code></a> property is required to specify the name of the primary key column.
If the record key is a struct type, the <a href="#jdbc-property-primary-key-fields"><code>primary.key.fields</code></a> property is optional, and can be used to specify a subset of columns from the event&#8217;s key as the table&#8217;s primary key.</p>
</dd>
<dt class="hdlist1"><code>record_value</code></dt>
<dd>
<p>Specifies that the primary key columns is sourced from the event&#8217;s value.
You can set the <a href="#jdbc-property-primary-key-fields"><code>primary.key.fields</code></a> property to define the primary key as a subset of fields from the event&#8217;s value; otherwise all fields are used by default.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-primary-key-fields"></a><a href="#jdbc-property-primary-key-fields"><code>primary.key.fields</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>No default</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Either the name of the primary key column or a comma-separated list of fields to derive the primary key from.<br>
<br>
When <a href="#jdbc-property-primary-key-mode"><code>primary.key.mode</code></a> is set to <code>record_key</code> and the event&#8217;s key is a primitive type, it is expected that this property specifies the column name to be used for the key.<br>
<br>
When the <a href="#jdbc-property-primary-key-mode"><code>primary.key.mode</code></a> is set to <code>record_key</code> with a non-primitive key, or <code>record_value</code>, it is expected that this property specifies a comma-separated list of field names from either the key or value.
If the <a href="#jdbc-property-primary-key-mode"><code>primary.key.mode</code></a> is set to <code>record_key</code> with a non-primitive key, or <code>record_value</code>, and this property is not specifies, the connector derives the primary key from all fields of either the record key or record value, depending on the specified mode.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-quote-identifiers"></a><a href="#jdbc-property-quote-identifiers"><code>quote.identifiers</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>false</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies whether generated SQL statements use quotation marks to delimit table and column names.
See the <a href="#jdbc-quoting-case-sensitivity">Quoting and case sensitivity</a> section for more details.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-schema-evolution"></a><a href="#jdbc-property-schema-evolution"><code>schema.evolution</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>none</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies how the connector evolves the destination table schemas.
For more information, see <a href="#jdbc-schema-evolution">Schema evolution</a>.
The following options are available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>Specifies that the connector does not evolve the destination schema.</p>
</dd>
<dt class="hdlist1"><code>basic</code></dt>
<dd>
<p>Specifies that basic evolution occurs.
The connector adds missing columns to the table by comparing the incoming event&#8217;s record schema to the database table structure.</p>
</dd>
</dl>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-table-name-format"></a><a href="#jdbc-property-table-name-format"><code>table.name.format</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>${topic}</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies a string that determines how the destination table name is formatted, based on the topic name of the event.
The placeholder, <code>${topic}</code>, is replaced by the topic name.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table id="jdbc-connector-properties-extendable" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Extendable properties</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 25%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-column-naming-strategy"></a><a href="#jdbc-property-column-naming-strategy"><code>column.naming.strategy</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>i.d.c.j.n.DefaultColumnNamingStrategy</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the fully-qualified class name of a <code>ColumnNamingStrategy</code> implementation that the connector uses to resolve column names from event field names.<br>
<br>
By default, the connector uses the field name as the column name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="jdbc-property-table-naming-strategy"></a><a href="#jdbc-property-table-naming-strategy"><code>table.naming.strategy</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><code>i.d.c.j.n.DefaultTableNamingStrategy</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specifies the fully-qualified class name of a <code>TableNamingStrategy</code> implementation that the connector uses to resolve table names from incoming event topic names.<br>
<br>
The default behavior is to:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Replace the <code>${topic}</code> placeholder in the <a href="#jdbc-property-table-name-format"><code>table.name.format</code></a> configuration property with the event&#8217;s topic.</p>
</li>
<li>
<p>Sanitize the table name by replacing dots (<code>.</code>) with underscores (<code>_</code>).</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="jdbc-faq"><a class="anchor" href="#jdbc-faq"></a>Frequently asked questions</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Is the</strong> <code>ExtractNewRecordState</code> <strong>single message transformation required?</strong></dt>
<dd>
<p>No, that is actually one of the differentiating factors of the Debezium JDBC connector from other implementations.
While the connector is capable of ingesting flattened events like its competitors, it can also ingest Debezium&#8217;s complex change event structure natively, without requiring any specific type of transformation.</p>
</dd>
<dt class="hdlist1"><strong>If a column&#8217;s type is changed, or if a column is renamed or dropped, is this handled by schema evolution?</strong></dt>
<dd>
<p>No, the Debezium JDBC connector does not make any changes to existing columns.
The schema evolution supported by the connector is quite basic.
It simply compares the fields in the event structure to the table&#8217;s column list, and then adds any fields that are not yet defined as columns in the table.
If a column&#8217;s type or default value change, the connector does not adjust them in the destination database.
If a column is renamed, the old column is left as-is, and the connector appends a column with the new name to the table; however existing rows with data in the old column remain unchanged.
These types of schema changes should be handled manually.</p>
</dd>
<dt class="hdlist1"><strong>If a column&#8217;s type does not resolve to the type that I want, how can I enforce mapping to a different data type?</strong></dt>
<dd>
<p>The Debezium JDBC connector uses a sophisticated type system to resolve a column&#8217;s data type.
For details about how this type system resolves a specific field&#8217;s schema definition to a JDBC type, see the <a href="#jdbc-data-and-type-mappings">Data and column type mappings</a> section.
If you want to apply a different data type mapping, define the table manually to explicitly obtain the preferred column type.</p>
</dd>
<dt class="hdlist1"><strong>How do you specify a prefix or a suffix to the table name without changing the Kafka topic name?</strong></dt>
<dd>
<p>In order to add a prefix or a suffix to the destination table name, adjust the <a href="#jdbc-property-table-name-format">table.name.format</a> connector configuration property to apply the prefix or suffix that you want.
For example, to prefix all table names with <code>jdbc_</code>, specify the <code>table.name.format</code> configuration property with a value of <code>jdbc_${topic}</code>.
If the connector is subscribed to a topic called <code>orders</code>, the resulting table is created as <code>jdbc_orders</code>.</p>
</dd>
<dt class="hdlist1"><strong>Why are some columns automatically quoted, even though identifier quoting is not enabled?</strong></dt>
<dd>
<p>In some situations, specific column or table names might be explicitly quoted, even when <code>quote.identifiers</code> is not enabled.
This is often necessary when the column or table name starts with or uses a specific convention that would otherwise be considered illegal syntax.
For example, when the <a href="#jdbc-property-primary-key-mode">primary.key.mode</a> is set to <code>kafka</code>, some databases only permit column names to begin with an underscore if the column&#8217;s name is quoted.
Quoting behavior is dialect-specific, and varies among different types of database.</p>
</dd>
</dl>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2024 Debezium Community (Rev: <span class="truncated"><a href="https://github.com/debezium/debezium/commit/e9a37c1c5fcd4717b9c45ca7e6681662356254b8">e9a37c1c</a></span>)
            
        </div>
    </footer>
</main></div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../../debezium-antora/js/site.js"></script>
<script async src="../../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>