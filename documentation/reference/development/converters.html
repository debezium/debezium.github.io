<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Converters :: Debezium Documentation</title>
    <link rel="canonical" href="https://debezium.io/documentation/reference/stable/development/converters.html">
    <meta name="generator" content="Antora 3.1.7">
<link rel="stylesheet" href="../../debezium-antora/css/site.css">
<link rel="stylesheet" href="../../debezium-antora/css/debezium-antora.css">
<link rel="stylesheet" href="../../debezium-antora/css/highlightjs-dark.css">
<link rel="stylesheet" href="https://static.jboss.org/css/rhbar.css">
<script src="//static.jboss.org/theme/js/libs/jquery/jquery-1.9.1.js"></script>
<script src="../../debezium-antora/js/jquery.ba-floatingscrollbar.js"></script>
</head>
<body class="article">
<header class="header">
  <div id="rhbar">
      <a class="jbdevlogo" href="https://developers.redhat.com"></a>
      <a class="rhlogo" href="https://www.redhat.com"></a>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
          <img src="/assets/images/color_white_debezium_type_600px.svg" style="height: 32px; margin-right: 14px;"/>
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="/documentation/faq">FAQ</a>
        <a class="navbar-item" href="/documentation">DOCUMENTATION</a>
        <a class="navbar-item" href="/releases">RELEASES</a>
        <a class="navbar-item" href="/community">COMMUNITY</a>
        <a class="navbar-item" href="/blog">BLOG</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="reference" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Debezium nightly Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Getting Started</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tutorial.html">Tutorial</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../install.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../postgres-plugins.html">PostgreSQL Decoding Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../features.html">Features</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/avro.html">Avro Serialization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/topic-auto-create-config.html">Customizing Topic Auto-Creation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/signalling.html">Sending Signals to Debezium</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../configuration/notification.html">Receive notifications from Debezium</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Connectors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mysql.html">MySQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mariadb.html">MariaDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/mongodb.html">MongoDB</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/postgresql.html">PostgreSQL</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/oracle.html">Oracle</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/sqlserver.html">SQL Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/db2.html">Db2</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/cassandra.html">Cassandra</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/vitess.html">Vitess</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/spanner.html">Spanner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/jdbc.html">JDBC</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connectors/informix.html">Informix</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transformations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/topic-routing.html">Topic Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-flattening.html">New Record State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-event-flattening.html">MongoDB New Document State Extraction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/event-changes.html">Event Changes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/outbox-event-router.html">Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/mongodb-outbox-event-router.html">MongoDB Outbox Event Router</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/filtering.html">Message Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/schema-change-event-filter.html">Schema Change Event Filtering</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/content-based-routing.html">Content-Based Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/applying-transformations-selectively.html">Using SMT Predicates to Selectively Apply Transformations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/partition-routing.html">Partition Routing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/header-to-value.html">HeaderToValue</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timezone-converter.html">Timezone Converter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/timescaledb.html">TimescaleDB Integration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../transformations/convert-cloudevent-to-saveable-form.html">Convert CloudEvents to Saveable Form</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Post Processors</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/index.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../post-processors/reselect-columns.html">Reselect Columns</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">API and SPI</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="engine.html">Debezium Engine</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="converters.html">Custom Converters</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Integrations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/serdes.html">Change Event SerDes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/outbox.html">Outbox Quarkus Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/cloudevents.html">CloudEvents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/tracing.html">OpenTelemetry</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../integrations/testcontainers.html">Integration Testing with Testcontainers</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Operations</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-server.html">Debezium Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/monitoring.html">Monitoring</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/kubernetes.html">Running on Kubernetes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/openshift.html">Running on Openshift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../operations/debezium-ui.html">Debezium UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Debezium Documentation</span>
    <span class="version">nightly</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Debezium Documentation</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="/documentation/reference/nightly/index.html">nightly</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.7/index.html">2.7</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.6/index.html">2.6</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.5/index.html">2.5</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.4/index.html">2.4</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.3/index.html">2.3</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.2/index.html">2.2</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.1/index.html">2.1</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/2.0/index.html">2.0</a>
        </li>
        <li class="version">
          <a href="/documentation/reference/1.9/index.html">1.9</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main role="main" class="main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../stable/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Debezium Documentation</a></li>
    <li>API and SPI</li>
    <li><a href="converters.html">Custom Converters</a></li>
  </ul>
</nav>
    <div class="page-versions-container">
    Version:
    <div class="page-versions">
        <button class="version-menu-toggle versions-menu-current" title="Show other versions of page">nightly</button>
        <div class="version-menu">
                <a class="version is-current" href="/documentation/reference/nightly/index.html">nightly</a>
                <a class="version" href="/documentation/reference/2.7/index.html">2.7</a>
                <a class="version" href="/documentation/reference/3.0/index.html">3.0</a>
                <a class="version" href="/documentation/reference/2.6/index.html">2.6</a>
                <a class="version" href="/documentation/reference/2.5/index.html">2.5</a>
                <a class="version" href="/documentation/reference/2.4/index.html">2.4</a>
                <a class="version" href="/documentation/reference/2.3/index.html">2.3</a>
                <a class="version" href="/documentation/reference/2.2/index.html">2.2</a>
                <a class="version" href="/documentation/reference/2.1/index.html">2.1</a>
                <a class="version" href="/documentation/reference/2.0/index.html">2.0</a>
                <a class="version" href="/documentation/reference/1.9/index.html">1.9</a>
        </div>
        |
    </div>
    </div>
  <div class="edit-this-page"><a href="https://github.com/debezium/debezium/edit/main/documentation/modules/ROOT/pages/development/converters.adoc">Edit this Page</a></div>
  </div>
<div class="article-grid">
<div class="article-cell1">
<article class="doc">
        
    <div class="version-banner version-banner-development">
    You are viewing documentation for an unreleased version of Debezium.
    <br/>
            If you want to view the latest stable version of this page, please go <a href=/documentation/reference/stable/index.html>here</a>.
            
</div>            <h1 class="page">Custom Converters</h1>
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_datatype_conversion">Datatype Conversion</a></li>
<li><a href="#implementing-a-custom-converter">Implementing custom converters</a>
<ul class="sectlevel2">
<li><a href="#debezium-custom-converter-methods">Custom converter methods</a></li>
<li><a href="#debezium-custom-converter-example">Debezium custom converter example</a></li>
<li><a href="#debezium-and-kafka-connect-api-module-dependencies">Debezium and Kafka Connect API module dependencies</a></li>
</ul>
</li>
<li><a href="#configuring-and-using-converters">Configuring and Using Converters</a>
<ul class="sectlevel2">
<li><a href="#deploying-a-debezium-custom-converter">Deploying a custom converter</a></li>
<li><a href="#configuring-a-connectors-to-use-a-custom-converter">Configuring a connector to use a custom converter</a></li>
</ul>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This feature is currently in incubating state, i.e. exact semantics, configuration options etc. may change in future revisions, based on the feedback we receive. Please let us know if you encounter any problems while using this extension.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_datatype_conversion"><a class="anchor" href="#_datatype_conversion"></a>Datatype Conversion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each field in a Debezium change event record represents a field or column in the source table or data collection.
When a connector emits a change event record to Kafka, it converts the data type of each field in the source to a Kafka Connect schema type.
Column values are likewise converted to match the schema type of the destination field.
For each connector, a default mapping specifies how the connector converts each data type.
These default mappings are described in the data types documentation for each connector.</p>
</div>
<div class="paragraph">
<p>While the default mappings are generally sufficient, for some applications you might want to apply an alternate mapping.
For example, you might need a custom mapping if the default mapping exports a column using the format of milliseconds since the UNIX epoch, but your downstream application can only consume the column values as formatted strings.
You customize data type mappings by developing and deploying a custom converter.
You configure custom converters to act on all columns of a certain type, or you can narrow their scope so that they apply to a specific table column only.
The converter function intercepts data type conversion requests for any columns that match a specified criteria, and then performs the specified conversion.
The converter ignores columns that do not match the specified criteria.</p>
</div>
<div class="paragraph">
<p>Custom converters are Java classes that implement the Debezium service provider interface (SPI).
You enable and configure a custom converter by setting the <code>converters</code> property in the connector configuration.
The <code>converters</code> property specifies the converters that are available to a connector, and can include sub-properties that further modify conversion behavior.</p>
</div>
<div class="paragraph">
<p>After you start a connector, the converters that are enabled in the connector configuration are instantiated and are added to a registry.
The registry associates each converter with the columns or fields for it to process.
Whenever Debezium processes a new change event, it invokes the configured converter to convert the columns or fields for which it is registered.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The instructions that follow apply to Debezium relational database source connectors only.
You cannot use this information to create a custom converter for the Debezium MongoDB connector, or for the Debezium JDBC sink connector.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementing-a-custom-converter"><a class="anchor" href="#implementing-a-custom-converter"></a>Implementing custom converters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following example shows a converter implementation of a Java class that implements the interface <code>io.debezium.spi.converter.CustomConverter</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public interface CustomConverter&lt;S, F extends ConvertedField&gt; {

    @FunctionalInterface
    interface Converter {  <i class="conum" data-value="1"></i><b>(1)</b>
        Object convert(Object input);
    }

    public interface ConverterRegistration&lt;S&gt; { <i class="conum" data-value="2"></i><b>(2)</b>
        void register(S fieldSchema, Converter converter); <i class="conum" data-value="3"></i><b>(3)</b>
    }

    void configure(Properties props);

    void converterFor(F field, ConverterRegistration&lt;S&gt; registration); <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Descriptions of fields in a Java converter class that implements the <code>io.debezium.spi.converter.CustomConverter</code> interface</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts data from one type to another.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Callback for registering a converter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registers the given schema and converter for the current field.
Should not be invoked more than once for the same field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registers the customized value and schema converter for use with a specific field.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="debezium-custom-converter-methods"><a class="anchor" href="#debezium-custom-converter-methods"></a>Custom converter methods</h3>
<div class="paragraph">
<p>Implementations of the <code>CustomConverter</code> interface must include the following methods:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>configure()</code></dt>
<dd>
<p>Passes the properties specified in the connector configuration to the converter instance.
The <code>configure</code> method runs when the connector is initialized.
You can use a converter with multiple connectors and modify its behavior based on the connector&#8217;s property settings.<br>
The <code>configure</code> method accepts the following argument:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>props</code></dt>
<dd>
<p>Contains the properties to pass to the converter instance.
Each property specifies the format for converting the values of a particular type of column.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"><code>converterFor()</code></dt>
<dd>
<p>Registers the converter to process specific columns or fields in the data source.
Debezium invokes the <code>converterFor()</code> method to prompt the converter to call <code>registration</code> for the conversion.
The <code>converterFor</code> method runs once for each column.<br>
The method accepts the following arguments:</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>field</code></dt>
<dd>
<p>An object that passes metadata about the field or column that is processed.
The column metadata can include the name of the column or field, the name of the table or collection, the data type, size, and so forth.</p>
</dd>
<dt class="hdlist1"><code>registration</code></dt>
<dd>
<p>An object of type <code>io.debezium.spi.converter.CustomConverter.ConverterRegistration</code> that provides the target schema definition and the code for converting the column data.
The converter calls the <code>registration</code> parameter when the source column matches the type that the converter should process.
  calls the <code>register</code> method to define the converter for each column in the schema.
Schemas are represented using the Kafka Connect <a href="https://kafka.apache.org/31/javadoc/org/apache/kafka/connect/data/SchemaBuilder.html"><code>SchemaBuilder</code></a> API.
In the future, an independent schema definition API will be added.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="debezium-custom-converter-example"><a class="anchor" href="#debezium-custom-converter-example"></a>Debezium custom converter example</h3>
<div class="paragraph">
<p>The following example implements a simple converter that performs the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Runs the <code>configure</code> method, which configures the converter based on the value of the <code>schema.name</code> property that is specified in the connector configuration.
The converter configuration is specific to each instance.</p>
</li>
<li>
<p>Runs the <code>converterFor</code> method, which registers the converter to process values in source columns for which the data type is set to <code>isbn</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Identifies the target <code>STRING</code> schema based on the value that is specified for the <code>schema.name</code> property.</p>
</li>
<li>
<p>Converts ISBN data in the source column to <code>String</code> values.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="example-debezium-simple-custom-converter" class="exampleblock">
<div class="title">Example 1. A simple custom converter</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static class IsbnConverter implements CustomConverter&lt;SchemaBuilder, RelationalColumn&gt; {

    private SchemaBuilder isbnSchema;

    @Override
    public void configure(Properties props) {
        isbnSchema = SchemaBuilder.string().name(props.getProperty("schema.name"));
    }

    @Override
    public void converterFor(RelationalColumn column,
            ConverterRegistration&lt;SchemaBuilder&gt; registration) {

        if ("isbn".equals(column.typeName())) {
            registration.register(isbnSchema, x -&gt; x.toString());
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="debezium-and-kafka-connect-api-module-dependencies"><a class="anchor" href="#debezium-and-kafka-connect-api-module-dependencies"></a>Debezium and Kafka Connect API module dependencies</h3>
<div class="paragraph">
<p>A custom converter Java project has compile dependencies on the Debezium API and Kafka Connect API library modules.
These compile dependencies must be included in your project&#8217;s <code>pom.xml</code>, as shown in the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.debezium&lt;/groupId&gt;
    &lt;artifactId&gt;debezium-api&lt;/artifactId&gt;
    &lt;version&gt;${version.debezium}&lt;/version&gt; <i class="conum" data-value="1"></i><b>(1)</b>
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;
    &lt;artifactId&gt;connect-api&lt;/artifactId&gt;
    &lt;version&gt;${version.kafka}&lt;/version&gt; <i class="conum" data-value="2"></i><b>(2)</b>
&lt;/dependency&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Descriptions of compile dependency versions in <code>pom.xml</code></caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${version.debezium}</code> represents the version of the Debezium connector.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${version.kafka}</code> represents the version of Apache Kafka in your environment.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-and-using-converters"><a class="anchor" href="#configuring-and-using-converters"></a>Configuring and Using Converters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Custom converters act on specific columns or column types in a source table to specify how to convert the data types in the source to Kafka Connect schema types.
To use a custom converter with a connector, you deploy the converter JAR file alongside the connector file, and then configure the connector to use the converter.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Custom converters are designed to modify messages emitted by Debezium relational database source connectors.
You cannot configure either the Debezium MongoDB connector, or the Debezium JDBC sink connector to use a custom converter.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="deploying-a-debezium-custom-converter"><a class="anchor" href="#deploying-a-debezium-custom-converter"></a>Deploying a custom converter</h3>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have a custom converter Java program.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To use a custom converter with a Debezium connector, export the Java project to a JAR file, and copy the file to the directory that contains the JAR file for each Debezium connector that you want to use it with.<br>
<br>
For example, in a typical deployment, the Debezium connector files are stored in subdirectories of a Kafka Connect directory (<code>/kafka/connect</code>), with each connector JAR in its own subdirectory (<code>/kafka/connect/debezium-connector-db2</code>, <code>/kafka/connect/debezium-connector-mysql</code>, and so forth).
To use a converter with a connector, add the converter JAR file to the connector&#8217;s subdirectory.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To use a converter with multiple connectors, you must place a copy of the converter JAR file in each connector subdirectory.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuring-a-connectors-to-use-a-custom-converter"><a class="anchor" href="#configuring-a-connectors-to-use-a-custom-converter"></a>Configuring a connector to use a custom converter</h3>
<div class="paragraph">
<p>To enable a connector to use the custom converter, add properties to specify the name and class of the converter to the configuration of a Debezium source connector.
You cannot configure the Debezium JDBC sink connector to use a custom converter.
If the converter requires further information to customize the formats of specific data types, you can define other configuration options to provide that information.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You <a href="#implementing-a-custom-converter">created</a> and <a href="#deploying-a-debezium-custom-converter">deployed a custom converter</a>.</p>
</li>
<li>
<p>A Debezium relational database source connector is deployed.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>Enable a converter for a connector instance by adding the following mandatory properties to the connector configuration:</p>
<div class="listingblock">
<div class="content">
<pre>converters: <em>&lt;converterSymbolicName&gt;</em> <i class="conum" data-value="1"></i><b>(1)</b>
<em>&lt;converterSymbolicName&gt;</em>.type: <em>&lt;fullyQualifiedConverterClassName&gt;</em> <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Description of connector configuration properties for enabling a converter</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Item</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The mandatory <code>converters</code> property enumerates a comma-separated list of symbolic names of the converter instances to use with the connector.
The values listed for this property serve as prefixes in the names of other properties that you specify for the converter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The mandatory <code><em>&lt;converterSymbolicName&gt;</em>.type</code> property specifies the name of the class that implements the converter.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, for the earlier <a href="#example-debezium-simple-custom-converter">custom converter example</a>, you would add the following properties to the connector configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>converters: isbn
isbn.type: io.debezium.test.IsbnConverter</pre>
</div>
</div>
</li>
<li>
<p>To associate other properties with a custom converter, prefix the property names with the symbolic name of the converter, followed by a dot (<code>.</code>).
The symbolic name is a label that you specify as a value for the <code>converters</code> property.
For example, to add a property for the preceding <code>isbn</code> converter to specify the <code>schema.name</code> to pass to the <code>configure</code> method in the converter code, add the following property:</p>
<div class="listingblock">
<div class="content">
<pre>isbn.schema.name: io.debezium.postgresql.type.Isbn</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
</div>
<div class="article-cell2">
</div>
</div>

<div id="toc-rightbar"></div>    <footer class="footer">
        <div class="wrapper">
            <div class="copyright">Copyright &copy; 2024 Debezium Community (Rev: <span class="truncated"><a href="https://github.com/debezium/debezium/commit/c10db16cefdb39808e1d537d0fe8a22458178360">c10db16c</a></span>)
            
        </div>
    </footer>
</main></div>
<script>
    /* Make sure TOC carets are expanded if sub-elements exist */
    $("#toc").each(function(i,v) {
      $(this).closest('article').addClass('with-toc');
    });

    $("#toc ul.sectlevel1 > li").each(function(i,v) {
      $(this).has("ul").addClass("expanded");
    });

    $(function() {
        /* Expands all the documentation submenus */
        $(".nav-list > .nav-item:not(.is-active) .nav-item-toggle").click();
    });

    /**
     * This checks if a "#toc" element exists in the DOM and if so:
     *
     *  1. Appends a cloned copy of the #toc node to the #toc-rightbar div.
     *  2. Forces the #toc-rightbar div to be visible.
     *  3. Adds the .toc-right class to the #article-wrapper div to restrict the article's overall width.
     */
    var $toc = $("#toc");
    if ( $toc.length ) {
        $("#toc-rightbar").append($toc.clone());
        $("body .main").addClass("with-toc");
    }

    /**
     * In order to make CSS changes that are backward compatible with old adoc files, this applies a version
     * style to the body tag so we can use it to differentiate between CSS styles per version if needed,
     * such as tfoot rows.
     */
    var $version = $("body .nav-container").data("version");
    var $versionClass = "version-" + $version;
    $versionClass = $versionClass.replace('.','-');
    $("body").addClass($versionClass);

    /** A CSS trick to wrap long-width tables in a div that can be scrolled on smaller screens */
    $("table.tableblock").wrap("<div class='table-scroll-wrapper'></div>");

    $(function() {
        /* apply floating scrollbar to the scroll-wrapper */
        $(".table-scroll-wrapper").floatingScrollbar();
    });

</script>
<script src="../../debezium-antora/js/site.js"></script>
<script async src="../../debezium-antora/js/vendor/highlight.js"></script>

<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  try {
    var pageTracker = _gat._getTracker("UA-10656779-1");
    pageTracker._trackPageview();
  } catch(err) {}
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76464546-1', 'auto');
  ga('send', 'pageview');
  ga('set', 'anonymizeIp', true);
  ga('require', 'linkid', 'linkid.js');
</script>
</body>
</html>